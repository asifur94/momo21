window.__require=function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({AdapterMgr:[function(t,e,n){"use strict";cc._RF.push(e,"9848co1bh1O76pCrg2kIN9s","AdapterMgr");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AdaptaterType=void 0;var o,i=cc._decorator,a=i.ccclass,s=(i.property,function(){function t(){this._heightDelY=0}var e;return e=t,Object.defineProperty(t,"inst",{get:function(){return null==this._instance&&(this._instance=new e,this._instance.reCalculateSize(),this._instance.visibleSize=cc.view.getVisibleSize(),cc.log("visiable size: "+this._instance.visibleSize)),this._instance},enumerable:!1,configurable:!0}),t.prototype.reCalculateSize=function(){var t=cc.view.getFrameSize(),e=cc.view.getDesignResolutionSize();cc.log(t),cc.log(e),this._heightDelY=e.height/(e.width/t.width-t.height)/2,cc.log("dexY="+this._heightDelY)},t.prototype.getBotDely=function(){var t=cc.view.getFrameSize(),n=0;return t.height/t.width>2&&(n=e.safeBot),this._heightDelY+n},t.prototype.getTopDely=function(){var t=cc.view.getFrameSize(),n=0;return t.height/t.width>1.8&&(n=e.safeTop),this._heightDelY+n},t.prototype.adapatByType=function(t,e,n,r){void 0===r&&(r=null);var i=e.getComponent(cc.Widget);switch(i||(i=e.addComponent(cc.Widget)),t){case o.Top:if(cc.sys.platform===cc.sys.WECHAT_GAME){var a=window.wx.getMenuButtonBoundingClientRect(),s=window.wx.getSystemInfoSync();n=cc.find("Canvas").height*(a.top/s.screenHeight)}i.top=n||this.getTopDely(i),i.isAbsoluteTop=!0,i.isAlignTop=!0;break;case o.Bottom:i.isAlignBottom=!0,i.bottom=n||this.getBotDely(i),i.isAbsoluteBottom=!0;break;case o.Left:i.left=n||0,i.isAbsoluteLeft=!0,i.isAlignLeft=!0;break;case o.Right:i.right=n||0,i.isAbsoluteRight=!0,i.isAlignRight=!0;break;case o.FullScreen:i.right=0,i.left=0,i.top=0,i.bottom=0,i.isAlignLeft=!0,i.isAlignRight=!0,i.isAlignBottom=!0,i.isAlignTop=!0}i.target=r||cc.find("Canvas"),i.updateAlignment()},t.prototype.removeAdaptater=function(t){t.getComponent(cc.Widget)&&t.removeComponent(cc.Widget)},t.safeTop=44,t.safeBot=20,t._instance=null,e=r([a],t)}());n.default=s,function(t){t[t.Center=0]="Center",t[t.Top=1]="Top",t[t.Bottom=2]="Bottom",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.FullScreen=5]="FullScreen"}(o=n.AdaptaterType||(n.AdaptaterType={})),cc._RF.pop()},{}],BigNumUtils:[function(t,e,n){"use strict";var r;cc._RF.push(e,"c4b72NccXhGKofOUM3hVrvP","BigNumUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.RountType=void 0,function(t){t[t.Round=0]="Round",t[t.Floor=1]="Floor",t[t.Ceil=2]="Ceil"}(r=n.RountType||(n.RountType={}));var o=function(){function t(){}return t.BNPlus=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[0,0],r=0;r<t.length;r++){var o,i,a=t[r],s=+a;0===s||s&&s!==1/0?(i=a<10?0:Math.floor(Math.log10(+a)+1e-6),o=a<10?a:a/Math.pow(10,i)):a?(o=+(a=a.split("e"))[0]||0,i=+a[1]||0):(o=0,i=0),i>n[1]?(n[0]/=Math.pow(10,i-n[1]),n[0]+=o,n[1]=i):n[0]+=o/Math.pow(10,n[1]-i)}for(var c=n[0]>=0?1:-1,u=Math.abs(n[0]);u<1&&n[1]>0;)u*=10,n[1]-=1;for(;u>10;)u/=10,n[1]+=1;return(u*=c)+"e"+n[1]},t.BNMinus=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[0,0],r=0;r<t.length;r++){var o,i,a=t[r],s=r,c=+a;0===c||c&&c!==1/0?(i=a<10?0:Math.floor(Math.log10(+a)+1e-6),o=a<10?a:a/Math.pow(10,i)):(o=+(a=a.split("e"))[0],i=+a[1]),s?n[1]<i?(n[0]=n[0]/Math.pow(10,i-n[1])-o,n[1]=i):n[0]-=o/Math.pow(10,n[1]-i):(n[0]=o,n[1]=i)}for(var u=n[0]>=0?1:-1,l=Math.abs(n[0]);l<1&&n[1]>0;)l*=10,n[1]-=1;for(;l>10;)l/=10,n[1]+=1;return(l*=u)+"e"+n[1]},t.BNTimes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[0,0];t.forEach(function(t,e){var r,o,i=+t;0===i||i&&i!==1/0?(o=t<10?0:Math.floor(Math.log10(+t)+1e-6),r=t<10?t:t/Math.pow(10,o)):t?(r=+(t=t.split("e"))[0]||0,o=+t[1]||0):(r=1,o=0),e?(n[0]*=r,n[1]+=o,n[0]>1e300&&(n[0]/=1e300,n[1]+=300)):(n[0]=r,n[1]=o)});for(var r=n[0]>=0?1:-1,o=Math.abs(n[0]);o<1&&n[1]>0;)o*=10,n[1]-=1;for(;o>10;)o/=10,n[1]+=1;return o*r+"e"+n[1]},t.BNDevide=function(t,e){if(0==+e)return 0;var n=[0,0],r=1;[t,e].forEach(function(t,e){var o,i,a=+t,s=Math.abs(a);0===s||s&&s!==1/0?(i=s<10?0:Math.floor(Math.log10(s)+1e-6),o=s<10?s:s/Math.pow(10,i)):(a=+(t=t.split("e"))[0],o=Math.abs(a),i=+t[1]),r*=a>=0?1:-1,0===e?(n[0]=o,n[1]=i):(n[0]/=o,n[1]-=i)});for(var o=Math.abs(n[0]);o<1&&n[1]>0;)o*=10,n[1]-=1;for(;o>10;)o/=10,n[1]+=1;return o*=r,n[1]<100?o*Math.pow(10,n[1]):this.BNTimes(o,this.BNPow(10,n[1]))},t.BNCompare=function(t,e){var n=[0,0],r=[0,0];return[t,e].forEach(function(t,e){var o=+t;0===o||o&&o!==1/0?(r[e]=t<10?0:Math.floor(Math.log10(+t)+1e-6),n[e]=t<10?t:t/Math.pow(10,r[e])):(t=t.split("e"),n[e]=+t[0],r[e]=+t[1])}),n[0]*n[1]<0?n[0]>0?1:-1:r[1]>r[0]?-1:r[1]<r[0]?1:n[1]>n[0]?-1:n[1]<n[0]?1:0},t.BNPow=function(t,e){if(!t)return"0";if(!e)return"1";var n=Math.floor(Math.log(1e300)/Math.log(t)),r=1;if((n=Math.max(n,1))>=e)r=Math.pow(t,e);else{for(var o=Math.floor(e/n),i=[],a=Math.pow(t,n),s=0;s<o;s++)i.push(a);i.push(Math.pow(t,e-n*o)),r=this.BNTimes.apply(this,i)}return r},t.BNMax=function(t,e){return this.BNCompare(t,e)>0?t:e},t.BNMin=function(t,e){return this.BNCompare(t,e)>0?e:t},t.BNLog=function(t){var e=+t;if(0===e||e&&e!==1/0){var n=e>=0?1:-1;return e=Math.abs(e),n*Math.log10(e)}return+t.split("e")[1]},t.BNSqrt=function(t){var e=+t;if(0===e||e&&e!==1/0)return Math.sqrt(e);var n=t.split("e"),r=+n[0],o=+n[1];return Math.sqrt(r)+"e"+o/2},t.BNSqrtEx=function(t,e){var n=+t;if(0===n||n&&n!==1/0)return Math.pow(n,1/e);var r=t.split("e"),o=+r[0],i=+r[1];return Math.pow(o,1/e)+"e"+i/e},t.BNFloor=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.floor(e):t},t.BNCeil=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.ceil(e):t},t.BNRound=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.round(e):t},t.BN2Number=function(t){var e=+t;if(0===e||e&&e!==1/0)return e;var n=t.split("e");return+n[0]*Math.pow(10,n[1])},t.getOwnString=function(t){return this.getNumberString(t,void 0,void 0,r.Floor)},t.getCostString=function(t){return this.getNumberString(t,void 0,void 0,r.Ceil)},t.getNumberString=function(t,e,n,o){var i,a;void 0===e&&(e=0),void 0===o&&(o=r.Round);var s,c=+t;if(0===c||c&&c!==1/0){if(t<1e3)return this.roundNum(t,o,e);var u=""+Math.round(t),l=0;if(~u.indexOf("e")){var h=+u.split("e")[0],d=+u.split("e")[1];l=d+=Math.floor(Math.log10(h))}else l=Math.floor(Math.log10(t));i=~u.indexOf("e")?+u.split("e")[0]*Math.pow(10,l%3):+u.slice(0,l%3+4)/1e3,a=l/3>>0}else{if(+(t=t.split("e"))[1]<3){var _=t[0]*Math.pow(10,t[1]);return this.roundNum(_,o,e)}for(i=t[0]*Math.pow(10,t[1]%3);i>1e3;)i/=1e3,t[1]=+t[1]+3;a=t[1]/3>>0}if(a<4)s=["","K","M","B"][a];else{var p=(a-4)/26>>0,f=p/26>>0,y=(a-4)%26,v="abcdefghijklmnopqrstuvwxyz",g=v.toUpperCase();s=(f<2?v:g)[p%26]+(f%2?g:v)[y]}return void 0===n&&(n=i<10?2:i<100?1:0),this.roundNum(i,o,n)+s},t.roundNum=function(t,e,n){var o,i;if(o=e===r.Round?Math.round:e===r.Ceil?Math.ceil:Math.floor,0===n)i=o(t);else{var a=Math.pow(10,n);i=o(a*t)/a}return i.toFixed(n)},t.getFixNumber=function(t,e){void 0===e&&(e=1);var n=Math.pow(10,e);return Math.floor(t*n)/n},t.getPercentString=function(t,e){return void 0===e&&(e=1),"string"==typeof t?this.getNumberString(this.BNTimes(t,100),e)+"%":this.getNumberString(100*t,e)+"%"},t}();n.default=o,cc._RF.pop()},{}],Binder:[function(t,e,n){"use strict";cc._RF.push(e,"3fcd2aZmlpMwpmgTdYYvZwO","Binder"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.bindComponent=function(t){this._bindSubNode(t.node,t)},t.prototype._bindSubNode=function(t,e){var n=this,r=t.name,o=e.bindNodes;for(var i in o){var a=o[i].replace("_",".");i==r&&(null!=e[""+r]&&cc.log(r+" \u5df2\u7ecf\u88ab\u7ed1\u5b9a\u4e86, \u8bf7\u68c0\u67e5\u60a8\u662f\u5426\u51fa\u73b0\u4e86\u91cd\u540d\u7684\u60c5\u51b5!"),e[""+r]="cc.Node"===a?t:t.getComponent(a))}t.children.forEach(function(t){n._bindSubNode(t,e)})},t}();n.default=new r,cc._RF.pop()},{}],BroadCast:[function(t,e,n){"use strict";cc._RF.push(e,"f90f7dcgAdJVp20E5qLB1g6","BroadCast"),Object.defineProperty(n,"__esModule",{value:!0}),n.ListenerBinding=n.Broadcast=void 0;var r=function(){function t(){this.bindings=[]}return t.prototype.on=function(t,e){var n=new o(t,e,!1,this);return this.bindings.push(n),n},t.prototype.once=function(t,e){var n=new o(t,e,!0,this);return this.bindings.push(n),n},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=!1,r=0,o=this.bindings;r<o.length;r++){var i=o[r];i.hasDestroyed?n=!0:i.execute.apply(i,t)}if(n)for(var a=0;a<this.bindings.length;a++)this.bindings[a].hasDestroyed&&(this.bindings.splice(a,1),a--)},t.prototype.get=function(t,e){for(var n=0,r=this.bindings;n<r.length;n++){var o=r[n];if(o.listener==t&&o.target==e&&!o.hasDestroyed)return o}return null},t.prototype.has=function(t,e){for(var n=0,r=this.bindings;n<r.length;n++){var o=r[n];if(o.listener==t&&o.target==e&&!o.hasDestroyed)return!0}return!1},t.prototype.remove=function(t,e){for(var n=0,r=this.bindings;n<r.length;n++){var o=r[n];if(o.listener==t&&o.target==e&&!o.hasDestroyed)return o.destroy()}},t.prototype.removeAll=function(){for(;this.bindings.length;)this.bindings.pop().destroy()},t}();n.Broadcast=r;var o=function(){function t(t,e,n,r){var o=this;this.destroySelf=function(){o.destroy()},this.listener=t,this.target=e,this.once=n,this.broadcast=r,this.hasDestroyed=!1}return t.prototype.execute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.hasDestroyed){var n=this.listener.apply(this.target,t);return this.once&&this.destroy(),n}return null},t.prototype.destroy=function(){this.listener=null,this.target=null,this.once=null,this.broadcast=null,this.hasDestroyed=!0},t}();n.ListenerBinding=o,cc._RF.pop()},{}],BuildingBtn:[function(t,e,n){"use strict";cc._RF.push(e,"92ecdiDrB5PB67k50mMOvIx","BuildingBtn");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("mobx"),u=t("../store/GlobalStore"),l=t("../store/observer"),h=t("../UIFrame/Binder"),d=t("../UIFrame/CocosHelper"),_=t("../UIFrame/indexFrame"),p=t("../utils/common"),f=cc._decorator.ccclass,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.icon=null,e.img=null,e.titleGrp=null,e}return o(e,t),e.prototype.onLoad=function(){h.default.bindComponent(this),this.inAnim(),this.getComponent(_.ButtonPlus).addClick(this.showDes,this),this.node.on("mouseenter",this.clickEvent.bind(this)),this.node.on("mouseleave",this.clickEvent.bind(this))},e.prototype.inAnim=function(){},e.prototype.start=function(){u.globalStore.buildingPos[this.node.name]=this.node.getPosition(),this.startAni()},e.prototype.clickEvent=function(t){switch(t.stopPropagation,t.type){case"mouseenter":this.zoomIn();break;case"mouseleave":this.zoomOut()}},e.prototype.showDes=function(){u.globalStore.jumpIdx=parseInt(this.node.name),u.globalStore.foucs=!0},e.prototype.watchFoucsIdx=function(){this.node.name==u.globalStore.jumpIdx+""?p.default.setNodeImg("component/arrowbtn2",this.img):p.default.setNodeImg("component/arrowbtn1",this.img)},e.prototype.startAni=function(){return a(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return this.titleGrp.opacity=0,t=this.node.position.y,this.node.y=t-50,this.node.active=!1,[4,p.default.sleep(1e3)];case 1:return n.sent(),this.node.active=!0,e=cc.tween().to(.2,{y:t+15}).to(.15,{y:t-10}).to(.15,{y:t+10}).to(.15,{y:t-5}).to(.15,{y:t+5}).to(.15,{y:t}),[4,d.default.runTweenSync(this.node,e)];case 2:return n.sent(),[4,p.default.sleep(300)];case 3:return n.sent(),[4,d.default.runTweenSync(this.titleGrp,cc.tween().to(.5,{opacity:255},cc.easeBackOut()))];case 4:return n.sent(),this.regularAni(),[2]}})})},e.prototype.regularAni=function(){var t=cc.tween().to(1,{angle:-10},cc.easeSineInOut()).to(1,{angle:10},cc.easeSineInOut());d.default.runRepeatTweenSync(this.img,-1,t)},e.prototype.zoomIn=function(){d.default.runTweenSync(this.node,cc.tween().to(.5,{scale:1.2},cc.easeBackOut()))},e.prototype.zoomOut=function(){d.default.runTweenSync(this.node,cc.tween().to(.5,{scale:1},cc.easeBackOut()))},i([_.bindComp("cc.Label")],e.prototype,"title",void 0),i([_.bindComp("cc.Node")],e.prototype,"icon",void 0),i([_.bindComp("cc.Node")],e.prototype,"img",void 0),i([_.bindComp("cc.Node")],e.prototype,"titleGrp",void 0),i([c.action],e.prototype,"showDes",null),i([l.reactor(function(){return u.globalStore.jumpIdx})],e.prototype,"watchFoucsIdx",null),i([f,l.observer],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../UIFrame/Binder":"Binder","../UIFrame/CocosHelper":"CocosHelper","../UIFrame/indexFrame":"indexFrame","../store/GlobalStore":"GlobalStore","../store/observer":"observer","../utils/common":"common",mobx:2}],ButtonDropdownList:[function(t,e){"use strict";function n(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function r(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}cc._RF.push(e,"a7c66pC8elCBKRb+ffCz7yN","ButtonDropdownList");var i=cc.Class({extends:cc.Component,ctor:function(){this.buttonList=[]},statics:{Events:{SELECTTION_CHANGED:1}},properties:{optionButtonTemplate:cc.Node,multiButtonTemplate:{default:null,type:cc.Node},titleButtonTemplate:{default:null,type:cc.Node},selectedOptionButtonTemplate:{default:null,type:cc.Node},placeHolder:"",hideSelectedOption:!1,paddingLeftAndRight:5,paddingTopAndBottom:5,spacingY:3,marginTop:0,maxListHeight:0,listBackground:cc.SpriteFrame,optionButtonSize:cc.Size,mask:cc.Sprite,titleContainer:cc.Node,listBacgroundNode:cc.Node,listContent:cc.Node,_foldFlg:!0,_selectionChangedHandler:null,_handlerThisObj:null,_optionDataList:null,_optionSecDataList:null,_initialized:!1,_content:null,_selectedKey:"",_preSelectedKey:"",_hideMap:null,_secSelectedKey:"",_selectMultiMap:{default:{},type:Object},secListBackgroundNode:null,secListContent:null,_isComMenu:!1,_isMultiSelect:!1,_secContent:null,_maxMultiCount:5},initDropdownList:function(t,e,n,r,o,i){void 0===t&&(t=!1),void 0===e&&(e=!1),this.optionButtonTemplate=n||this.optionButtonTemplate,this.titleButtonTemplate=o||this.titleButtonTemplate,this.selectedOptionButtonTemplate=i||this.selectedOptionButtonTemplate,this.optionButtonSize=this.optionButtonTemplate.getContentSize(),this.optionButtonTemplate.removeFromParent(),this.titleButtonTemplate.removeFromParent(),this.selectedOptionButtonTemplate.removeFromParent(),this._isMultiSelect=e,t&&(this._isComMenu=t,this.secListContent=cc.instantiate(this.listContent),this.listContent.parent.addChild(this.secListContent),this.secListBackgroundNode=cc.instantiate(this.listBacgroundNode),this.secListBackgroundNode.parent=null,this.secListBackgroundNode.getComponent(cc.Sprite).enabled=!0,this._secContent=this.secListContent.getComponent(cc.ScrollView).content),r&&(this.placeHolder=r.placeHolder?r.placeHolder:this.placeHolder,this.paddingLeftAndRight=void 0===r.paddingLeftAndRight?this.paddingLeftAndRight:r.paddingLeftAndRight,this.paddingTopAndBottom=void 0===r.paddingTopAndBottom?this.paddingTopAndBottom:r.paddingTopAndBottom,this.spacingY=void 0===r.spacingY?this.spacingY:r.spacingY,this.marginTop=void 0===r.marginTop?this.marginTop:r.marginTop,this.maxListHeight=void 0===r.maxListHeight?this.maxListHeight:r.maxListHeight,this.hideSelectedOption=void 0===r.hideSelectedOption?this.hideSelectedOption:r.hideSelectedOption,this.optionButtonSize=r.optionButtonSize||this.optionButtonSize,this.optionButtonSize||(this.optionButtonSize=new cc.size(this.node.width,this.node.height)),r.listBackground&&(this.listBacgroundNode.getComponent(cc.Sprite).SpriteFrame=r.listBackground)),this._content=this.listContent.getComponent(cc.ScrollView).content,0==this.maxListHeight&&(this.listContent.getComponent(cc.ScrollView).vertical=!1,this.listContent.getComponent(cc.ScrollView).horizontal=!1)},getOptionDataList:function(){return this._optionDataList},getSelectKey:function(){return this._selectedKey},setSelection:function(t,e){for(var r,o,a=n(this._optionDataList);!(o=a()).done;){var s=o.value;if(s.key==t){r=s;break}}if(this._initTitleButton(r),!0===e)if(this._selectionChangedHandler&&this._handlerThisObj)this._selectionChangedHandler.call(this._handlerThisObj,r);else{var c=new cc.Event(i.Events.SELECTTION_CHANGED,!1);c.target=c.currentTarget=this,c.selection=r,this.node.emit(i.Events.SELECTTION_CHANGED,c)}},addSelectionChangedEventHandler:function(t,e){this._selectionChangedHandler=t,this._handlerThisObj=e},setOptionDataList:function(t,e,n,r){!t||t.length<=0||(this._optionDataList=t,this._optionSecDataList=n,t.map(function(t,e){t.enabled=!0,t.menuIdx=e}),n&&n.map(function(t,e){t.map(function(t){t.enabled=!0,t.menuIdx=e})}),this._selectedKey=e||null,this._secSelectedKey=r||null)},onLoad:function(){if(!this._initialized&&(this._initialized=!0,this.listBacgroundNode.parent=null,this.listBacgroundNode.getComponent(cc.Sprite).enabled=!0,this.listContent.parent=null,this.mask.node.parent=null,this.mask.node.on(cc.Node.EventType.TOUCH_END,this._fold,this),this.titleContainer.childrenCount<=0))if(this._selectedKey){for(var t,e,r=n(this._optionDataList);!(e=r()).done;){var o=e.value;if(o.key==this._selectedKey){t=o;break}}this._initTitleButton(t)}else this._initTitleButton()},_initTitleButton:function(t){if(!(t&&t.key===this._selectedKey&&this.titleContainer.childrenCount>0)){var e=this.titleContainer;e.childrenCount>0&&(e.children[0].off(cc.Node.EventType.TOUCH_END,this._onOptionTouched,this),this.titleContainer.removeAllChildren());var n,r=this._optionDataList;t?(n=t,this._selectedKey=n.key):this.placeHolder?n={key:null,label:this.placeHolder}:!r||r.length<=0?(n=r[0],this._selectedKey=n.key):n={key:null,label:""};var o=this._createOneOption(n,!0);o.x=0,o.y=0,o.active=!0,this.titleContainer.addChild(o)}},reset:function(){this._fold();var t=this.titleContainer;t.childrenCount>0&&t.children[0].off(cc.Node.EventType.TOUCH_END,this._onOptionTouched,this),this.titleContainer.removeAllChildren(),this.selectedKey=null,this._initTitleButton()},_createOneOption:function(t,e,n){var r;return r=!0===e?this.titleButtonTemplate?cc.instantiate(this.titleButtonTemplate):cc.instantiate(this.optionButtonTemplate):!0===n?cc.instantiate(this.optionButtonTemplate):this._selectedKey===t.key&&this.selectedOptionButtonTemplate?cc.instantiate(this.selectedOptionButtonTemplate):cc.instantiate(this.optionButtonTemplate),!1===t.enabled?r.getComponent(cc.Button).interactable=!1:r.getComponent(cc.Button).interactable=!0,r.setContentSize(this.optionButtonSize.width,this.optionButtonSize.height),this._setBtnText(r,t.label),r.optionData=t,r.on(cc.Node.EventType.TOUCH_END,this._onOptionTouched,this),r},_createSecOption:function(t){var e;return(e=this._secSelectedKey==t.key&&this.selectedOptionButtonTemplate?cc.instantiate(this.selectedOptionButtonTemplate):cc.instantiate(this.optionButtonTemplate)).setContentSize(this.optionButtonSize.width,this.optionButtonSize.height),this._setBtnText(e,t.label),e.optionData=t,e.on(cc.Node.EventType.TOUCH_END,this._onSecOptionTouched,this),e},_createMultiOption:function(t){var e;return(e=cc.instantiate(this.multiButtonTemplate)).getChildByName("selected").active=this._selectMultiMap[t.key],e.setContentSize(this.optionButtonSize.width,this.optionButtonSize.height),this._setBtnText(e,t.label),e.optionData=t,e.on(cc.Node.EventType.TOUCH_END,this._onMultiOptionTouched,this),e},_setBtnText:function(t,e){if(cc.isValid(t)&&null!=e){var n=null;(n=t instanceof cc.Button?cc.find("Label",t.node):cc.find("Label",t))&&(n.getComponent(cc.Label).string=e,this.font&&(n.getComponent(cc.Label).font=font))}else console.error("setBtnText btnNode or str is null")},_onOptionTouched:function(t){var e=t.target;if(this._foldFlg)this._unfold();else{var n=e.optionData;if(this._isComMenu)if(this._optionSecDataList[n.key].length>0)this._preSelectedKey=n.key,this._isMultiSelect?this._unfoldMulti(e):this._unfoldSec(e);else if(this._secSelectedKey=-1,n.key!=this._selectedKey&&!0===n.enabled){this._selectedKey=n.key;var r=this._createOneOption(n,!0),o=this.titleContainer;if(o.childrenCount>0&&o.children[0].off(cc.Node.EventType.TOUCH_END,this._onOptionTouched,this),this.titleContainer.removeAllChildren(),r.x=0,r.y=0,this.titleContainer.addChild(r),this._selectionChangedHandler&&this._handlerThisObj)this._isMultiSelect?(this._selectMultiMap={},this._selectionChangedHandler.call(this._handlerThisObj,this._selectMultiMap)):this._selectionChangedHandler.call(this._handlerThisObj,n);else{var a=new cc.Event(i.Events.SELECTTION_CHANGED,!1);a.target=a.currentTarget=this,a.selection=n,this.node.emit(i.Events.SELECTTION_CHANGED,a)}this._fold()}else!0===n.enabled&&this._fold();else if(n.key!=this._selectedKey&&!0===n.enabled){this._selectedKey=n.key;var s=this._createOneOption(n,!0),c=this.titleContainer;if(c.childrenCount>0&&c.children[0].off(cc.Node.EventType.TOUCH_END,this._onOptionTouched,this),this.titleContainer.removeAllChildren(),s.x=0,s.y=0,this.titleContainer.addChild(s),this._selectionChangedHandler&&this._handlerThisObj)this._selectionChangedHandler.call(this._handlerThisObj,n);else{var u=new cc.Event(i.Events.SELECTTION_CHANGED,!1);u.target=u.currentTarget=this,u.selection=n,this.node.emit(i.Events.SELECTTION_CHANGED,u)}this._fold()}else!0===n.enabled&&this._fold()}},_onSecOptionTouched:function(t){var e=t.target;if(this._selectedKey=this._preSelectedKey,this._foldFlg)this._unfold();else{var n=e.optionData;if(n.key!=this._secSelectedKey&&!0===n.enabled){this._secSelectedKey=n.key;var r=this._createOneOption(n,!0),o=this.titleContainer;if(o.childrenCount>0&&o.children[0].off(cc.Node.EventType.TOUCH_END,this._onOptionTouched,this),this.titleContainer.removeAllChildren(),r.x=0,r.y=0,this.titleContainer.addChild(r),this._selectionChangedHandler&&this._handlerThisObj)this._selectionChangedHandler.call(this._handlerThisObj,n);else{var a=new cc.Event(i.Events.SELECTTION_CHANGED,!1);a.target=a.currentTarget=this,a.selection=n,this.node.emit(i.Events.SELECTTION_CHANGED,a)}this._fold()}else!0===n.enabled&&this._fold()}},_onMultiOptionTouched:function(t){var e=this,n=t.target.optionData,r=!1;if(this._selectedKey!=this._preSelectedKey&&(this._selectedKey=this._preSelectedKey,r=!0,this._selectMultiMap={}),this._selectMultiMap[n.key]?delete this._selectMultiMap[n.key]:this._selectMultiMap[n.key]=!0,0==Object.keys(this._selectMultiMap).length){this._selectedKey=0;var o=this._createOneOption(this._optionDataList[0],!0),i=this.titleContainer;i.childrenCount>0&&i.children[0].off(cc.Node.EventType.TOUCH_END,this._onOptionTouched,this),this.titleContainer.removeAllChildren(),o.x=0,o.y=0,this.titleContainer.addChild(o)}else if(r){var a=this._createOneOption(this._optionDataList[this._selectedKey],!0),s=this.titleContainer;s.childrenCount>0&&s.children[0].off(cc.Node.EventType.TOUCH_END,this._onOptionTouched,this),this.titleContainer.removeAllChildren(),a.x=0,a.y=0,this.titleContainer.addChild(a)}this._secContent.children.map(function(t){t.getChildByName("selected").active=e._selectMultiMap[t.optionData.key]}),this._selectionChangedHandler.call(this._handlerThisObj,this._selectMultiMap)},_fold:function(){var t=this;this._foldFlg=!0;var e=this.mask,n=this.listBacgroundNode,r=this.listContent,o=this.secListBackgroundNode,i=this.secListContent;if(e.node.parent=null,n.parent)cc.tween(r).to(.05,{opacity:0}).start(),cc.tween(n).delay(.05).to(.1,{scaleY:0}).call(function(){for(var e=t.buttonList,a=e.length-1;a>=0;a--){var s=e[a];s.optionData.key!==t._selectedKey&&s.targetOff(t)}e.splice(0),e=null,t._content.removeAllChildren(),r.parent=null,r.active=!1,n.parent=null,n.active=!1,t.mask.node.active=!1,t._isComMenu&&(t._secContent.removeAllChildren(),i.parent=null,i.active=!1,o.parent=null,o.active=!1)}).start();else{for(var a=this.buttonList,s=a.length-1;s>=0;s--){var c=a[s];c.optionData.key!==this._selectedKey&&c.targetOff(this)}a.splice(0),a=null,this._content.removeAllChildren(),r.parent=null,r.active=!1,n.parent=null,n.active=!1,this.mask.node.active=!1,this._isComMenu&&(this._secContent.removeAllChildren(),i.parent=null,i.active=!1,o.parent=null,o.active=!1)}},hideSection:function(t,e){void 0===e&&(e=!0),this._hideMap=e?t:{}},_unfold:function(){var t=this;this._foldFlg=!1;var e=cc.director.getScene(),n=this._content,r=this.mask;r.node.parent=null,r.node.setContentSize(cc.winSize),r.node.setPosition(0,0),r.node.active=!0,e.addChild(r.node);var o=this._optionDataList.filter(function(e){return!t._hideMap||!t._hideMap[e.key]}),i=this.node.parent.convertToWorldSpaceAR(this.node.getPosition()),a=this.spacingY,s=this.listBacgroundNode;s.parent=null;var c=this.listContent;c.parent=null;var u=!!this._selectedKey,l=this.hideSelectedOption&&u?o.length-1:o.length,h=(this.optionButtonSize.height+a)*l-a,d=h+2*this.paddingTopAndBottom;this.maxListHeight>0&&d>this.maxListHeight&&(d=this.maxListHeight),s.setContentSize(this.node.width+2*this.paddingLeftAndRight,d),s.setAnchorPoint(.5,1),s.setPosition(cc.v2(i.x,i.y-.5*this.node.height-this.marginTop)),s.active=!0,e.addChild(s),n.setContentSize(this.node.width,h),c.setContentSize(this.node.width,d-2*this.paddingTopAndBottom),c.setAnchorPoint(.5,1),c.setPosition(cc.v2(i.x,i.y-.5*this.node.height-this.marginTop-this.paddingTopAndBottom)),n.removeAllChildren(),c.opacity=255,c.active=!0,e.addChild(c),s.scaleY=0,cc.tween(s).to(.1,{scaleY:1},{easing:"circOut"}).call(function(){c.getComponent(cc.ScrollView).scrollToTop();for(var e=t.buttonList,r=0;r<o.length;r++){var i=o[r];if(!0!==t.hideSelectedOption||i.key!=t._selectedKey){var s=t._createOneOption(i);e.push(s),s.active=!0,s.setPosition(0,.5*-s.height-(s.height+a)*r),n.addChild(s)}}}).start()},_unfoldMulti:function(t){var e=this;this._foldFlg=!1;var n=cc.director.getScene(),r=this._secContent,o=this.node.parent.convertToWorldSpaceAR(this.node.getPosition()),i=this.spacingY,a=t.convertToWorldSpaceAR(cc.v2(0,0)),s=cc.winSize,c=this.node.width+2*this.paddingLeftAndRight+8,u={x:0,y:0},l=1;o.x+1.5*c>s.x&&(l=-1),u.x=a.x+l*c,u.y=a.y;var h=this.secListBackgroundNode;h.parent=null;var d=this.secListContent;d.parent=null;var _=!!this._preSelectedKey,p=this._optionSecDataList[this._preSelectedKey].length,f=this.hideSelectedOption&&_?p-1:p,y=(this.optionButtonSize.height+i)*f-i,v=y+2*this.paddingTopAndBottom;this.maxListHeight>0&&v>this.maxListHeight&&(v=this.maxListHeight),h.setContentSize(this.node.width+2*this.paddingLeftAndRight,v),h.setAnchorPoint(.5,1),h.setPosition(cc.v2(u.x,u.y)),h.active=!0,n.addChild(h),r.setContentSize(this.node.width,y),d.setContentSize(this.node.width,v-2*this.paddingTopAndBottom),d.setAnchorPoint(.5,1),d.setPosition(cc.v2(u.x,u.y-this.paddingTopAndBottom)),r.removeAllChildren(),d.opacity=255,d.active=!0,n.addChild(d),h.scaleY=0,cc.tween(h).to(.1,{scaleY:1},{easing:"circOut"}).call(function(){d.getComponent(cc.ScrollView).scrollToTop();for(var t=e._optionSecDataList[e._preSelectedKey],n=e.buttonList,o=0;o<t.length;o++){var a=t[o];if(!0!==e.hideSelectedOption||a.key!=e._preSelectedKey){var s=e._createMultiOption(a);n.push(s),s.active=!0,s.setPosition(0,.5*-s.height-(s.height+i)*o),r.addChild(s)}}}).start()},_unfoldSec:function(t){var e=this;this._foldFlg=!1;var n=cc.director.getScene(),r=this._secContent,o=this.node.parent.convertToWorldSpaceAR(this.node.getPosition()),i=this.spacingY,a=t.convertToWorldSpaceAR(cc.v2(0,0)),s=cc.winSize,c=this.node.width+2*this.paddingLeftAndRight+8,u={x:0,y:0},l=1;o.x+1.5*c>s.x&&(l=-1),u.x=a.x+l*c,u.y=a.y;var h=this.secListBackgroundNode;h.parent=null;var d=this.secListContent;d.parent=null;var _=!!this._preSelectedKey,p=this._optionSecDataList[this._preSelectedKey].length,f=this.hideSelectedOption&&_?p-1:p,y=(this.optionButtonSize.height+i)*f-i,v=y+2*this.paddingTopAndBottom;this.maxListHeight>0&&v>this.maxListHeight&&(v=this.maxListHeight),h.setContentSize(this.node.width+2*this.paddingLeftAndRight,v),h.setAnchorPoint(.5,1),h.setPosition(cc.v2(u.x,u.y)),h.active=!0,n.addChild(h),r.setContentSize(this.node.width,y),d.setContentSize(this.node.width,v-2*this.paddingTopAndBottom),d.setAnchorPoint(.5,1),d.setPosition(cc.v2(u.x,u.y-this.paddingTopAndBottom)),r.removeAllChildren(),d.opacity=255,d.active=!0,n.addChild(d),h.scaleY=0,cc.tween(h).to(.1,{scaleY:1},{easing:"circOut"}).call(function(){d.getComponent(cc.ScrollView).scrollToTop();for(var t=e._optionSecDataList[e._preSelectedKey],n=e.buttonList,o=0;o<t.length;o++){var a=t[o];if(!0!==e.hideSelectedOption||a.key!=e._preSelectedKey){var s=e._createSecOption(a);n.push(s),s.active=!0,s.setPosition(0,.5*-s.height-(s.height+i)*o),r.addChild(s)}}}).start()},start:function(){},onDestroy:function(){if(this.buttonList&&this.buttonList.length>0)for(var t,e=n(this.buttonList);!(t=e()).done;){var r=t.value;r.targetOff(this),r.destroy()}this._handlerThisObj=null,this._selectionChangedHandler=null,this.buttonList=null,this._optionDataList=null}});e.exports=i,cc._RF.pop()},{}],ButtonPlus:[function(t,e,n){"use strict";cc._RF.push(e,"3eaf8iLxgtDEKVcEmFvrbqy","ButtonPlus");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../indexFrame"),s=t("../../SoundMgr"),c=cc._decorator,u=c.ccclass,l=c.property,h=c.executeInEditMode,d=c.menu,_=c.help,p=c.inspector,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioUrl="",e.openContinuous=!0,e.continuousTime=1,e.continuous=!1,e._continuousTimer=null,e.openLongPress=!1,e.longPressTime=1,e.longPressFlag=!1,e.longPressTimer=null,e}return o(e,t),e.prototype.onEnable=function(){this.continuous=!1,t.prototype.onEnable.call(this)},e.prototype.onDisable=function(){this._continuousTimer&&(clearTimeout(this._continuousTimer),this._continuousTimer=null),this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null),t.prototype.onDisable.call(this)},e.prototype._onTouchBegan=function(t){this.interactable&&this.enabledInHierarchy&&(this.openLongPress&&!this.longPressFlag&&(this.longPressTimer&&clearTimeout(this.longPressTimer),this.longPressTimer=setTimeout(function(){this._pressed&&(this.node.emit("longclickStart",this),this.longPressFlag=!0)}.bind(this),1e3*this.longPressTime)),this._pressed=!0,this._updateState(),t.stopPropagation())},e.prototype._onTouchEnded=function(t){this.interactable&&this.enabledInHierarchy&&(this._pressed&&this.longPressFlag?(this.node.emit("longclickEnd",this),this.longPressFlag=!1):this._pressed&&!this.continuous&&(this.continuous=!!this.openContinuous,cc.Component.EventHandler.emitEvents(this.clickEvents,t),this.node.emit("click",t),this.audioUrl&&""!==this.audioUrl?s.default.inst.playEffect(this.audioUrl):s.default.inst.playEffect(a.SysDefine.buttongCLickEffect),this.openContinuous&&(this._continuousTimer=setTimeout(function(){this.continuous=!1}.bind(this),1e3*this.continuousTime))),this._pressed=!1,this._updateState(),t.stopPropagation())},e.prototype._onTouchCancel=function(t){if(this.interactable&&this.enabledInHierarchy){var e=t.touch,n=cc.rect(0,0,this.node.getContentSize().width,this.node.getContentSize().height),r=this.node.convertToNodeSpaceAR(e.getLocation());n.contains(r)||(this._pressed&&this.longPressFlag&&(this.node.emit("longclickEnd",this),this.longPressFlag=!1),this._pressed=!1,this._updateState())}},e.prototype.addClick=function(t,e){this.node.off("click"),this.node.on("click",t,e)},e.prototype.addLongClick=function(t,e,n){this.node.off("longclickStart"),this.node.off("longclickEnd"),this.node.on("longclickStart",t,n),this.node.on("longclickEnd",e,n)},i([l({tooltip:"\u97f3\u6548\u8def\u5f84",type:"",multiline:!0,formerlySerializedAs:"_N$string"})],e.prototype,"audioUrl",void 0),i([l({tooltip:"\u5c4f\u853d\u8fde\u7eed\u70b9\u51fb"})],e.prototype,"openContinuous",void 0),i([l({tooltip:"\u5c4f\u853d\u65f6\u95f4, \u5355\u4f4d:\u79d2"})],e.prototype,"continuousTime",void 0),i([l({tooltip:"\u662f\u5426\u5f00\u542f\u957f\u6309\u4e8b\u4ef6"})],e.prototype,"openLongPress",void 0),i([l({tooltip:"\u957f\u6309\u65f6\u95f4"})],e.prototype,"longPressTime",void 0),i([u,d("i18n:MAIN_MENU.component.ui/ButtonPlus"),h,_("i18n:COMPONENT.help_url.button"),p("packages://buttonplus/inspector.js")],e)}(cc.Button);n.default=f,cc._RF.pop()},{"../../SoundMgr":"SoundMgr","../../indexFrame":"indexFrame"}],ByteArray:[function(t,e,n){"use strict";cc._RF.push(e,"ebe9e2Nx0FBQL5jSp6nzvme","ByteArray"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.init=function(t){this._length=t<8?8:t,this._buffer=new ArrayBuffer(this._length),this._dataView=new DataView(this._buffer),this.reset()},t.prototype.initFromData=function(t){this._buffer=t,this._dataView=new DataView(this._buffer),this._length=t.byteLength,this.reset()},t.prototype.reset=function(){this._writePos=8,this._readPos=0,this._pakcetId=0},t.prototype.getPacketId=function(){return this._pakcetId},t.prototype.setPacketId=function(t){this._pakcetId=t},t.prototype.getBufferLength=function(){return this._writePos},t.prototype.getBuffer=function(){return this._buffer},t.prototype.readHead=function(){this._readPos=2,this._pakcetId=this.readShort(),this._readPos+=4},t.prototype.writeHead=function(){if(this._writePos<8||this._writePos>=32767)throw"Msg is to length, packetId: "+this._pakcetId;this._dataView.setUint16(0,this._writePos),this._dataView.setUint16(2,this._pakcetId)},t.prototype.readByte=function(){var t=this._dataView.getUint8(this._readPos);return this._readPos+=1,t},t.prototype.readShort=function(){var t=this._dataView.getInt16(this._readPos);return this._readPos+=2,t},t.prototype.readInt=function(){var t=this._dataView.getInt32(this._readPos);return this._readPos+=4,t},t.prototype.readUInt=function(){var t=this._dataView.getUint32(this._readPos);return this._readPos+=4,t},t.prototype.readInt64=function(){var t=this.readUInt();return 4294967296*this.readUInt()+t},t.prototype.readFloat=function(){var t=this._dataView.getFloat32(this._readPos);return this._readPos+=4,t},t.prototype.readDouble=function(){var t=this._dataView.getFloat64(this._readPos);return this._readPos+=8,t},t.prototype.readString=function(){var t=this.readShort(),e=new Uint8Array(this._buffer,this._readPos,t);return this._readPos+=t,this.utf8ByteArrayToString(e)},t.prototype.writeByte=function(t){this.checkWrite(1),this._dataView.setUint8(this._writePos,t),this._writePos+=1},t.prototype.writeShort=function(t){this.checkWrite(2),this._dataView.setUint16(this._writePos,t),this._writePos+=2},t.prototype.writeInt=function(t){this.checkWrite(4),this._dataView.setUint32(this._writePos,t),this._writePos+=4},t.prototype.writeInt64=function(t){this.checkWrite(8);var e=t%4294967296,n=Math.floor((t-e)/4294967296);this.writeInt(n),this.writeInt(e)},t.prototype.writeDouble=function(t){this.checkWrite(8),this._dataView.setFloat64(this._writePos,t),this._writePos+=8},t.prototype.writeFloat=function(t){this.checkWrite(4),this._dataView.setFloat32(this._writePos,t),this._writePos+=4},t.prototype.writeString=function(t){var e=this.stringToUtf8ByteArray(t),n=e.length;this.checkWrite(n+2),this.writeShort(n);for(var r=0;r<n;++r)this._dataView.setUint8(this._writePos+r,e[r]);this._writePos+=n},t.prototype.checkWrite=function(t){var e=this._writePos,n=e+t;if(!(n<=this._length)){if(n>=32767)throw"Msg is to length, packetId: "+this._pakcetId;this._length=this._length+Math.floor(this._length/2),this._length<n&&(this._length=n);for(var r=new ArrayBuffer(this._length),o=new DataView(r),i=0;i<e;++i)o.setUint8(i,this._dataView.getUint8(i));this._buffer=r,this._dataView=o}},t.prototype.stringToUtf8ByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},t.prototype.utf8ByteArrayToString=function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{i=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return e.join("")},t}();n.default=r,cc._RF.pop()},{}],CWebSocket:[function(t,e,n){"use strict";cc._RF.push(e,"65ab688uJhB5bMfNapdpRC2","CWebSocket"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.ws=null,this.onConnect=null,this.onMessage=null,this.onError=null,this.onClose=null}return t.prototype.connect=function(t){var e=this;if(this.ws&&this.ws.readyState===WebSocket.CONNECTING)return cc.log("\u5df2\u7ecf\u8fde\u63a5\u4e0a\u7f51\u7edc, \u91cd\u65b0\u8fde\u63a5\u524d\u8bf7\u5148\u8c03\u7528close\u65b9\u6cd5!"),!1;var n;return n="string"==typeof t?t:t.protocol+"://"+t.ip+":"+t.port,this.ws=new WebSocket(n),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onConnect,this.ws.onmessage=function(t){e.onMessage(t.data)},this.ws.onclose=this.onClose,this.ws.onerror=this.onError,!0},t.prototype.send=function(t){return this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(t),!0):(cc.log("\u7f51\u7edc\u8fde\u63a5\u5df2\u5173\u95ed, \u65e0\u6cd5\u53d1\u9001\u6d88\u606f"),!1)},t.prototype.close=function(){return this.ws&&this.ws.readyState!==WebSocket.CLOSED&&(this.ws.close(),this.ws.onopen=null,this.ws.onmessage=null,this.ws.onclose=null,this.ws.onerror=null,this.ws=null),!0},t}();n.default=r,cc._RF.pop()},{}],CameraCapture:[function(t,e,n){"use strict";cc._RF.push(e,"29803DQKJdC2KvHyjig9y8N","CameraCapture");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../CocosHelper"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.captureNode=null,e.camera=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.inst=this,this.camera=this.getComponent(cc.Camera),this.camera||(this.camera=this.addComponent(cc.Camera)),this.node.active=!1},e.prototype.start=function(){},e.prototype.captureTexture=function(){this.node.active=!0,this.captureNode.active=!1;var t=a.default.captureScreen(this.camera,this.captureNode);return this.captureNode.active=!0,this.node.active=!1,t},e.inst=null,i([u(cc.Node)],e.prototype,"captureNode",void 0),n=i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../CocosHelper":"CocosHelper"}],Camera:[function(t,e,n){"use strict";cc._RF.push(e,"bcd47MOeHdDz68ej3n/waVp","Camera");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Constants"),s=t("../store/GlobalStore"),c=t("../store/indexStore"),u=t("mobx"),l=t("../UIFrame/indexFrame"),h=cc._decorator.ccclass,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MainCamera=null,e.background=null,e.isClicking=!1,e.startPos=null,e.movePos=null,e.mainCameraPos=null,e.boundRect=null,e.scrollDel=1e-4,e.zoomRatio=.5,e.moveDt=0,e.isTrailing=!1,e.moveDelayX=.7,e.frictionTime=1,e.trailSpeed={vx:0,vy:0},e.moveTrailDt=0,e.ratioMax=1,e.ratioMin=.5,e.showRatio=.7,e.curRatio=1,e.staticPos=null,e.isFocusing=!1,e.lastPos=null,e.pointsDis=0,e.touchIds=[],e.startPos1=null,e.startPos2=null,e}return o(e,t),e.prototype.onLoad=function(){l.Binder.bindComponent(this),this.background.on("mousewheel",this.clickEvent.bind(this)),this.background.on("touchstart",this.clickEvent.bind(this)),this.background.on("touchmove",this.clickEvent.bind(this)),this.background.on("touchcancel",this.clickEvent.bind(this)),this.background.on("touchend",this.clickEvent.bind(this)),this.boundRect=this.background.getBoundingBox();var t=cc.winSize,e=t.width/this.boundRect.width,n=t.height/this.boundRect.height;if(this.ratioMin=e<n?n:e,this.zoomRatio=this.MainCamera.getComponent(cc.Camera).zoomRatio,this.curRatio=this.zoomRatio,t.width<t.height){this.showRatio=.7,this.ratioMin=.34;var r=this.MainCamera.getComponent(cc.Camera);r.zoomRatio=.34,r.zoomRatio>this.ratioMax&&(r.zoomRatio=this.ratioMax),r.zoomRatio<this.ratioMin&&(r.zoomRatio=this.ratioMin),this.zoomRatio=r.zoomRatio,this.curRatio=this.zoomRatio,this.setMainPos(this.MainCamera.getPosition())}},e.prototype.clickEvent=function(t){var e=this;if(!this.isFocusing)switch(t.type){case"touchstart":var n=t.getTouches();if(1==n.length){var r=t.getTouches();if(r.forEach(function(t){var n=t.getID();-1==e.touchIds.indexOf(n)&&e.touchIds.push(n)}),0==this.touchIds.indexOf(r[0].getID())?this.startPos1=this.node.convertToNodeSpaceAR(r[0].getLocation()):this.startPos2=this.node.convertToNodeSpaceAR(r[0].getLocation()),1==this.touchIds.length)this.isTrailing=!1,this.mainCameraPos=this.MainCamera.getPosition(),this.startPos=t.getLocation(),this.movePos=t.getLocation(),this.isClicking=!0,this.staticPos=null,this.moveDt=0;else if(2==n.length){var o=this.node.convertToNodeSpaceAR(n[0].getLocation()),i=this.node.convertToNodeSpaceAR(n[1].getLocation());this.pointsDis=o.sub(i).mag()}else 2==this.touchIds.length&&(this.reset(),this.pointsDis=this.startPos1.sub(this.startPos2).mag())}break;case"touchmove":var a=t.getTouches();if(1==a.length)if(1==this.touchIds.length){if(this.movePos=t.getLocation(),!this.isClicking&&!this.isTrailing){if(this.staticPos||(this.staticPos=t.getLocation(),this.mainCameraPos=this.MainCamera.getPosition()),this.isFocusing)return;var s=cc.v2(this.mainCameraPos.x+.015*(this.movePos.x-this.staticPos.x),this.mainCameraPos.y+.015*(this.movePos.y-this.staticPos.y));this.setMainPos(s)}}else if(2==a.length){console.log("444444444444444");var c=this.node.convertToNodeSpaceAR(a[0].getLocation()),u=this.node.convertToNodeSpaceAR(a[1].getLocation()),l=c.sub(u).mag(),h=0;this.pointsDis||(this.pointsDis=0),l>this.pointsDis?h=150:l<this.pointsDis&&(h=-150);var d=this.MainCamera.getComponent(cc.Camera);d.zoomRatio+=h*this.scrollDel,d.zoomRatio>this.ratioMax&&(d.zoomRatio=this.ratioMax),d.zoomRatio<this.ratioMin&&(d.zoomRatio=this.ratioMin),this.zoomRatio=d.zoomRatio,this.curRatio=this.zoomRatio,this.setMainPos(this.MainCamera.getPosition())}break;case"touchend":this.mainCameraPos=this.MainCamera.getPosition(),this.isClicking=!1,this.removeTouchId(t.getTouches()[0].getID()),this.setTrailing();break;case"touchcancel":this.isClicking=!1,this.removeTouchId(t.getTouches()[0].getID());break;case"mousewheel":var _=t.getScrollY(),p=this.MainCamera.getComponent(cc.Camera);p.zoomRatio+=_*this.scrollDel,p.zoomRatio>this.ratioMax&&(p.zoomRatio=this.ratioMax),p.zoomRatio<this.ratioMin&&(p.zoomRatio=this.ratioMin),this.zoomRatio=p.zoomRatio,this.curRatio=this.zoomRatio,this.setMainPos(this.MainCamera.getPosition())}},e.prototype.removeTouchId=function(t){var e=[];this.touchIds.forEach(function(n){n!=t&&e.push(n)}),this.touchIds=e},e.prototype.setTrailing=function(){if(2!=this.touchIds.length&&null!=this.startPos){var t=(this.movePos.x-this.startPos.x)*this.moveDelayX/this.moveDt,e=(this.movePos.y-this.startPos.y)*this.moveDelayX/this.moveDt;this.trailSpeed={vx:t,vy:e},this.moveTrailDt=0,this.isTrailing=!0}},e.prototype.update=function(t){if(!this.isFocusing){if(this.isClicking&&this.startPos&&this.movePos&&this.mainCameraPos){this.moveDt+=t;var e={x:this.movePos.x-this.startPos.x,y:this.movePos.y-this.startPos.y},n=cc.v2(this.mainCameraPos.x-e.x*this.moveDelayX,this.mainCameraPos.y-e.y*this.moveDelayX);this.setMainPos(n)}if(this.isTrailing){this.moveTrailDt+=t;var r=this.trailSpeed,o=r.vx,i=r.vy;e={x:o*this.moveTrailDt-o/this.frictionTime/2*Math.pow(this.moveTrailDt,2),y:i*this.moveTrailDt-i/this.frictionTime/2*Math.pow(this.moveTrailDt,2)},n=cc.v2(this.mainCameraPos.x-e.x,this.mainCameraPos.y-e.y),this.setMainPos(n),this.moveTrailDt>=this.frictionTime&&(this.isTrailing=!1)}}},e.prototype.setMainPos=function(t){var e=cc.winSize,n=e.width/this.zoomRatio,r=e.height/this.zoomRatio,o=-(this.boundRect.width-n)/2,i=(this.boundRect.width-n)/2,a=(this.boundRect.height-r)/2,s=-(this.boundRect.height-r)/2,c=!1;t.x<o&&(t.x=o,c=!0),t.x>i&&(t.x=i,c=!0),t.y<s&&(t.y=s,c=!0),t.y>a&&(t.y=a,c=!0),c&&(this.isTrailing=!1),this.MainCamera.setPosition(t)},e.prototype.getMoveToPos=function(t,e){var n=cc.winSize,r=n.width/e,o=n.height/e,i=-(this.boundRect.width-r)/2,a=(this.boundRect.width-r)/2,s=(this.boundRect.height-o)/2,c=-(this.boundRect.height-o)/2;return t.x<i&&(t.x=i),t.x>a&&(t.x=a),t.y<c&&(t.y=c),t.y>s&&(t.y=s),t},e.prototype.watchFoucs=function(){s.globalStore.foucs?this.focusIn():this.foucusOut()},e.prototype.watchFoucsIdx=function(){s.globalStore.changeFocus&&(this.changeFocus(),this.resetState())},e.prototype.resetState=function(){s.globalStore.changeFocus=!1},e.prototype.resetIdx=function(){s.globalStore.jumpIdx=0},e.prototype.changeFocus=function(){var t=this;console.log("changeFocus");var e=this.MainCamera.getComponent(cc.Camera),n=this.getJumpPos(s.globalStore.jumpIdx),r=this.getMoveToPos(n,this.showRatio);cc.tween(this.MainCamera).to(.6,{position:r}).call(function(){t.showDes(r)}).start(),cc.tween(e).to(.6,{zoomRatio:this.showRatio}).call(function(){}).start()},e.prototype.focusIn=function(){var t=this;console.log("focusIn"),this.isFocusing=!0,this.reset();var e=this.MainCamera.getComponent(cc.Camera);this.curRatio=e.zoomRatio,this.lastPos=this.MainCamera.getPosition();var n=this.getJumpPos(s.globalStore.jumpIdx),r=this.getMoveToPos(n,this.showRatio);cc.tween(this.MainCamera).to(.6,{position:r}).call(function(){}).start(),cc.tween(e).to(.6,{zoomRatio:this.showRatio}).call(function(){t.showDes(r)}).start()},e.prototype.foucusOut=function(){var t=this,e=this.MainCamera.getComponent(cc.Camera);cc.tween(this.MainCamera).to(.6,{position:this.lastPos}).call(function(){}).start(),cc.tween(e).to(.6,{zoomRatio:this.curRatio}).call(function(){t.isFocusing=!1,t.resetIdx()}).start()},e.prototype.getJumpPos=function(t){var e=150,n=-250,r=cc.winSize;return r.width<r.height&&(e=0,n=-400),s.globalStore.buildingPos[t].add(new cc.Vec3(e,n,0))},e.prototype.reset=function(){this.isTrailing=!1,this.isClicking=!1,this.startPos=null,this.movePos=null,this.moveDt=0,this.trailSpeed={vx:0,vy:0},this.moveTrailDt=0},e.prototype.showDes=function(t){console.log("getShowSide pos="+JSON.stringify(t));var e=cc.winSize.width/this.showRatio,n=-(this.boundRect.width-e)/2,r=(this.boundRect.width-e)/2;console.log("leftBound="+n+" rightBound="+r);var o=1;t.x>r-50&&(o=0),l.UIManager.openView(a.Constants.Panels.UIGameDes,{side:o})},i([l.bindComp("cc.Node")],e.prototype,"MainCamera",void 0),i([l.bindComp("cc.Node")],e.prototype,"background",void 0),i([c.reactor(function(){return s.globalStore.foucs})],e.prototype,"watchFoucs",null),i([c.reactor(function(){return s.globalStore.changeFocus})],e.prototype,"watchFoucsIdx",null),i([u.action],e.prototype,"resetState",null),i([u.action],e.prototype,"resetIdx",null),i([h,c.observer],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Constants":"Constants","../UIFrame/indexFrame":"indexFrame","../store/GlobalStore":"GlobalStore","../store/indexStore":"indexStore",mobx:2}],CocosHelper:[function(t,e,n){"use strict";cc._RF.push(e,"7d011DLhkxFPakrCRw6PZqk","CocosHelper");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.LoadProgress=void 0;var i=t("./config/SysDefine"),a=function(){};n.LoadProgress=a;var s=function(){function t(){}return t.runRepeatTweenSync=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return r(this,void 0,void 0,function(){return o(this,function(){return[2,new Promise(function(){for(var r=cc.tween(t),o=0,i=n;o<i.length;o++){var a=i[o];r=r.then(a)}e<0?cc.tween(t).repeatForever(r).start():cc.tween(t).repeat(e,r).start()})]})})},t.runTweenSync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return r(this,void 0,Promise,function(){return o(this,function(){return[2,new Promise(function(n){for(var r=cc.tween(t),o=0,i=e;o<i.length;o++){var a=i[o];r=r.then(a)}r.call(function(){n()}).start()})]})})},t.prototype.stopTween=function(t){cc.Tween.stopAllByTarget(t)},t.prototype.stopTweenByTag=function(t){cc.Tween.stopAllByTag(t)},t.runActionSync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return r(this,void 0,void 0,function(){return o(this,function(){return!e||e.length<=0?[2]:[2,new Promise(function(n){e.push(cc.callFunc(function(){n(!0)})),t.runAction(cc.sequence(e))})]})})},t.runTransAnim=function(t,e,n,i,a,s){return void 0===e&&(e=0),void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===a&&(a=0),void 0===s&&(s=0),r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return t.stopAllActions(),0!=e?[3,4]:n?(t.active=!0,t.opacity=0,i?t.x=a:t.y=a,r=i?cc.tween().to(.4,{opacity:255,x:s},cc.easeQuadraticActionOut()):cc.tween().to(.4,{opacity:255,y:s},cc.easeQuadraticActionOut()),this.runTweenSync(t,r),[3,3]):[3,1];case 1:return i?t.x=a:t.y=a,r=i?cc.tween().to(.4,{opacity:0,x:s},cc.easeQuadraticActionOut()):cc.tween().to(.4,{opacity:0,y:s},cc.easeQuadraticActionOut()),[4,this.runTweenSync(t,r)];case 2:o.sent(),t.active=!1,o.label=3;case 3:return[3,11];case 4:return 1!=e?[3,8]:n?(t.active=!0,t.opacity=0,t.scale=0,this.runTweenSync(t,cc.tween().to(.4,{opacity:255,scale:1},cc.easeQuadraticActionOut())),[3,7]):[3,5];case 5:return[4,this.runTweenSync(t,cc.tween().to(.4,{opacity:0,scale:0},cc.easeQuadraticActionOut()))];case 6:o.sent(),t.active=!1,o.label=7;case 7:return[3,11];case 8:return 2!=e?[3,11]:n?(t.active=!0,t.opacity=0,this.runTweenSync(t,cc.tween().to(.4,{opacity:255},cc.easeQuadraticActionOut())),[3,11]):[3,9];case 9:return[4,this.runTweenSync(t,cc.tween().to(.4,{opacity:0},cc.easeQuadraticActionOut()))];case 10:o.sent(),t.active=!1,o.label=11;case 11:return[2]}})})},t.runAnimSync=function(e,n){return r(this,void 0,void 0,function(){var r,i,a,s;return o(this,function(o){switch(o.label){case 0:if(!(r=e.getComponent(cc.Animation)))return[2];if(i=null,n){if(a=r.getClips(),"number"==typeof n)i=a[n];else if("string"==typeof n)for(s=0;s<a.length;s++)if(a[s].name===n){i=a[s];break}}else i=r.defaultClip;return i?[4,t.sleepSync(i.duration)]:[2];case 1:return o.sent(),[2]}})})},t.loadResThrowErrorSync=function(){return null},t.loadRes=function(t,e,n){return r(this,void 0,void 0,function(){var r=this;return o(this,function(){return this._loadingMap[t]?(this._loadingMap[t].push(n),[2]):(this._loadingMap[t]=[n],this.loadResSync(t,e).then(function(e){for(var n=0,o=r._loadingMap[t];n<o.length;n++)(0,o[n])(e);r._loadingMap[t]=null,delete r._loadingMap[t]}),[2])})})},t.loadResSync=function(e,n,r){var o=this;if(e&&n)return t.loadProgress.url=e,r&&(this.loadProgress.cb=r),new Promise(function(r){cc.loader.loadRes(e,n,o._progressCallback,function(n,o){n?(cc.error(e+" [\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+n),r(null)):r(o),t.loadProgress.url="",t.loadProgress.completedCount=0,t.loadProgress.totalCount=0,t.loadProgress.item=null,t.loadProgress.cb=null})});cc.error("\u53c2\u6570\u9519\u8bef",e,n)},t._progressCallback=function(e,n,r){t.loadProgress.completedCount=e,t.loadProgress.totalCount=n,t.loadProgress.item=r,t.loadProgress.cb&&t.loadProgress.cb(e,n,r)},t.findChildInNode=function(t,e){if(e.name==t)return e;for(var n=0;n<e.childrenCount;n++){var r=this.findChildInNode(t,e.children[n]);if(r)return r}return null},t.checkNodePrefix=function(t){return t[0]===i.SysDefine.SYS_STANDARD_Prefix},t.checkBindChildren=function(t){return t[t.length-1]!==i.SysDefine.SYS_STANDARD_End},t.getPrefixNames=function(t){if(null!==t)return t.split(i.SysDefine.SYS_STANDARD_Separator)},t.getComponentName=function(t){var e=t.name.match(/<.*>$/);return e&&e.length>0?e[0].slice(1,-1):t.name},t.loadBundleSync=function(t,e){return new Promise(function(n){cc.assetManager.loadBundle(t,e,function(e,r){e?n(r):(cc.error("\u52a0\u8f7dbundle\u5931\u8d25, url: "+t+", err:"+e),n(null))})})},t.loadAssetFromBundleSync=function(t,e){var n=cc.assetManager.getBundle(t);return n?new Promise(function(t){n.load(e,function(n,r){n?(cc.error("\u52a0\u8f7dbundle\u4e2d\u7684\u8d44\u6e90\u5931\u8d25, \u672a\u627e\u5230asset, url:"+e+", err:"+n),t(null)):t(r)})}):(cc.error("\u52a0\u8f7dbundle\u4e2d\u7684\u8d44\u6e90\u5931\u8d25, \u672a\u627e\u5230bundle, bundleUrl:"+t),null)},t.loadAssetSync=function(t){var e=this;return new Promise(function(n){cc.resources.load(t,function(r,o){r?(e.addRef(o),n(o)):(cc.error("\u52a0\u8f7dasset\u5931\u8d25, url:"+t+", err: "+r),n(null))})})},t.releaseAsset=function(t){this.decRes(t)},t.addRef=function(t){if(t instanceof Array)for(var e=0,n=t;e<n.length;e++)n[e].addRef();else t.addRef()},t.decRes=function(t){if(t instanceof Array)for(var e=0,n=t;e<n.length;e++)n[e].decRef();else t.decRef()},t.testForCallback=function(t){return setTimeout(function(){t(1)},1e3),1},t.captureScreen=function(t,e){var n=new cc.RenderTexture,r=t.targetTexture,o=cc.rect(0,0,cc.visibleRect.width,cc.visibleRect.height);e&&(o=e instanceof cc.Node?e.getBoundingBoxToWorld():e),n.initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.game._renderContext.STENCIL_INDEX8),t.targetTexture=n,t.render(),t.targetTexture=r;var i=new ArrayBuffer(o.width*o.height*4),a=new Uint8Array(i);return n.readPixels(a,o.x,o.y,o.width,o.height),a},t.loadProgress=new a,t.sleepSync=function(t){return new Promise(function(e){setTimeout(function(){e(!0)},1e3*t)})},t._loadingMap={},t}();n.default=s,cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],ColorAssembler2D:[function(t,e,n){"use strict";cc._RF.push(e,"c9a56QZYulMfaIuAmDulT7c","ColorAssembler2D");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=a.executeInEditMode,l=a.requireComponent,h=(a.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._colors=[],e}return o(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return this._colors},set:function(t){this._colors=t,this._updateColors()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this)},e.prototype.onDisable=function(){cc.director.off(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},e.prototype._updateColors=function(){var t=this.getComponent(cc.RenderComponent);if(t){var e=t._assembler;if(e instanceof cc.Assembler2D){var n=e._renderData.uintVDatas[0];if(n)for(var r=this.node.color,o=e.floatsPerVert,i=0,a=e.colorOffset,s=n.length;a<s;a+=o)n[a]=(this.colors[i++]||r)._val}}},i([c],e.prototype,"_colors",void 0),i([c({type:[cc.Color]})],e.prototype,"colors",null),i([s,u,l(cc.RenderComponent)],e)}(cc.Component));n.default=h,cc._RF.pop()},{}],CommEnum:[function(t,e,n){"use strict";cc._RF.push(e,"dc374DCBfBKE4UY5u3HrB6c","CommEnum"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.CONST_MAX_LV=100,t.CONST_HEART_BEAT_TIME=1e4,t.CONST_MAX_GOLD=999999999999,t.CONST_MAX_TOKEN=9999999,t.CONST_MAX_SKRECIPE=9999999,t.CONST_MAX_SMELT=9999999,t.CONST_MAX_EQUIP_DWG=999,t.CONST_MAX_MOMO_HASH=999999999,t.CONST_MAX_AUCTION_PRICE=500,t.CONST_MIN_AUCTION_PRICE=.1,t.ID_GOLD=1,t.ID_SKILL_RECIPE=5,t.ID_DWG=6,t.ID_TOKEN=7,t.ID_SMELT=10,t.ATTR_HP=1,t.ATTR_MAXHP=2,t.ATTR_SPEED=3,t.ATTR_ATTACK=4,t.ATTR_ARMOR=5,t.ATTR_ARMOR_WEAKEN=6,t.ATTR_BLOCK=7,t.ATTR_BLOCK_WEAKEN=8,t.ATTR_CRIT=9,t.ATTR_CRIT_WEAKEN=10,t.ATTR_HIT=11,t.ATTR_DODGE=12,t.ATTR_DAMAGE=13,t.ATTR_DAMAGE_WEAKEN=14,t.ATTR_DAMAGE_REF=15,t.ATTR_LIFE_STEAL=16,t.ATTR_HEAL=17,t.ATTR_BEHEAL=18,t.ACTION_USE_SKILL=1,t.ACTION_PASSIVE_SKILL=2,t.ACTION_HP_ADD=3,t.ACTION_HP_SUB=4,t.ACTION_ATTR_ADD=5,t.ACTION_ATTR_SUB=6,t.ACTION_BUFF_ADD=7,t.ACTION_BUFF_DEL=8,t.ACTION_OBJ_ADD=9,t.ACTION_OBJ_DEL=10,t.ACTION_DODGE=11,t.ACTION_GOD=12,t.ACTION_ABSORB=13,t.BATTLETYPE_COMMON_PVP=1,t.BATTLETYPE_COMMON_PVE=11,t.CAREER_BARBARIAN=1,t.CAREER_DUELER=2,t.CAREER_RANGER=3,t.CAREER_ASSASSIN=4,t.CAREER_WITCH=5,t.CAREER_MONK=6,t.GEM_RED=1,t.GEM_GREEN=2,t.GEM_BLUE=3,t.GEM_YELLOW=4,t.MINE_GOLD=1,t.MINE_EQUIP=2,t.MINE_SKILL_RECIPE=3,t.EQUIP_FORGE_COMMON=1,t.EQUIP_FORGE_HIGH=2,t.EQUIP_REFINE_COMMON=1,t.EQUIP_REFINE_HIGH=2,t.TASK_STATE_DONE=1,t.TASK_STATE_COMPELETE=2,t.EQUIP_WHITE=1,t.EQUIP_GREEN=2,t.EQUIP_BLUE=3,t.EQUIP_PURPLE=4,t.EQUIP_ORANGE=5,t.EQUIP_RED=6,t.TASK_BATTLE_TIMES=7,t.TASK_BATTLE_WIN=8,t.TASK_SMELT_TIMES=9,t.TASK_FORGE_TIMES=10,t.TASK_MINE_GOLD=11,t.TASK_MINE_RECEIPT=12,t.TASK_MINE_EQUIP=13,t.TASK_ALL=14,t.LEADERBOARD_DUNGEON=1,t.LEADERBOARD_TYRO=2,t.LEADERBOARD_EPIC=3,t.LEADERBOARD_ROYAL=4,t.LEADERBOARD_LEGENDARY=5,t.LEADERBOARD_DUNGEON_EPIC=6,t.LEADERBOARD_DUNGEON_ROYAL=7,t.LEADERBOARD_DUNGEON_LEGENDARY=8,t.BATTLEFIELD_TYRO=1,t.BATTLEFIELD_EPIC=2,t.BATTLEFIELD_ROYAL=3,t.BATTLEFIELD_LEGENDARY=4,t.PAYMENT_ID_SPEED_UP_MINE=1,t.PAYMENT_ID_TYRO_BUY_ROB=2,t.PAYMENT_ID_EPIC_BUY_ROB=3,t.PAYMENT_ID_ROYAL_BUY_ROB=4,t.PAYMENT_ID_LEGENDARY_BUY_ROB=5,t.PAYMENT_ID_CLEAN_SKILL=6,t.PAYMENT_ID_TRANSFER_CAREER=7,t.PAYMENT_ID_RAPID_MINE_GOLD=8,t.PAYMENT_ID_RAPID_MINE_SKRECIPE=9,t.PAYMENT_ID_RAPID_MINE_EQUIP=10,t.PAYMENT_ID_ADD_BAG_LIMIT=21,t.PAYMENT_ID_EQUIP_FORGE=22,t.PAYMENT_ID_EQUIP_REFINE=23,t.PAYMENT_ID_INTENSIFY=24,t.PAYMENT_ID_EQUIP_AUCTION=101,t.BONUS_ID_EPIC=1001,t.BONUS_ID_ROYAL=1002,t.BONUS_ID_LEGENDARY=1003,t.BONUS_ID_DUNGEON_EPIC=1005,t.BONUS_ID_DUNGEON_ROYAL=1006,t.BONUS_ID_DUNGEON_LEGENDARY=1007,t.BONUS_ID_SWEEP=1008,t.BONUS_ID_LOTTERY=1101,t.BONUS_ID_EQUIP_AUCTION=1102,t.REVENGE_CAN=1,t.REVENGE_ALREADY=2,t.VIP_BUFF_FUN_ID_1=1,t.VIP_BUFF_FUN_ID_2=2,t.VIP_BUFF_FUN_ID_3=3,t.VIP_BUFF_FUN_ID_4=4,t.VIP_BUFF_FUN_ID_5=5,t.VIP_BUFF_FUN_ID_6=6,t.CURRENCY_MBOX=1,t}();n.default=r,cc._RF.pop()},{}],CommonUtils:[function(t,e,n){"use strict";cc._RF.push(e,"9814d/85SFDfo1f4MmYfH4s","CommonUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.CommonUtils=void 0;var r=t("../../../UIFrame/CocosHelper"),o=t("./MatchUtils"),i={nextInt:function(t,e){return Math.floor(Math.random()*(e-t))+t},next01:function(){return Math.random()}},a=function(){function t(){}return t.isArray=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},t.foramtDate=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};for(var r in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,("00"+n[r]).substr((""+n[r]).length)));return e},t.getElemClamped=function(t,e){return t[Math.max(0,Math.min(t.length-1,e))]},t.randomIntClosedRange=function(t,e){return Math.floor(Math.random()*(e-t+.9999)+t)},t.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},t.indexOfArr=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e.length,o=!1,i=0;i<=t.length-r;i+=r){o=!0;for(var a=0;a<r;a++)if(t[i+a]!==e[a]){o=!1;break}if(o)return i}return-1},t.floatEqual=function(t,e,n){return void 0===n&&(n=1e-6),Math.abs(t-e)<n},t.formatTimeInterval=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),e=n||e;var r="",o=Math.floor(t/3600);t%=3600;var i=Math.floor(t/60);return(n||o>0)&&(o<10&&(r+="0"),r+=o+":"),(e||i>0||o>0)&&(i<10&&(r+="0"),r+=i+":"),(t=Math.floor(t%60))<10&&(r+="0"),r+t},t.alignNumber=function(t,e){return t-Math.floor(t/e)*e},t.formatNumber=function(t){var e=""+Math.floor(t),n="",r=0;if(-1==e.indexOf(".")){for(var o=e.length-1;o>=0;o--)n=r%3==0&&0!=r?e.charAt(o)+","+n:e.charAt(o)+n,r++;return n}for(o=e.indexOf(".")-1;o>=0;o--)n=r%3==0&&0!=r?e.charAt(o)+","+n:e.charAt(o)+n,r++;return n+(e+"00").substr((e+"00").indexOf("."),3)},t.updateLabelSize=function(t){t._updateRenderData(!0)},t.lerp=function(t,e,n){return t+(e-t)*n},t.shuffle=function(t,e,n,r){void 0===e&&(e=i),void 0===n&&(n=0),void 0===r&&(r=-1),e=e||i,r<0&&(r=t.length-n);for(var o=0;o<r;o++){var a=e.nextInt(n,n+r-o),s=t[a];t[a]=t[r-o-1+n],t[r-o-1+n]=s}},t.setItemSpriteFrame=function(t,e,n){void 0===n&&(n=null),t.spriteFrameName=e,r.default.loadResSync(e,cc.SpriteFrame).then(function(r){t.isValid&&t.spriteFrameName==e&&(t.spriteFrame=r,n&&n(t))})},t.addSimpleClick=function(t,e){var n=t,r=null;n.on(cc.Node.EventType.TOUCH_START,function(t){r=t.getLocation()},this),n.on(cc.Node.EventType.TOUCH_END,function(t){r&&r.subSelf(t.getLocation()).mag()<3&&e()},this)},t.isGoodNumber=function(t){return"number"==typeof t&&!Number.isNaN(t)},t.getVisibleRect=function(){var t=cc.view.getViewportRect();return cc.rect(t.origin.x/-cc.view.getScaleX(),t.origin.y/-cc.view.getScaleY(),(t.size.width+2*t.origin.x)/cc.view.getScaleX(),(t.size.height+2*t.origin.y)/cc.view.getScaleY())},t.httpGet=function(t,e){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&200==n.status){var t=n.responseText,r=JSON.parse(t);e(r)}else 4===n.readyState&&401==n.status&&e({ret:1})},n.withCredentials=!0,n.open("GET",t,!0),n.withCredentials=!1,n.setRequestHeader("Access-Control-Allow-Origin","*"),n.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),n.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type,authorization"),n.setRequestHeader("Content-Type","application/json"),n.timeout=8e3,n.send()},t.randomGaussian=function(t,e,n){void 0===n&&(n=i);var r=(n=n||i).next01(),o=n.next01();return Math.sqrt(-2*Math.log(r))*Math.cos(2*Math.PI*o)*e+t},t.deepCopy=function(t,e){for(var n in e)this._deepCopyFields(t,e,n)},t.constructObjectMap=function(t){var e=new Map;for(var n in t){var r=t[n];"object"==typeof r?e.set(n,this.constructObjectMap(r)):e.set(n,r)}return e},t._deepCopyFields=function(t,e,n){var r=e[n];if("number"==typeof r||"string"==typeof r)t[n]=r;else if(this.isArray[r])for(var o=t[n]=[],i=0;i<r.length;i++)this._deepCopyFields(o,r,i);else if(null==r)t[n]=null;else if("object"==typeof r){var a=new r.constructor;for(var s in e)this._deepCopyFields(a,r,s)}},t.formatNumberToEng=function(e){if(e<1&&e>0)return"1";e=Math.floor(e);var n=Math.floor(t.getExponent(e));if(n<13){if(n<4)return e+"";var r=Math.floor(n/t.constNum),o=n%t.constNum;return String(e/Math.pow(10,r*t.constNum)).substr(0,t.constNum+o)+t.getUnit(n)}return(e/Math.pow(10,n)).toFixed(3)+"e"+n},t.getExponent=function(t){for(var e=0;t>=10;)e++,t/=10;return e},t.getUnit=function(e){var n=Math.floor(e/t.constNum);return e<13?t.unitArr[n]:"e"+(n=Math.floor(e/t.constNum))*t.constNum},t.formatEngNumber=function(t,e){var n,r;void 0===e&&(e=2);var o="";return(t=t)<0&&(o="-",t=-t),t>=1e9?(r=t/1e9,n=(.001*Math.floor(r/.001)).toFixed(e),o+this.formatEndingZero(n)+"B"):t>=1e6?(r=t/1e6,n=(.001*Math.floor(r/.001)).toFixed(e),o+this.formatEndingZero(n)+"M"):o+this.convertNum(t,e)},t.convertNum=function(t,e){void 0===e&&(e=2);var n=t.toString().split("."),r=n[1];return Number(n[0]).toLocaleString()+(n[1]?"."+r.substr(0,e):"")},t.formatEndingZero=function(t){if(-1!=t.indexOf(".")){if(this.endWith(t,"00"))return t.substring(0,t.length-3);if(this.endWith(t,"0"))return t.substring(0,t.length-1)}return t},t.endWith=function(t,e){return e==t.substring(t.length-e.length)},t.makeMaxWidthLabel=function(t,e){var n={};return n.__proto__=t,Object.defineProperty(n,"string",{configurable:!0,enumerable:!0,get:function(){return t.string},set:function(n){t.overflow=cc.Label.Overflow.NONE,t.string=n,t._updateRenderData(!0),t.node.width>e&&(t.overflow=cc.Label.Overflow.RESIZE_HEIGHT,t.node.setContentSize(e,1),t.string=n)}}),n},t.climeUserName=function(t,e){void 0===e&&(e=14);for(var n=t.length;this.strlen(t)>e;)t=t.substring(0,t.length-1);return t.length!=n&&(t+="..."),t},t.strlen=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r>=1&&r<=126||65376<=r&&r<=65439?e++:e+=2}return e},t.shuffleArr=function(t){for(var e,n,r,o=t.length,i=0;i<o;i++){n=o-i-1,void 0,r=t[e=Math.floor(Math.random()*(o-i))],t[e]=t[n],t[n]=r}return t},t.binarySearch=function(t,e,n){void 0===n&&(n=!1);for(var r=0,o=t.length-1;o-r>1;){var i=Math.floor((r+o)/2);if(e<t[i])o=i;else{if(!(e>t[i]))return i;r=i}}return n?r==t.length-1?t.length:o:0==o?-1:r},t.isInTriangle=function(t,e,n,r){var o=n.sub(e),i=r.sub(e),a=r.sub(n),s=t.sub(e),c=t.sub(n);return o.cross(i)>=0^o.cross(s)<0&&o.cross(i)>=0^i.cross(s)>=0&&a.cross(o)>0^a.cross(c)>=0},t.isInPolygon=function(t,e){var n,r,o,i,a=0,s=e.length;for(o=e[0],n=1;n<=s;n++)i=e[n%s],t.x>Math.min(o.x,i.x)&&t.x<=Math.max(o.x,i.x)&&t.y<=Math.max(o.y,i.y)&&o.x!=i.x&&(r=(t.x-o.x)*(i.y-o.y)/(i.x-o.x)+o.y,(o.y==i.y||t.y<=r)&&a++),o=i;return a%2!=0},t.splitePolygon=function(t){if(t.length<=3)return[0,1,2];for(var e={},n=0;n<t.length;n++){var r=t[n];e[r.x+"-"+r.y]=n}var o=function(t){return e[t.x+"-"+t.y]};t=t.concat([]);for(var i=[],a=0;t.length>3;){var s=t[a%t.length],c=t[(a+1)%t.length],u=t[(a+2)%t.length],l=(a+1)%t.length,h=c.sub(s),d=u.sub(c);if(h.cross(d)<0)a=(a+1)%t.length;else{for(var _=!1,p=0,f=t;p<f.length;p++)if((r=f[p])!=s&&r!=c&&r!=u&&this.isInTriangle(r,s,c,u)){_=!0;break}_?a=(a+1)%t.length:(i.push(o(s),o(c),o(u)),t.splice(l,1))}}for(var y=0,v=t;y<v.length;y++)r=v[y],i.push(o(r));return i},t.computeUv=function(t,e,n){for(var r=[],i=0,a=t;i<a.length;i++){var s=a[i],c=o.MathUtils.clamp(0,1,(s.x+e/2)/e),u=o.MathUtils.clamp(0,1,1-(s.y+n/2)/n);r.push(cc.v2(c,u))}return r},t.unitArr=["","K","M","B"],t.constNum=3,t}();n.CommonUtils=a,cc._RF.pop()},{"../../../UIFrame/CocosHelper":"CocosHelper","./MatchUtils":"MatchUtils"}],Constants:[function(t,e,n){"use strict";cc._RF.push(e,"479b1VG3BRF34TNbGlUhXED","Constants"),Object.defineProperty(n,"__esModule",{value:!0}),n.Constants=n.UISkinPaths=void 0;var r,o=t("./prefab/indexPrefab");(function(t){t.custom=""})(r=n.UISkinPaths||(n.UISkinPaths={}));var i=function(){function t(){}return t.UI_PATH_PREFIX="Prefabs/",t.UI_SKIN_TYPE=r.custom,t.Panels=o,t.version="1.0.0",t.build="1",t}();n.Constants=i,cc._RF.pop()},{"./prefab/indexPrefab":"indexPrefab"}],1:[function(t,e){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}})();var u,l=[],h=!1,d=-1;function _(){h&&u&&(h=!1,u.length?l=u.concat(l):d=-1,l.length&&p())}function p(){if(!h){var t=s(_);h=!0;for(var e=l.length;e;){for(u=l,l=[];++d<e;)u&&u[d].run();d=-1,e=l.length}u=null,h=!1,c(t)}}function f(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||h||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(){return[]},o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function a(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-->0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}var u="An invariant failed, however the error is obfuscated because this is an production build.",l=[];Object.freeze(l);var h={};function d(){return++Nt.mobxGuid}function _(t){throw p(!1,t),"X"}function p(t,e){if(!t)throw new Error("[mobx] "+(e||u))}Object.freeze(h);var f=[];function y(e,n){return"production"!==t.env.NODE_ENV&&(n?y("'"+e+"', use '"+n+"' instead."):-1===f.indexOf(e)&&(f.push(e),console.error("[mobx] Deprecated: "+e),!0))}function v(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var g=function(){};function E(t){return null!==t&&"object"==typeof t}function m(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function I(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function b(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!n||!1!==n.configurable&&!1!==n.writable}function C(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return E(t)&&!0===t[n]}}function A(t){return t instanceof Map}function T(t){return t instanceof Set}function S(t){return null===t?null:"object"==typeof t?""+t:t}var O=Symbol("mobx administration"),R=function(){function t(t){void 0===t&&(t="Atom@"+d()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=n.IDerivationState.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(t){return t()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(t){return t()})},t.prototype.reportObserved=function(){return Bt(this)},t.prototype.reportChanged=function(){Wt(),kt(this),xt()},t.prototype.toString=function(){return this.name},t}(),w=C("Atom",R);function N(t,e,n){void 0===e&&(e=g),void 0===n&&(n=g);var r=new R(t);return e!==g&&_e(r,e),n!==g&&pe(r,n),r}var L={identity:function(t,e){return t===e},structural:function(t,e){return On(t,e)},default:function(t,e){return Object.is(t,e)}},M=Symbol("mobx did run lazy initializers"),P=Symbol("mobx pending decorators"),D={},U={};function F(t,e){var n=e?D:U;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return W(this),this[t]},set:function(e){W(this),this[t]=e}})}function W(t){if(!0!==t[M]){var e=t[P];if(e)for(var n in I(t,M,!0),e){var r=e[n];r.propertyCreator(t,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function x(e,n){return function(){var r,o=function(o,a,s,c){if(!0===c)return n(o,a,s,o,r),null;if("production"===t.env.NODE_ENV||B(arguments)||_("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(o,P)){var u=o[P];I(o,P,i({},u))}return o[P][a]={prop:a,propertyCreator:n,descriptor:s,decoratorTarget:o,decoratorArguments:r},F(a,e)};return B(arguments)?(r=l,o.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),o)}}function B(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]||4===t.length&&!0===t[3]}function k(t,e,n){return we(t)?t:Array.isArray(t)?Z.array(t,{name:n}):m(t)?Z.object(t,void 0,{name:n}):A(t)?Z.map(t,{name:n}):T(t)?Z.set(t,{name:n}):t}function V(t){return t}function G(e){p(e);var n=x(!0,function(n,r,o){"production"!==t.env.NODE_ENV&&p(!o||!o.get,'@observable cannot be used on getter (property "'+r+'"), use @computed instead.');var i=o?o.initializer?o.initializer.call(n):o.value:void 0;fn(n).addObservableProp(r,i,e)}),r=void 0!==t&&t.env&&"production"!==t.env.NODE_ENV?function(){return arguments.length<2?_("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):n.apply(null,arguments)}:n;return r.enhancer=e,r}var j={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function H(t){/^(deep|name|equals|defaultDecorator|proxy)$/.test(t)||_("invalid option for (extend)observable: "+t)}function Y(e){if(null==e)return j;if("string"==typeof e)return{name:e,deep:!0,proxy:!0};if("production"!==t.env.NODE_ENV){if("object"!=typeof e)return _("expected options object");Object.keys(e).forEach(H)}return e}Object.freeze(j);var K=G(k),Q=G(function(e,n,r){return null==e?e:bn(e)||on(e)||ln(e)||_n(e)?e:Array.isArray(e)?Z.array(e,{name:r,deep:!1}):m(e)?Z.object(e,void 0,{name:r,deep:!1}):A(e)?Z.map(e,{name:r,deep:!1}):T(e)?Z.set(e,{name:r,deep:!1}):_("production"!==t.env.NODE_ENV&&"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")}),z=G(V),q=G(function(e,n){if("production"!==t.env.NODE_ENV&&we(e))throw"observable.struct should not be used with observable values";return On(e,n)?n:e});function X(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?V:k}var J={box:function(t,e){arguments.length>2&&$("box");var n=Y(e);return new ht(t,X(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&$("array");var n=Y(e);return $e(t,X(n),n.name)},map:function(t,e){arguments.length>2&&$("map");var n=Y(e);return new sn(t,X(n),n.name)},set:function(t,e){arguments.length>2&&$("set");var n=Y(e);return new dn(t,X(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&$("object");var r=Y(n);if(!1===r.proxy)return ye({},t,e,r);var o=ve(r),i=ye({},void 0,void 0,r),a=Ye(i);return ge(a,t,e,o),a},ref:z,shallow:Q,deep:K,struct:q},Z=function(e,n,r){if("string"==typeof arguments[1])return K.apply(null,arguments);if(we(e))return e;var o=m(e)?Z.object(e,n,r):Array.isArray(e)?Z.array(e,n):A(e)?Z.map(e,n):T(e)?Z.set(e,n):e;if(o!==e)return o;_("production"!==t.env.NODE_ENV&&"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function $(t){_("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(J).forEach(function(t){return Z[t]=J[t]});var tt=x(!1,function(t,e,n,r,o){var a=n.get,s=n.set,c=o[0]||{};fn(t).addComputedProp(t,e,i({get:a,set:s,context:t},c))}),et=tt({equals:L.structural}),nt=function(e,n){if("string"==typeof n)return tt.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return tt.apply(null,arguments);"production"!==t.env.NODE_ENV&&(p("function"==typeof e,"First argument to `computed` should be an expression."),p(arguments.length<3,"Computed takes one or two arguments if used as function"));var r="object"==typeof n?n:{};return r.get=e,r.set="function"==typeof n?n:r.set,r.name=r.name||e.name||"",new _t(r)};function rt(e,n,r){"production"!==t.env.NODE_ENV&&(p("function"==typeof n,"`action` can only be invoked on functions"),"string"==typeof e&&e||_("actions should have valid names, got: '"+e+"'"));var o=function(){return ot(e,n,r||this,arguments)};return o.isMobxAction=!0,o}function ot(t,e,n,r){var o=it(t,0,n,r),i=!0;try{var a=e.apply(n,r);return i=!1,a}finally{i?(Nt.suppressReactionErrors=i,at(o),Nt.suppressReactionErrors=!1):at(o)}}function it(e,n,r,o){var i=Zt()&&!!e,a=0;if(i&&"production"!==t.env.NODE_ENV){a=Date.now();var s=o&&o.length||0,c=new Array(s);if(s>0)for(var u=0;u<s;u++)c[u]=o[u];te({type:"action",name:e,object:r,arguments:c})}var l=Ct();return Wt(),{prevDerivation:l,prevAllowStateChanges:st(!0),notifySpy:i,startTime:a}}function at(e){ct(e.prevAllowStateChanges),xt(),At(e.prevDerivation),e.notifySpy&&"production"!==t.env.NODE_ENV&&ne({time:Date.now()-e.startTime})}function st(t){var e=Nt.allowStateChanges;return Nt.allowStateChanges=t,e}function ct(t){Nt.allowStateChanges=t}nt.struct=et;var ut,lt,ht=function(e){function n(n,r,o,i,a){void 0===o&&(o="ObservableValue@"+d()),void 0===i&&(i=!0),void 0===a&&(a=L.default);var s=e.call(this,o)||this;return s.enhancer=r,s.name=o,s.equals=a,s.hasUnreportedChange=!1,s.value=r(n,void 0,o),i&&Zt()&&"production"!==t.env.NODE_ENV&&$t({type:"create",name:s.name,newValue:""+s.value}),s}return o(n,e),n.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.prototype.set=function(e){var n=this.value;if((e=this.prepareNewValue(e))!==Nt.UNCHANGED){var r=Zt();r&&"production"!==t.env.NODE_ENV&&te({type:"update",name:this.name,newValue:e,oldValue:n}),this.setNewValue(e),r&&"production"!==t.env.NODE_ENV&&ne()}},n.prototype.prepareNewValue=function(t){if(gt(this),Ke(this)){var e=ze(this,{object:this,type:"update",newValue:t});if(!e)return Nt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Nt.UNCHANGED:t},n.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),qe(this)&&Je(this,{type:"update",object:this,newValue:t,oldValue:e})},n.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},n.prototype.intercept=function(t){return Qe(this,t)},n.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),Xe(this,t)},n.prototype.toJSON=function(){return this.get()},n.prototype.toString=function(){return this.name+"["+this.value+"]"},n.prototype.valueOf=function(){return S(this.get())},n.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},n}(R),dt=C("ObservableValue",ht),_t=function(){function e(e){if(this.dependenciesState=n.IDerivationState.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=n.IDerivationState.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+d(),this.value=new ft(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=lt.NONE,"production"!==t.env.NODE_ENV&&!e.get)throw"[mobx] missing option for computed: get";this.derivation=e.get,this.name=e.name||"ComputedValue@"+d(),e.set&&(this.setter=rt(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?L.structural:L.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){Gt(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(t){return t()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(t){return t()})},e.prototype.get=function(){this.isComputing&&_("Cycle detected in computation "+this.name+": "+this.derivation),0!==Nt.inBatch||0!==this.observers.size||this.keepAlive?(Bt(this),vt(this)&&this.trackAndCompute()&&Vt(this)):vt(this)&&(this.warnAboutUntrackedRead(),Wt(),this.value=this.computeValue(!1),xt());var t=this.value;if(yt(t))throw t.cause;return t},e.prototype.peek=function(){var t=this.computeValue(!1);if(yt(t))throw t.cause;return t},e.prototype.set=function(e){if(this.setter){p(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else p(!1,"production"!==t.env.NODE_ENV&&"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){Zt()&&"production"!==t.env.NODE_ENV&&$t({object:this.scope,type:"compute",name:this.name});var e=this.value,r=this.dependenciesState===n.IDerivationState.NOT_TRACKING,o=this.computeValue(!0),i=r||yt(e)||yt(o)||!this.equals(e,o);return i&&(this.value=o),i},e.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Nt.computationDepth++,t)e=Et(this,this.derivation,this.scope);else if(!0===Nt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(n){e=new ft(n)}return Nt.computationDepth--,this.isComputing=!1,e},e.prototype.suspend=function(){this.keepAlive||(It(this),this.value=void 0)},e.prototype.observe=function(t,e){var n=this,r=!0,o=void 0;return le(function(){var i=n.get();if(!r||e){var a=Ct();t({type:"update",object:n,newValue:i,oldValue:o}),At(a)}r=!1,o=i})},e.prototype.warnAboutUntrackedRead=function(){"production"!==t.env.NODE_ENV&&(!0===this.requiresReaction&&_("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==lt.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),Nt.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute"))},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return S(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),pt=C("ComputedValue",_t);(ut=n.IDerivationState||(n.IDerivationState={}))[ut.NOT_TRACKING=-1]="NOT_TRACKING",ut[ut.UP_TO_DATE=0]="UP_TO_DATE",ut[ut.POSSIBLY_STALE=1]="POSSIBLY_STALE",ut[ut.STALE=2]="STALE",function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(lt||(lt={}));var ft=function(t){this.cause=t};function yt(t){return t instanceof ft}function vt(t){switch(t.dependenciesState){case n.IDerivationState.UP_TO_DATE:return!1;case n.IDerivationState.NOT_TRACKING:case n.IDerivationState.STALE:return!0;case n.IDerivationState.POSSIBLY_STALE:for(var e=Ct(),r=t.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(pt(a)){if(Nt.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return At(e),!0}if(t.dependenciesState===n.IDerivationState.STALE)return At(e),!0}}return Tt(t),At(e),!1}}function gt(e){var n=e.observers.size>0;Nt.computationDepth>0&&n&&_("production"!==t.env.NODE_ENV&&"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),Nt.allowStateChanges||!n&&"strict"!==Nt.enforceActions||_("production"!==t.env.NODE_ENV&&(Nt.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function Et(t,e,n){Tt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Nt.runId;var r,o=Nt.trackingDerivation;if(Nt.trackingDerivation=t,!0===Nt.disableErrorBoundaries)r=e.call(n);else try{r=e.call(n)}catch(i){r=new ft(i)}return Nt.trackingDerivation=o,mt(t),r}function mt(t){for(var e=t.observing,r=t.observing=t.newObserving,o=n.IDerivationState.UP_TO_DATE,i=0,a=t.unboundDepsCount,s=0;s<a;s++)0===(c=r[s]).diffValue&&(c.diffValue=1,i!==s&&(r[i]=c),i++),c.dependenciesState>o&&(o=c.dependenciesState);for(r.length=i,t.newObserving=null,a=e.length;a--;)0===(c=e[a]).diffValue&&Ut(c,t),c.diffValue=0;for(;i--;){var c;1===(c=r[i]).diffValue&&(c.diffValue=0,Dt(c,t))}o!==n.IDerivationState.UP_TO_DATE&&(t.dependenciesState=o,t.onBecomeStale())}function It(t){var e=t.observing;t.observing=[];for(var r=e.length;r--;)Ut(e[r],t);t.dependenciesState=n.IDerivationState.NOT_TRACKING}function bt(t){var e=Ct();try{return t()}finally{At(e)}}function Ct(){var t=Nt.trackingDerivation;return Nt.trackingDerivation=null,t}function At(t){Nt.trackingDerivation=t}function Tt(t){if(t.dependenciesState!==n.IDerivationState.UP_TO_DATE){t.dependenciesState=n.IDerivationState.UP_TO_DATE;for(var e=t.observing,r=e.length;r--;)e[r].lowestObserverState=n.IDerivationState.UP_TO_DATE}}var St=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","disableErrorBoundaries","runId","UNCHANGED"],Ot=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Rt=!0,wt=!1,Nt=function(){var t=Lt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Rt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Ot).version&&(Rt=!1),Rt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Ot):(setTimeout(function(){wt||_("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Ot)}();function Lt(){return"undefined"!=typeof window?window:e}function Mt(t){return t.observers&&t.observers.size>0}function Pt(t){return t.observers}function Dt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Ut(t,e){t.observers.delete(e),0===t.observers.size&&Ft(t)}function Ft(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Nt.pendingUnobservations.push(t))}function Wt(){Nt.inBatch++}function xt(){if(0==--Nt.inBatch){zt();for(var t=Nt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof _t&&n.suspend())}Nt.pendingUnobservations=[]}}function Bt(t){var e=Nt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&Nt.inBatch>0&&Ft(t),!1)}function kt(t){t.lowestObserverState!==n.IDerivationState.STALE&&(t.lowestObserverState=n.IDerivationState.STALE,t.observers.forEach(function(e){e.dependenciesState===n.IDerivationState.UP_TO_DATE&&(e.isTracing!==lt.NONE&&jt(e,t),e.onBecomeStale()),e.dependenciesState=n.IDerivationState.STALE}))}function Vt(t){t.lowestObserverState!==n.IDerivationState.STALE&&(t.lowestObserverState=n.IDerivationState.STALE,t.observers.forEach(function(e){e.dependenciesState===n.IDerivationState.POSSIBLY_STALE?e.dependenciesState=n.IDerivationState.STALE:e.dependenciesState===n.IDerivationState.UP_TO_DATE&&(t.lowestObserverState=n.IDerivationState.UP_TO_DATE)}))}function Gt(t){t.lowestObserverState===n.IDerivationState.UP_TO_DATE&&(t.lowestObserverState=n.IDerivationState.POSSIBLY_STALE,t.observers.forEach(function(e){e.dependenciesState===n.IDerivationState.UP_TO_DATE&&(e.dependenciesState=n.IDerivationState.POSSIBLY_STALE,e.isTracing!==lt.NONE&&jt(e,t),e.onBecomeStale())}))}function jt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===lt.BREAK){var n=[];Ht(Ee(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof _t?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Ht(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach(function(t){return Ht(t,e,n+1)}))}var Yt=function(){function e(t,e,r){void 0===t&&(t="Reaction@"+d()),this.name=t,this.onInvalidate=e,this.errorHandler=r,this.observing=[],this.newObserving=[],this.dependenciesState=n.IDerivationState.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+d(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=lt.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Nt.pendingReactions.push(this),zt())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Wt(),this._isScheduled=!1,vt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Zt()&&"production"!==t.env.NODE_ENV&&$t({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}xt()}},e.prototype.track=function(e){this.isDisposed&&_("Reaction already disposed"),Wt();var n,r=Zt();r&&"production"!==t.env.NODE_ENV&&(n=Date.now(),te({name:this.name,type:"reaction"})),this._isRunning=!0;var o=Et(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&It(this),yt(o)&&this.reportExceptionInDerivation(o.cause),r&&"production"!==t.env.NODE_ENV&&ne({time:Date.now()-n}),xt()},e.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Nt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Nt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),Zt()&&$t({type:"error",name:this.name,message:n,error:""+t}),Nt.globalReactionErrorHandlers.forEach(function(n){return n(t,e)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Wt(),It(this),xt()))},e.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[O]=this,t},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(t){void 0===t&&(t=!1),xe(this,t)},e}(),Kt=100,Qt=function(t){return t()};function zt(){Nt.inBatch>0||Nt.isRunningReactions||Qt(qt)}function qt(){Nt.isRunningReactions=!0;for(var t=Nt.pendingReactions,e=0;t.length>0;){++e===Kt&&(console.error("Reaction doesn't converge to a stable state after "+Kt+" iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Nt.isRunningReactions=!1}var Xt=C("Reaction",Yt);function Jt(t){var e=Qt;Qt=function(n){return t(function(){return e(n)})}}function Zt(){return"production"!==t.env.NODE_ENV&&!!Nt.spyListeners.length}function $t(e){if("production"!==t.env.NODE_ENV&&Nt.spyListeners.length)for(var n=Nt.spyListeners,r=0,o=n.length;r<o;r++)n[r](e)}function te(e){"production"!==t.env.NODE_ENV&&$t(i({},e,{spyReportStart:!0}))}var ee={spyReportEnd:!0};function ne(e){"production"!==t.env.NODE_ENV&&$t(e?i({},e,{spyReportEnd:!0}):ee)}function re(e){return"production"===t.env.NODE_ENV?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(Nt.spyListeners.push(e),v(function(){Nt.spyListeners=Nt.spyListeners.filter(function(t){return t!==e})}))}function oe(){_("production"!==t.env.NODE_ENV&&"@action fields are not reassignable")}function ie(e){return function(n,r,o){if(o){if("production"!==t.env.NODE_ENV&&void 0!==o.get)return _("@action cannot be used with getters");if(o.value)return{value:rt(e,o.value),enumerable:!1,configurable:!0,writable:!0};var i=o.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return rt(e,i.call(this))}}}return ae(e).apply(this,arguments)}}function ae(t){return function(e,n){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){I(this,n,se(t,e))}})}}var se=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?rt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?rt(t,e):1===arguments.length&&"string"==typeof t?ie(t):!0!==r?ie(e).apply(null,arguments):void I(t,e,rt(t.name||e,n.value,this))};function ce(t){return"function"==typeof t&&!0===t.isMobxAction}function ue(t,e,n){I(t,e,rt(e,n.bind(t)))}function le(e,n){void 0===n&&(n=h),"production"!==t.env.NODE_ENV&&(p("function"==typeof e,"Autorun expects a function as first argument"),p(!1===ce(e),"Autorun does not accept actions since actions are untrackable"));var r,o=n&&n.name||e.name||"Autorun@"+d();if(n.scheduler||n.delay){var i=de(n),a=!1;r=new Yt(o,function(){a||(a=!0,i(function(){a=!1,r.isDisposed||r.track(s)}))},n.onError)}else r=new Yt(o,function(){this.track(s)},n.onError);function s(){e(r)}return r.schedule(),r.getDisposer()}se.bound=function(t,e,n,r){return!0===r?(ue(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return ue(this,e,n.value||n.initializer.call(this)),this[e]},set:oe}:{enumerable:!1,configurable:!0,set:function(t){ue(this,e,t)},get:function(){}}};var he=function(t){return t()};function de(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:he}function _e(t,e,n){return fe("onBecomeObserved",t,e,n)}function pe(t,e,n){return fe("onBecomeUnobserved",t,e,n)}function fe(e,n,r,o){var i="string"==typeof r?Cn(n,r):Cn(n),a="string"==typeof r?o:r,s=e+"Listeners";return i[s]?i[s].add(a):i[s]=new Set([a]),"function"!=typeof i[e]?_("production"!==t.env.NODE_ENV&&"Not an atom that can be (un)observed"):function(){var t=i[s];t&&(t.delete(a),0===t.size&&delete i[s])}}function ye(e,n,r,o){"production"!==t.env.NODE_ENV&&(p(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),p("object"==typeof e,"'extendObservable' expects an object as first argument"),p(!ln(e),"'extendObservable' should not be used on maps, use map.merge instead"));var i=ve(o=Y(o));return W(e),fn(e,o.name,i.enhancer),n&&ge(e,n,r,i),e}function ve(t){return t.defaultDecorator||(!1===t.deep?z:K)}function ge(e,n,r,o){if("production"!==t.env.NODE_ENV&&(p(!we(n),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),r))for(var i in r)i in n||_("Trying to declare a decorator for unspecified property '"+i+"'");Wt();try{for(var i in n){var a=Object.getOwnPropertyDescriptor(n,i);"production"!==t.env.NODE_ENV&&(Object.getOwnPropertyDescriptor(e,i)&&_("'extendObservable' can only be used to introduce new properties. Use 'set' or 'decorate' instead. The property '"+i+"' already exists on '"+e+"'"),Oe(a.value)&&_("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead"));var s=r&&i in r?r[i]:a.get?tt:o;"production"!==t.env.NODE_ENV&&"function"!=typeof s&&_("Not a valid decorator for '"+i+"', got: "+s);var c=s(e,i,a,!0);c&&Object.defineProperty(e,i,c)}}finally{xt()}}function Ee(t,e){return me(Cn(t,e))}function me(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),n).map(me)),r}function Ie(t){var e={name:t.name};return Mt(t)&&(e.observers=Array.from(Pt(t)).map(Ie)),e}var be=0;function Ce(t){"function"==typeof t.cancel&&t.cancel()}function Ae(t,e){return An(t).intercept(e)}function Te(t,e,n){return An(t,e).intercept(n)}function Se(t,e){if(null==t)return!1;if(void 0!==e){if(!1===bn(t))return!1;if(!t[O].values.has(e))return!1;var n=Cn(t,e);return pt(n)}return pt(t)}function Oe(e){return arguments.length>1?_("production"!==t.env.NODE_ENV&&"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):Se(e)}function Re(e,n){return null!=e&&(void 0!==n?"production"!==t.env.NODE_ENV&&(ln(e)||on(e))?_("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!bn(e)&&e[O].values.has(n):bn(e)||!!e[O]||w(e)||Xt(e)||pt(e))}function we(e){return 1!==arguments.length&&_("production"!==t.env.NODE_ENV&&"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Re(e)}function Ne(e){return bn(e)?e[O].getKeys():ln(e)?Array.from(e.keys()):_n(e)?Array.from(e.keys()):on(e)?e.map(function(t,e){return e}):_("production"!==t.env.NODE_ENV&&"'keys()' can only be used on observable objects, arrays, sets and maps")}function Le(e,n,r){if(2!==arguments.length)if(bn(e)){var o=e[O];o.values.get(n)?o.write(n,r):o.addObservableProp(n,r,o.defaultEnhancer)}else if(ln(e))e.set(n,r);else{if(!on(e))return _("production"!==t.env.NODE_ENV&&"'set()' can only be used on observable objects, arrays and maps");"number"!=typeof n&&(n=parseInt(n,10)),p(n>=0,"Not a valid index: '"+n+"'"),Wt(),n>=e.length&&(e.length=n+1),e[n]=r,xt()}else{Wt();var i=n;try{for(var a in i)Le(e,a,i[a])}finally{xt()}}}function Me(e,n){return bn(e)?An(e).has(n):ln(e)?e.has(n):_n(e)?e.has(n):on(e)?n>=0&&n<e.length:_("production"!==t.env.NODE_ENV&&"'has()' can only be used on observable objects, arrays and maps")}function Pe(t,e,n){return An(t).observe(e,n)}function De(t,e,n,r){return An(t,e).observe(n,r)}var Ue={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Fe(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function We(t,e,n){if(!e.recurseEverything&&!we(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(dt(t))return We(t.get(),e,n);if(we(t)&&Ne(t),!0===e.detectCycles&&null!==t&&n.has(t))return n.get(t);if(on(t)||Array.isArray(t)){var r=Fe(n,t,[],e),o=t.map(function(t){return We(t,e,n)});r.length=o.length;for(var i=0,a=o.length;i<a;i++)r[i]=o[i];return r}if(_n(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===e.exportMapsAsObjects){var s=Fe(n,t,new Set,e);return t.forEach(function(t){s.add(We(t,e,n))}),s}var c=Fe(n,t,[],e);return t.forEach(function(t){c.push(We(t,e,n))}),c}if(ln(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===e.exportMapsAsObjects){var u=Fe(n,t,new Map,e);return t.forEach(function(t,r){u.set(r,We(t,e,n))}),u}var l=Fe(n,t,{},e);return t.forEach(function(t,r){l[r]=We(t,e,n)}),l}var h=Fe(n,t,{},e);for(var d in t)h[d]=We(t[d],e,n);return h}function xe(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=!1;"boolean"==typeof e[e.length-1]&&(r=e.pop());var o=Be(e);if(!o)return _("production"!==t.env.NODE_ENV&&"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing===lt.NONE&&console.log("[mobx.trace] '"+o.name+"' tracing enabled"),o.isTracing=r?lt.BREAK:lt.LOG}function Be(t){switch(t.length){case 0:return Nt.trackingDerivation;case 1:return Cn(t[0]);case 2:return Cn(t[0],t[1])}}function ke(t,e){void 0===e&&(e=void 0),Wt();try{return t.apply(e)}finally{xt()}}function Ve(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!i[O].isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}},n.timeout)),n.name=n.name||"When@"+d();var o=rt(n.name+"-effect",e),i=le(function(e){t()&&(e.dispose(),r&&clearTimeout(r),o())},n);return i}function Ge(e,n){if("production"!==t.env.NODE_ENV&&n&&n.onError)return _("the options 'onError' and 'promise' cannot be combined");var r,o=new Promise(function(t,o){var a=Ve(e,t,i({},n,{onError:o}));r=function(){a(),o("WHEN_CANCELLED")}});return o.cancel=r,o}function je(t){return t[O]}var He={has:function(t,e){if(e===O||"constructor"===e||e===M)return!0;var n=je(t);return"string"==typeof e?n.has(e):e in t},get:function(t,e){if(e===O||"constructor"===e||e===M)return t[e];var n=je(t),r=n.values.get(e);if(r instanceof R){var o=r.get();return void 0===o&&n.has(e),o}return"string"==typeof e&&n.has(e),t[e]},set:function(t,e,n){return"string"==typeof e&&(Le(t,e,n),!0)},deleteProperty:function(t,e){return"string"==typeof e&&(je(t).remove(e),!0)},ownKeys:function(t){return je(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(){return _("Dynamic observable objects cannot be frozen"),!1}};function Ye(t){var e=new Proxy(t,He);return t[O].proxy=e,e}function Ke(t){return void 0!==t.interceptors&&t.interceptors.length>0}function Qe(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),v(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function ze(t,e){var n=Ct();try{var r=t.interceptors;if(r)for(var o=0,i=r.length;o<i&&(p(!(e=r[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{At(n)}}function qe(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function Xe(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),v(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function Je(t,e){var n=Ct(),r=t.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](e);At(n)}}var Ze={get:function(t,e){return e===O?t[O]:"length"===e?t[O].getArrayLength():"number"==typeof e?en.get.call(t,e):"string"!=typeof e||isNaN(e)?en.hasOwnProperty(e)?en[e]:t[e]:en.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e?(t[O].setArrayLength(n),!0):"number"==typeof e?(en.set.call(t,e,n),!0):!isNaN(e)&&(en.set.call(t,parseInt(e),n),!0)},preventExtensions:function(){return _("Observable arrays cannot be frozen"),!1}};function $e(t,e,n,r){void 0===n&&(n="ObservableArray@"+d()),void 0===r&&(r=!1);var o,i,a,s=new tn(n,e,r);o=s.values,i=O,a=s,Object.defineProperty(o,i,{enumerable:!1,writable:!1,configurable:!0,value:a});var c=new Proxy(s.values,Ze);if(s.proxy=c,t&&t.length){var u=st(!0);s.spliceWithArray(0,0,t),ct(u)}return c}var tn=function(){function e(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new R(t||"ObservableArray@"+d()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},e.prototype.intercept=function(t){return Qe(this,t)},e.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Xe(this,t)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},e.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},e.prototype.spliceWithArray=function(e,n,r){var o=this;gt(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),n=1===arguments.length?i-e:null==n?0:Math.max(0,Math.min(n,i-e)),void 0===r&&(r=l),Ke(this)){var a=ze(this,{object:this.proxy,type:"splice",index:e,removedCount:n,added:r});if(!a)return l;n=a.removedCount,r=a.added}if(r=0===r.length?r:r.map(function(t){return o.enhancer(t,void 0)}),"production"!==t.env.NODE_ENV){var s=r.length-n;this.updateArrayLength(i,s)}var c=this.spliceItemsIntoValues(e,n,r);return 0===n&&0===r.length||this.notifyArraySplice(e,r,c),this.dehanceValues(c)},e.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,c([t,e],n));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),o},e.prototype.notifyArrayChildUpdate=function(e,n,r){var o=!this.owned&&Zt(),a=qe(this),s=a||o?{object:this.proxy,type:"update",index:e,newValue:n,oldValue:r}:null;o&&"production"!==t.env.NODE_ENV&&te(i({},s,{name:this.atom.name})),this.atom.reportChanged(),a&&Je(this,s),o&&"production"!==t.env.NODE_ENV&&ne()},e.prototype.notifyArraySplice=function(e,n,r){var o=!this.owned&&Zt(),a=qe(this),s=a||o?{object:this.proxy,type:"splice",index:e,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;o&&"production"!==t.env.NODE_ENV&&te(i({},s,{name:this.atom.name})),this.atom.reportChanged(),a&&Je(this,s),o&&"production"!==t.env.NODE_ENV&&ne()},e}(),en={intercept:function(t){return this[O].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[O].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[O];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[O];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(t);case 2:return o.spliceWithArray(t,e)}return o.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[O].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[O];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[O].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[O];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){"production"!==t.env.NODE_ENV&&console.warn("[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to supress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place");var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(){"production"!==t.env.NODE_ENV&&console.warn("[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to supress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place");var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[O],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[O];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[O],r=n.values;if(t<r.length){gt(n.atom);var o=r[t];if(Ke(n)){var i=ze(n,{type:"update",object:this,index:t,newValue:e});if(!i)return;e=i.newValue}(e=n.enhancer(e,o))!==o&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(t){en[t]=function(){var e=this[O];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)}});var nn,rn=C("ObservableArrayAdministration",tn);function on(t){return E(t)&&rn(t[O])}var an={},sn=function(){function e(t,e,n){if(void 0===e&&(e=k),void 0===n&&(n="ObservableMap@"+d()),this.enhancer=e,this.name=n,this[nn]=an,this._keysAtom=N(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return e.prototype._has=function(t){return this._data.has(t)},e.prototype.has=function(t){return this._hasMap.has(t)?this._hasMap.get(t).get():this._updateHasMapEntry(t,!1).get()},e.prototype.set=function(t,e){var n=this._has(t);if(Ke(this)){var r=ze(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},e.prototype.delete=function(e){var n=this;if(Ke(this)&&!(a=ze(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var r=Zt(),o=qe(this),a=o||r?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return r&&"production"!==t.env.NODE_ENV&&te(i({},a,{name:this.name,key:e})),ke(function(){n._keysAtom.reportChanged(),n._updateHasMapEntry(e,!1),n._data.get(e).setNewValue(void 0),n._data.delete(e)}),o&&Je(this,a),r&&"production"!==t.env.NODE_ENV&&ne(),!0}return!1},e.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);return n?n.setNewValue(e):(n=new ht(e,V,this.name+"."+cn(t)+"?",!1),this._hasMap.set(t,n)),n},e.prototype._updateValue=function(e,n){var r=this._data.get(e);if((n=r.prepareNewValue(n))!==Nt.UNCHANGED){var o=Zt(),a=qe(this),s=a||o?{type:"update",object:this,oldValue:r.value,name:e,newValue:n}:null;o&&"production"!==t.env.NODE_ENV&&te(i({},s,{name:this.name,key:e})),r.setNewValue(n),a&&Je(this,s),o&&"production"!==t.env.NODE_ENV&&ne()}},e.prototype._addValue=function(e,n){var r=this;gt(this._keysAtom),ke(function(){var t=new ht(n,r.enhancer,r.name+"."+cn(e),!1);r._data.set(e,t),n=t.value,r._updateHasMapEntry(e,!0),r._keysAtom.reportChanged()});var o=Zt(),a=qe(this),s=a||o?{type:"add",object:this,name:e,newValue:n}:null;o&&"production"!==t.env.NODE_ENV&&te(i({},s,{name:this.name,key:e})),a&&Je(this,s),o&&"production"!==t.env.NODE_ENV&&ne()},e.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var t=this,e=0,n=Array.from(this.keys());return Mn({next:function(){return e<n.length?{value:t.get(n[e++]),done:!1}:{done:!0}}})},e.prototype.entries=function(){var t=this,e=0,n=Array.from(this.keys());return Mn({next:function(){if(e<n.length){var r=n[e++];return{value:[r,t.get(r)],done:!1}}return{done:!0}}})},e.prototype[(nn=O,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(t,e){var n,r;try{for(var o=a(this),i=o.next();!i.done;i=o.next()){var c=s(i.value,2),u=c[0],l=c[1];t.call(e,l,u,this)}}catch(h){n={error:h}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(t){var e=this;return ln(t)&&(t=t.toJS()),ke(function(){m(t)?Object.keys(t).forEach(function(n){return e.set(n,t[n])}):Array.isArray(t)?t.forEach(function(t){var n=s(t,2),r=n[0],o=n[1];return e.set(r,o)}):A(t)?(t.constructor!==Map&&_("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach(function(t,n){return e.set(n,t)})):null!=t&&_("Cannot initialize map from "+t)}),this},e.prototype.clear=function(){var t=this;ke(function(){bt(function(){var e,n;try{for(var r=a(t.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})})},e.prototype.replace=function(t){var e=this;return ke(function(){var n,r=m(n=t)?Object.keys(n):Array.isArray(n)?n.map(function(t){return s(t,1)[0]}):A(n)||ln(n)?Array.from(n.keys()):_("Cannot get keys from '"+n+"'");Array.from(e.keys()).filter(function(t){return-1===r.indexOf(t)}).forEach(function(t){return e.delete(t)}),e.merge(t)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var t,e,n={};try{for(var r=a(this),o=r.next();!o.done;o=r.next()){var i=s(o.value,2),c=i[0],u=i[1];n["symbol"==typeof c?c:cn(c)]=u}}catch(l){t={error:l}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map(function(e){return cn(e)+": "+t.get(e)}).join(", ")+" }]"},e.prototype.observe=function(e,n){return"production"!==t.env.NODE_ENV&&p(!0!==n,"`observe` doesn't support fireImmediately=true in combination with maps."),Xe(this,e)},e.prototype.intercept=function(t){return Qe(this,t)},e}();function cn(t){return t&&t.toString?t.toString():new String(t).toString()}var un,ln=C("ObservableMap",sn),hn={},dn=function(){function e(t,e,n){if(void 0===e&&(e=k),void 0===n&&(n="ObservableSet@"+d()),this.name=n,this[un]=hn,this._data=new Set,this._atom=N(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.clear=function(){var t=this;ke(function(){bt(function(){var e,n;try{for(var r=a(t._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})})},e.prototype.forEach=function(t,e){var n,r;try{for(var o=a(this),i=o.next();!i.done;i=o.next()){var s=i.value;t.call(e,s,s,this)}}catch(c){n={error:c}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var n=this;if(gt(this._atom),Ke(this)&&!(i=ze(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){ke(function(){n._data.add(n.enhancer(e,void 0)),n._atom.reportChanged()});var r=Zt(),o=qe(this),i=o||r?{type:"add",object:this,newValue:e}:null;r&&"production"!==t.env.NODE_ENV&&te(i),o&&Je(this,i),r&&"production"!==t.env.NODE_ENV&&ne()}return this},e.prototype.delete=function(e){var n=this;if(Ke(this)&&!(a=ze(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var r=Zt(),o=qe(this),a=o||r?{type:"delete",object:this,oldValue:e}:null;return r&&"production"!==t.env.NODE_ENV&&te(i({},a,{name:this.name})),ke(function(){n._atom.reportChanged(),n._data.delete(e)}),o&&Je(this,a),r&&"production"!==t.env.NODE_ENV&&ne(),!0}return!1},e.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},e.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return Mn({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return Mn({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},e.prototype.replace=function(t){var e=this;return _n(t)&&(t=t.toJS()),ke(function(){Array.isArray(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):T(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):null!=t&&_("Cannot initialize set from "+t)}),this},e.prototype.observe=function(e,n){return"production"!==t.env.NODE_ENV&&p(!0!==n,"`observe` doesn't support fireImmediately=true in combination with sets."),Xe(this,e)},e.prototype.intercept=function(t){return Qe(this,t)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(un=O,Symbol.iterator)]=function(){return this.values()},e}(),_n=C("ObservableSet",dn),pn=function(){function e(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new R(n+".keys")}return e.prototype.read=function(t){return this.values.get(t).get()},e.prototype.write=function(e,n){var r=this.target,o=this.values.get(e);if(o instanceof _t)o.set(n);else{if(Ke(this)){if(!(c=ze(this,{type:"update",object:this.proxy||r,name:e,newValue:n})))return;n=c.newValue}if((n=o.prepareNewValue(n))!==Nt.UNCHANGED){var a=qe(this),s=Zt(),c=a||s?{type:"update",object:this.proxy||r,oldValue:o.value,name:e,newValue:n}:null;s&&"production"!==t.env.NODE_ENV&&te(i({},c,{name:this.name,key:e})),o.setNewValue(n),a&&Je(this,c),s&&"production"!==t.env.NODE_ENV&&ne()}}},e.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new ht(r,V,this.name+"."+t.toString()+"?",!1),e.set(t,n),n.get()},e.prototype.addObservableProp=function(e,n,r){void 0===r&&(r=this.defaultEnhancer);var o,i,a=this.target;if(o=a,i=e,"production"===t.env.NODE_ENV||b(o,i)||_("Cannot make property '"+i.toString()+"' observable, it is not configurable and writable in the target object"),Ke(this)){var s=ze(this,{object:this.proxy||a,name:e,type:"add",newValue:n});if(!s)return;n=s.newValue}var c=new ht(n,r,this.name+"."+e,!1);this.values.set(e,c),n=c.value,Object.defineProperty(a,e,gn(e)),this.notifyPropertyAddition(e,n)},e.prototype.addComputedProp=function(t,e,n){var r=this.target;n.name=n.name||this.name+"."+e,this.values.set(e,new _t(n)),(t===r||b(t,e))&&Object.defineProperty(t,e,mn(e))},e.prototype.remove=function(e){if(this.values.has(e)){var n=this.target;if(Ke(this)&&!(u=ze(this,{object:this.proxy||n,name:e,type:"remove"})))return;try{Wt();var r=qe(this),o=Zt(),a=this.values.get(e),s=a&&a.get();if(a&&a.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var c=this.pendingKeys.get(e);c&&c.set(!1)}delete this.target[e];var u=r||o?{type:"remove",object:this.proxy||n,oldValue:s,name:e}:null;o&&"production"!==t.env.NODE_ENV&&te(i({},u,{name:this.name,key:e})),r&&Je(this,u),o&&"production"!==t.env.NODE_ENV&&ne()}finally{xt()}}},e.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,n){return"production"!==t.env.NODE_ENV&&p(!0!==n,"`observe` doesn't support the fire immediately property for observable objects."),Xe(this,e)},e.prototype.intercept=function(t){return Qe(this,t)},e.prototype.notifyPropertyAddition=function(e,n){var r=qe(this),o=Zt(),a=r||o?{type:"add",object:this.proxy||this.target,name:e,newValue:n}:null;if(o&&"production"!==t.env.NODE_ENV&&te(i({},a,{name:this.name,key:e})),r&&Je(this,a),o&&"production"!==t.env.NODE_ENV&&ne(),this.pendingKeys){var s=this.pendingKeys.get(e);s&&s.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=a(this.values),o=r.next();!o.done;o=r.next()){var i=s(o.value,2),c=i[0];i[1]instanceof ht&&n.push(c)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},e}();function fn(e,n,r){if(void 0===n&&(n=""),void 0===r&&(r=k),Object.prototype.hasOwnProperty.call(e,O))return e[O];"production"!==t.env.NODE_ENV&&p(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),m(e)||(n=(e.constructor.name||"ObservableObject")+"@"+d()),n||(n="ObservableObject@"+d());var o=new pn(e,new Map,n,r);return I(e,O,o),o}var yn=Object.create(null),vn=Object.create(null);function gn(t){return yn[t]||(yn[t]={configurable:!0,enumerable:!0,get:function(){return this[O].read(t)},set:function(e){this[O].write(t,e)}})}function En(t){return t[O]||(W(t),t[O])}function mn(t){return vn[t]||(vn[t]={configurable:!1,enumerable:!1,get:function(){return En(this).read(t)},set:function(e){En(this).write(t,e)}})}var In=C("ObservableObjectAdministration",pn);function bn(t){return!!E(t)&&(W(t),In(t[O]))}function Cn(e,n){if("object"==typeof e&&null!==e){if(on(e))return void 0!==n&&_("production"!==t.env.NODE_ENV&&"It is not possible to get index atoms from arrays"),e[O].atom;if(_n(e))return e[O];if(ln(e)){var r=e;return void 0===n?r._keysAtom:((o=r._data.get(n)||r._hasMap.get(n))||_("production"!==t.env.NODE_ENV&&"the entry '"+n+"' does not exist in the observable map '"+Tn(e)+"'"),o)}var o;if(W(e),n&&!e[O]&&e[n],bn(e))return n?((o=e[O].values.get(n))||_("production"!==t.env.NODE_ENV&&"no observable property '"+n+"' found on the observable object '"+Tn(e)+"'"),o):_("production"!==t.env.NODE_ENV&&"please specify a property");if(w(e)||pt(e)||Xt(e))return e}else if("function"==typeof e&&Xt(e[O]))return e[O];return _("production"!==t.env.NODE_ENV&&"Cannot obtain atom from "+e)}function An(e,n){return e||_("Expecting some object"),void 0!==n?An(Cn(e,n)):w(e)||pt(e)||Xt(e)?e:ln(e)||_n(e)?e:(W(e),e[O]?e[O]:void _("production"!==t.env.NODE_ENV&&"Cannot obtain administration from "+e))}function Tn(t,e){return(void 0!==e?Cn(t,e):bn(t)||ln(t)||_n(t)?An(t):Cn(t)).name}var Sn=Object.prototype.toString;function On(t,e){return Rn(t,e)}function Rn(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&wn(t,e,n,r)}function wn(t,e,n,r){t=Nn(t),e=Nn(e);var o=Sn.call(t);if(o!==Sn.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e)}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!("function"==typeof a&&a instanceof a&&"function"==typeof s&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),i){if((c=t.length)!==e.length)return!1;for(;c--;)if(!Rn(t[c],e[c],n,r))return!1}else{var u=Object.keys(t),l=void 0;if(c=u.length,Object.keys(e).length!==c)return!1;for(;c--;)if(!Ln(e,l=u[c])||!Rn(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0}function Nn(t){return on(t)?t.slice():A(t)||ln(t)?Array.from(t.entries()):T(t)||_n(t)?Array.from(t.entries()):t}function Ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Mn(t){return t[Symbol.iterator]=Pn,t}function Pn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{t.env.NODE_ENV}catch(Un){var Dn="undefined"!=typeof window?window:e;void 0===t&&(Dn.process={}),Dn.process.env={}}"testCodeMinification"!==function(){}.name&&"production"!==t.env.NODE_ENV&&"true"!==t.env.IGNORE_MOBX_MINIFY_WARNING&&console.warn("[mobx] you are running a minified build, but 'process.env.NODE_ENV' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle"),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:re,extras:{getDebugName:Tn},$mobx:O}),n.Reaction=Yt,n.untracked=bt,n.createAtom=N,n.spy=re,n.comparer=L,n.isObservableObject=bn,n.isBoxedObservable=dt,n.isObservableArray=on,n.ObservableMap=sn,n.isObservableMap=ln,n.ObservableSet=dn,n.isObservableSet=_n,n.transaction=ke,n.observable=Z,n.computed=nt,n.isObservable=we,n.isObservableProp=function(e,n){return"string"!=typeof n?_("production"!==t.env.NODE_ENV&&"expected a property name as second argument"):Re(e,n)},n.isComputed=Oe,n.isComputedProp=function(e,n){return"string"!=typeof n?_("production"!==t.env.NODE_ENV&&"isComputed expected a property name as second argument"):Se(e,n)},n.extendObservable=ye,n.observe=function(t,e,n,r){return"function"==typeof n?De(t,e,n,r):Pe(t,e,n)},n.intercept=function(t,e,n){return"function"==typeof n?Te(t,e,n):Ae(t,e)},n.autorun=le,n.reaction=function(e,n,r){void 0===r&&(r=h),"production"!==t.env.NODE_ENV&&(p("function"==typeof e,"First argument to reaction should be a function"),p("object"==typeof r,"Third argument of reactions should be an object"));var o,i,a,s=r.name||"Reaction@"+d(),c=se(s,r.onError?(o=r.onError,i=n,function(){try{return i.apply(this,arguments)}catch(Un){o.call(this,Un)}}):n),u=!r.scheduler&&!r.delay,l=de(r),_=!0,f=!1,y=r.compareStructural?L.structural:r.equals||L.default,v=new Yt(s,function(){_||u?g():f||(f=!0,l(g))},r.onError);function g(){if(f=!1,!v.isDisposed){var t=!1;v.track(function(){var n=e(v);t=_||!y(a,n),a=n}),_&&r.fireImmediately&&c(a,v),_||!0!==t||c(a,v),_&&(_=!1)}}return v.schedule(),v.getDisposer()},n.when=function(t,e,n){return 1===arguments.length||e&&"object"==typeof e?Ge(t,e):Ve(t,e,n||{})},n.action=se,n.isAction=ce,n.runInAction=function(e,n){var r="string"==typeof e?e:e.name||"<unnamed action>",o="function"==typeof e?e:n;return"production"!==t.env.NODE_ENV&&(p("function"==typeof o&&0===o.length,"`runInAction` expects a function without arguments"),"string"==typeof r&&r||_("actions should have valid names, got: '"+r+"'")),ot(r,o,this,void 0)},n.keys=Ne,n.values=function(e){return bn(e)?Ne(e).map(function(t){return e[t]}):ln(e)?Ne(e).map(function(t){return e.get(t)}):_n(e)?Array.from(e.values()):on(e)?e.slice():_("production"!==t.env.NODE_ENV&&"'values()' can only be used on observable objects, arrays, sets and maps")},n.entries=function(e){return bn(e)?Ne(e).map(function(t){return[t,e[t]]}):ln(e)?Ne(e).map(function(t){return[t,e.get(t)]}):_n(e)?Array.from(e.entries()):on(e)?e.map(function(t,e){return[e,t]}):_("production"!==t.env.NODE_ENV&&"'entries()' can only be used on observable objects, arrays and maps")},n.set=Le,n.remove=function(e,n){if(bn(e))e[O].remove(n);else if(ln(e))e.delete(n);else if(_n(e))e.delete(n);else{if(!on(e))return _("production"!==t.env.NODE_ENV&&"'remove()' can only be used on observable objects, arrays and maps");"number"!=typeof n&&(n=parseInt(n,10)),p(n>=0,"Not a valid index: '"+n+"'"),e.splice(n,1)}},n.has=Me,n.get=function(e,n){if(Me(e,n))return bn(e)?e[n]:ln(e)?e.get(n):on(e)?e[n]:_("production"!==t.env.NODE_ENV&&"'get()' can only be used on observable objects, arrays and maps")},n.decorate=function(e,n){"production"!==t.env.NODE_ENV&&p(m(n),"Decorators should be a key value map");var r="function"==typeof e?e.prototype:e,o=function(e){var o=n[e];Array.isArray(o)||(o=[o]),"production"!==t.env.NODE_ENV&&p(o.every(function(t){return"function"==typeof t}),"Decorate: expected a decorator function or array of decorator functions for '"+e+"'");var i=Object.getOwnPropertyDescriptor(r,e),a=o.reduce(function(t,n){return n(r,e,t)},i);a&&Object.defineProperty(r,e,a)};for(var i in n)o(i);return e},n.configure=function(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.disableErrorBoundaries,o=t.reactionScheduler;if(!0===t.isolateGlobalState&&((Nt.pendingReactions.length||Nt.inBatch||Nt.isRunningReactions)&&_("isolateGlobalState should be called before MobX is running any reactions"),wt=!0,Rt&&(0==--Lt().__mobxInstanceCount&&(Lt().__mobxGlobals=void 0),Nt=new Ot)),void 0!==e){"boolean"!=typeof e&&"strict"!==e||y("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var i=void 0;switch(e){case!0:case"observed":i=!0;break;case!1:case"never":i=!1;break;case"strict":case"always":i="strict";break;default:_("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Nt.enforceActions=i,Nt.allowStateChanges=!0!==i&&"strict"!==i}void 0!==n&&(Nt.computedRequiresReaction=!!n),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Nt.disableErrorBoundaries=!!r),o&&Jt(o)},n.onBecomeObserved=_e,n.onBecomeUnobserved=pe,n.flow=function(e){1!==arguments.length&&_(t.env.NODE_ENV&&"Flow expects one 1 argument and cannot be used as decorator");var n=e.name||"<unnamed flow>";return function(){var t,r=this,o=arguments,i=++be,a=se(n+" - runid: "+i+" - init",e).apply(r,o),s=void 0,c=new Promise(function(e,r){var o=0;function c(t){var e;s=void 0;try{e=se(n+" - runid: "+i+" - yield "+o++,a.next).call(a,t)}catch(Un){return r(Un)}l(e)}function u(t){var e;s=void 0;try{e=se(n+" - runid: "+i+" - yield "+o++,a.throw).call(a,t)}catch(Un){return r(Un)}l(e)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(s=Promise.resolve(t.value)).then(c,u);t.then(l,r)}t=r,c(void 0)});return c.cancel=se(n+" - runid: "+i+" - cancel",function(){try{s&&Ce(s);var e=a.return(),n=Promise.resolve(e.value);n.then(g,g),Ce(n),t(new Error("FLOW_CANCELLED"))}catch(Un){t(Un)}}),c}},n.toJS=function(t,e){var n;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=Ue),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),We(t,e,n)},n.trace=xe,n.getDependencyTree=Ee,n.getObserverTree=function(t,e){return Ie(Cn(t,e))},n._resetGlobalState=function(){var t=new Ot;for(var e in t)-1===St.indexOf(e)&&(Nt[e]=t[e]);Nt.allowStateChanges=!Nt.enforceActions},n._getGlobalState=function(){return Nt},n.getDebugName=Tn,n.getAtom=Cn,n._getAdministration=An,n._allowStateChanges=function(t,e){var n,r=st(t);try{n=e()}finally{ct(r)}return n},n._allowStateChangesInsideComputed=function(t){var e,n=Nt.computationDepth;Nt.computationDepth=0;try{e=t()}finally{Nt.computationDepth=n}return e},n.isArrayLike=function(t){return Array.isArray(t)||on(t)},n.$mobx=O,n._isComputingDerivation=function(){return null!==Nt.trackingDerivation},n.onReactionError=function(t){return Nt.globalReactionErrorHandlers.push(t),function(){var e=Nt.globalReactionErrorHandlers.indexOf(t);e>=0&&Nt.globalReactionErrorHandlers.splice(e,1)}},n._interceptReads=function(e,n,r){var o;if(ln(e)||on(e)||dt(e))o=An(e);else{if(!bn(e))return _("production"!==t.env.NODE_ENV&&"Expected observable map, object or array as first array");if("string"!=typeof n)return _("production"!==t.env.NODE_ENV&&"InterceptReads can only be used with a specific property, not with an object in general");o=An(e,n)}return void 0!==o.dehancer?_("production"!==t.env.NODE_ENV&&"An intercept reader was already established"):(o.dehancer="function"==typeof n?n:r,function(){o.dehancer=void 0})}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],DebugWindowUtils:[function(t,e,n){"use strict";cc._RF.push(e,"84e75b8tBhNjY7KyBAgOsH/","DebugWindowUtils"),this&&this.__spreadArrays,Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getModuleName=function(t){return"string"!=typeof t?t:t.split("/").pop().split(".")[0]},t.init=function(){var t="undefined"!=typeof __modular?__modular:{};if(t&&t.modules){var e=t.modules,n={};for(var r in e){var o=e[r],i=o.file,a=o.module?o.module.exports:{},s=this.getModuleName(i);for(var c in a)"__esModule"!==c&&("default"===c?(a[c]=u(s,a[c],s),a[s]||(a[s]=a[c])):a[c]=u(c,a[c],s));window[s+"_mod"]=a}for(var r in n)window[r]||(window[r]=n[r])}function u(t,e,r){var o=t;if(e&&e.name&&(o=e.name),n[t])return u(t+r,e,r);var i=e;return n[o]=i,i}},t}();n.default=r,cc._RF.pop()},{}],DrawBorad:[function(t,e,n){"use strict";cc._RF.push(e,"5d19bkVv4BM774fPMww+bzv","DrawBorad");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Utils/DrawingBoard"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndBroad=null,e._drawingBroad=null,e._texture=new cc.Texture2D,e._sprite=null,e.broadYMax=-1,e.broadXMin=-1,e._touching=!1,e}return o(e,t),e.prototype.onLoad=function(){this.ndBroad||(this.ndBroad=this.node),this._sprite=this.ndBroad.getComponent(cc.Sprite),this._sprite||this.ndBroad.addComponent(cc.Sprite),this._drawingBroad=new a.default(this.ndBroad.width,this.ndBroad.height),this._drawingBroad.setColor(0,0,0,255),this._drawingBroad.setLineWidth(5),this._touching=!1;var t=this.ndBroad.convertToWorldSpaceAR(cc.v2(0,0));this.broadYMax=t.y+this.ndBroad.height/2,this.broadXMin=t.x-this.ndBroad.width/2,this.ndBroad.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.start=function(){},e.prototype.setData=function(t){this._drawingBroad.setData(t),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)},e.prototype.touchStart=function(t){if(!this._touching){this._touching=!0;var e=t.getLocation();this._drawingBroad.moveTo(e.x-this.broadXMin,this.getRealY(e.y))}},e.prototype.touchMove=function(t){if(this._touching){var e=t.getLocation();this._drawingBroad.lineTo(e.x-this.broadXMin,this.getRealY(e.y)),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)}},e.prototype.touchCancel=function(){this._touching=!1},e.prototype.touchEnd=function(){this._touching=!1},e.prototype.onDestroy=function(){this.ndBroad.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.setColor=function(t,e,n,r){this._drawingBroad.setColor(t,e,n,r)},e.prototype.setLineWidth=function(t){this._drawingBroad.setLineWidth(t)},e.prototype.setPen=function(){this.setColor(0,0,0,255),this.setLineWidth(5)},e.prototype.setReaser=function(){this.setColor(0,0,0,0),this.setLineWidth(20)},e.prototype.getTexture=function(){return this._texture},e.prototype.updateTexture=function(t,e,n){this._texture.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,e,n),this._sprite.spriteFrame.setTexture(this._texture)},e.prototype.getRealY=function(t){return this._sprite.spriteFrame._flipY?this.broadYMax-(cc.visibleRect.height-t):this.broadYMax-t},i([u(cc.Node)],e.prototype,"ndBroad",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Utils/DrawingBoard":"DrawingBoard"}],DrawingBoard:[function(t,e,n){"use strict";cc._RF.push(e,"54b2dNYr/FCsJ51TWLTWJoT","DrawingBoard"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.init(t,e,n)}return Object.defineProperty(t.prototype,"width",{get:function(){return this._witdh},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e,n){this.tempColor=this.tempR=this.tempG=this.tempB=this.tempA=0,this.curColor=0,this._witdh=Math.round(t),this._height=Math.round(e),this.initPointColor(),this.initPixelColor(),this.initLineData(),n&&this.setData(n)},t.prototype.initPointColor=function(){this.pointColor||(this.pointColor=[]);for(var t=0;t<this.width;++t){this.pointColor[t]||(this.pointColor[t]=[]);for(var e=0;e<this.height;++e)this.pointColor[t][e]=0}this.colorCount={},this.colorCount[0]=this.width*this.height},t.prototype.initPixelColor=function(){this.buffer=new ArrayBuffer(this.width*this.height*4),this.pixelColor=new Uint8Array(this.buffer),this.pixelColor.fill(0)},t.prototype.reset=function(){this.resetPointColor(),this.resetPixelColor()},t.prototype.resetPointColor=function(){for(var t=this.width-1;t>=0;--t)for(var e=this.height-1;e>=0;--e)this.pointColor[t][e]=0;for(var n in this.colorCount)this.colorCount[n]=0},t.prototype.resetPixelColor=function(){this.pixelColor.fill(0)},t.prototype.setData=function(t){var e=new Uint8Array(t);e.length!=this.width*this.height*4&&(console.warn("\u753b\u677f\u8bbe\u7f6e\u6570\u636e\u5931\u8d25\uff0c\u6570\u636e\u957f\u5ea6\u4e0e\u753b\u677f\u5927\u5c0f\u4e0d\u4e00\u81f4\u3002"),e=e.subarray(0,this.width*this.height*4)),this.setPixelColorByRGBA(e),this.setPointColorByRGBA(e)},t.prototype.setPixelColorByRGBA=function(t){this.pixelColor.set(t)},t.prototype.setPointColorByRGBA=function(t){this.colorCount={};for(var e=0;e<this.height;++e)for(var n=e*this.height,r=0;r<this.width;++r){var o=this.convertToNumber(t[n++],t[n++],t[n++],t[n++]);this.pointColor[r][e]=o,this.colorCount[o]?this.colorCount[o]+=1:this.colorCount[o]=1}},t.prototype.copyData=function(t){void 0===t&&(t=[]);for(var e=0,n=this.pixelColor.length;e<n;++e)t[e]=this.pixelColor[e];return t},t.prototype.getData=function(){return this.pixelColor},t.prototype.getBuffer=function(){return this.buffer},t.prototype.getColorCount=function(t,e,n,r){void 0===r&&(r=255);var o=this.convertToNumber(t,e,n,r);return this.colorCount[o]},t.prototype.setColor=function(t,e,n,r){void 0===r&&(r=255),this.curColor=this.convertToNumber(t,e,n,r),this.colorCount[this.curColor]||(this.colorCount[this.curColor]=0),this.tempColor=this.curColor,this.tempR=t,this.tempG=e,this.tempB=n,this.tempA=r},t.prototype.clear=function(){this.reset()},t.prototype.initLineData=function(){this.previousLineEndPos=new o,this.previousLineEndPosT=new o,this.previousLineEndPosB=new o,this.previousLineCircleEnd=!0,this.previousLineWidth=1},t.prototype.moveTo=function(t,e){t=Math.round(t),e=Math.round(e),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t,e),this.previousLineEndPosB.set(t,e)},t.prototype.setLineWidth=function(t){this.previousLineWidth=t},t.prototype.setLineCircleEnd=function(t){this.previousLineCircleEnd=t},t.prototype.line=function(t,e,n,r){if(t=Math.round(t),n=Math.round(n),e=Math.round(e),r=Math.round(r),t!=n||e!=r){var i=this.previousLineWidth,a=this.previousLineCircleEnd;this.previousLineEndPos.set(n,r);var s=0,c=0,u=1;if(t==n)s=Math.round(.5*i);else if(e==r)c=Math.round(.5*i);else{var l=(r-e)/(n-t);c=.5*i/(u=Math.sqrt(l*l+1)),s=Math.round(c*l),c=Math.round(c)}this.previousLineEndPosT.set(n-s,r+c),this.previousLineEndPosB.set(n+s,r-c);var h=new o(t,e),d=new o(n,r);t>n&&(h.x=n,h.y=r,d.x=t,d.y=e),this._drawLine(h,d,i,s,c,u),a&&(this._drawCircle(t,e,.5*i),this._drawCircle(n,r,.5*i))}},t.prototype.lineTo=function(t,e){if(t=Math.round(t),e=Math.round(e),this.previousLineEndPos.x!=t||this.previousLineEndPos.y!=e){var n=this.previousLineWidth,r=this.previousLineCircleEnd,i=this.previousLineEndPos.x,a=this.previousLineEndPos.y,s=t,c=e;i>s&&(i=s,a=c,s=this.previousLineEndPos.x,c=this.previousLineEndPos.y);var u=0,l=0,h=1;if(i==s)u=Math.round(.5*n);else if(a==c)l=Math.round(.5*n);else{var d=(c-a)/(s-i);l=.5*n/(h=Math.sqrt(d*d+1)),u=Math.round(l*d),l=Math.round(l)}if(r)this._drawCircle(i,a,.5*n),this._drawCircle(s,c,.5*n);else if(this.previousLineEndPos.x!=this.previousLineEndPosT.x||this.previousLineEndPos.y!=this.previousLineEndPosT.y){var _=new o(this.previousLineEndPos.x-u,this.previousLineEndPos.y+l),p=new o(this.previousLineEndPos.x+u,this.previousLineEndPos.y-l);this._drawTriangle([_,p,this.previousLineEndPosT]),this._drawTriangle([_,p,this.previousLineEndPosB])}this._drawLine(new o(i,a),new o(s,c),n,u,l,h),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t-u,e+l),this.previousLineEndPosB.set(t+u,e-l)}},t.prototype._drawLine=function(t,e,n,r,i,a){if(t.y==e.y){var s=t.x<e.x?t.x:e.x;this._drawRect(new o(s,Math.round(t.y-.5*n)),Math.abs(t.x-e.x),n)}else if(t.x==e.x){var c=t.y<e.y?t.y:e.y;this._drawRect(new o(Math.round(t.x-.5*n),c),n,Math.abs(t.y-e.y))}else{var u=(t.x-e.x)/(t.y-e.y),l=new o(t.x-r,t.y+i),h=new o(t.x+r,t.y-i),d=new o(e.x-r,e.y+i),_=new o(e.x+r,e.y-i),p=new o,f=new o,y=Math.round(n*a);e.y>t.y?h.x<d.x?(p.x=h.x,p.y=h.y+y,f.x=d.x,f.y=d.y-y,this._drawVerticalTriangle(p,h,l),this._drawParallelogram(h,f,y),this._drawVerticalTriangle(d,f,_)):(p.x=h.x,p.y=Math.round(d.y-(p.x-d.x)*u),f.x=d.x,f.y=Math.round(h.y+(h.x-f.x)*u),this._drawVerticalTriangle(d,f,l),this._drawParallelogram(f,h,d.y-f.y),this._drawVerticalTriangle(p,h,_)):l.x<_.x?(p.x=l.x,p.y=l.y-y,f.x=_.x,f.y=_.y+y,this._drawVerticalTriangle(l,p,h),this._drawParallelogram(p,_,y),this._drawVerticalTriangle(f,_,d)):(p.x=l.x,p.y=Math.round(_.y-(p.x-_.x)*u),f.x=_.x,f.y=Math.round(l.y+(l.x-f.x)*u),this._drawVerticalTriangle(f,_,h),this._drawParallelogram(_,p,l.y-p.y),this._drawVerticalTriangle(l,p,d))}},t.prototype.rect=function(t,e,n,r){this._drawRect(new o(t,e),n,r)},t.prototype._drawRect=function(t,e,n){for(var r=this.clampX(t.x),o=this.clampX(t.x+e),i=this.clampY(t.y),a=this.clampY(t.y+n),s=i;s<=a;++s)this._drawRowPixel(r,o,s)},t.prototype._drawParallelogram=function(t,e,n){if(t.x!=e.x)for(var r=(e.y-t.y)/(e.x-t.x),o=this._minX(t.x),i=this._maxX(e.x),a=o;a<=i;++a){var s=t.y+Math.round((a-t.x)*r),c=s+n;s=this._minY(s),c=this._maxY(c),this._drawColPixel(s,c,a)}},t.prototype.triangle=function(t,e,n,r,i,a){var s=[];s.push(new o(t,e)),s.push(new o(n,r)),s.push(new o(i,a)),this._drawTriangle(s)},t.prototype._drawTriangle=function(t){t.sort(function(t,e){return t.x-e.x});var e=t[0],n=t[1],r=t[2];if(e.x==n.x){if(e.x==r.x)return;return e.y<n.y&&(e=t[1],n=t[0]),void this._drawVerticalTriangle(e,n,r)}var i=(r.y-e.y)/(r.x-e.x),a=new o(n.x,Math.round(e.y+(n.x-e.x)*i));a.y!=n.y&&(a.y<n.y?(this._drawVerticalTriangle(n,a,e),this._drawVerticalTriangle(n,a,r)):(this._drawVerticalTriangle(a,n,e),this._drawVerticalTriangle(a,n,r)))},t.prototype._drawVerticalTriangle=function(t,e,n){if(n.x!=t.x){var r=(n.y-t.y)/(n.x-t.x),o=(n.y-e.y)/(n.x-e.x),i=n.x,a=t.x;i<a&&(i=t.x,a=n.x),a=this._minX(a),i=this._maxX(i);for(var s=a;s<=i;++s){var c=this.clampY(Math.round(t.y+(s-t.x)*r)),u=this.clampY(Math.round(e.y+(s-e.x)*o));this._drawColPixel(u,c,s)}}},t.prototype.circle=function(t,e,n){t=Math.round(t),e=Math.round(e),this._drawCircle(t,e,n)},t.prototype._drawCircle=function(t,e,n){if(0!=(n=Math.round(n)))for(var r=n*n,o=this.clampY(e-n),i=this.clampY(e+n),a=o;a<=i;++a){var s=a-e;s=Math.round(Math.sqrt(r-s*s));var c=this.clampX(t-s),u=this.clampX(t+s);this._drawRowPixel(c,u,a)}},t.prototype._minX=function(t){return t>=0?t:0},t.prototype._maxX=function(t){return t<this.width?t:this.width-1},t.prototype._minY=function(t){return t>=0?t:0},t.prototype._maxY=function(t){return t<this.height?t:this.height-1},t.prototype.clampX=function(t){return t<0?0:t>=this.width?this.width-1:t},t.prototype.clampY=function(t){return t<0?0:t>=this.height?this.height-1:t},t.prototype._drawPixel=function(t,e){if(this.pointColor[t][e]!=this.tempColor){var n=4*(e*this.width+t);this.pixelColor[n]=this.tempR,this.pixelColor[n+1]=this.tempG,this.pixelColor[n+2]=this.tempB,this.pixelColor[n+3]=this.tempA;var r=this.pointColor[t][e];this.colorCount[r]--,this.colorCount[this.tempColor]++,this.pointColor[t][e]=this.tempColor}},t.prototype._drawRowPixel=function(t,e,n){for(var r=4*(n*this.width+t),o=t;o<=e;++o){if(this.pointColor[o][n]!=this.tempColor){this.pixelColor[r]=this.tempR,this.pixelColor[r+1]=this.tempG,this.pixelColor[r+2]=this.tempB,this.pixelColor[r+3]=this.tempA;var i=this.pointColor[o][n];this.colorCount[i]--,this.colorCount[this.tempColor]++,this.pointColor[o][n]=this.tempColor}r+=4}},t.prototype._drawColPixel=function(t,e,n){for(var r=4*(t*this.width+n),o=t;o<=e;++o){if(this.pointColor[n][o]!=this.tempColor){this.pixelColor[r]=this.tempR,this.pixelColor[r+1]=this.tempG,this.pixelColor[r+2]=this.tempB,this.pixelColor[r+3]=this.tempA;var i=this.pointColor[n][o];this.colorCount[i]--,this.colorCount[this.tempColor]++,this.pointColor[n][o]=this.tempColor}r+=4*this.width}},t.prototype.convertToNumber=function(t,e,n,r){return void 0===r&&(r=255),(254&t)<<23|e<<16|n<<8|r},t.prototype.convertToRGBA=function(t){return{r:(4009754624&t)>>23,g:(16711680&t)>>16,b:(65280&t)>>8,a:255&t}},t}();n.default=r;var o=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y)},t}();cc._RF.pop()},{}],EnumUtils:[function(t,e,n){"use strict";cc._RF.push(e,"c0967gbR3dMcbkSIeGpt59T","EnumUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.EnumUtils=void 0;var r=function(){function t(){}return t.getNamesAndValues=function(t){return this.getNames(t).map(function(e){return{name:e,value:t[e]}})},t.getNames=function(t){return this.getObjectValues(t).filter(function(t){return"string"==typeof t})},t.getValues=function(t){return this.getObjectValues(t).filter(function(t){return"number"==typeof t})},t.getObjectValues=function(t){return Object.keys(t).map(function(e){return t[e]})},t}();n.EnumUtils=r,cc._RF.pop()},{}],ErrorCode:[function(t,e,n){"use strict";cc._RF.push(e,"591828BKrtG4q+JzDQ6iSw4","ErrorCode"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.ERR_RESPONSE_SUCCESS=1001,t.ERR_RESPONSE_FAIL=1002,t.ERR_PARAM_INVALID=1003,t.ERR_OP_TOO_FREQ=1004,t.ERR_BUY_SUCCESS=1005,t.ERR_CANOT_DO_NOW=1006,t.ERR_FUNC_NOT_OPEN=1007,t.ERR_LV_NOT_ENOUGH_PARAM=1008,t.ERR_TARGET_OFFLINE=1009,t.ERR_ACCOUNT_REPLACE=1010,t.ERR_AUTH_FAILED=1014,t.ERR_LV_MIN_LIMIT=1021,t.ERR_PAY_LIMIT=1022,t.ERR_PAY_NOT_ENOUGH=1023,t.ERR_MONOPOLY_BAN=1026,t.ERR_MOMO_EXPIRED=1027,t.ERR_MONOPOLY_2_ROLLS_MAX=1030,t.ERR_MONOPOLY_4_ROLLS_MAX=1031,t.ERR_CAREER_MAX_LV_LIMIT=1032,t.ERR_BATTLE_LOG_MISS=1033,t.ERR_NOT_IN_WHITE_LIST=1034,t.ERR_CLIENT_VERSION_TOO_LOW=1035,t.ERR_GOLD_NOT_ENOUGH=1101,t.ERR_SKILL_RECIPE_NOT_ENOUGH=1105,t.ERR_TOKEN_NOT_ENOUGH=1107,t.ERR_ACTION_TIMES_NOT_ENOUGH=1110,t.ERR_MINE_TIMES_NOT_ENOUGH=1111,t.ERR_DWG_NOT_ENOUGH=1112,t.ERR_SMELT_NOT_ENOUGH=1113,t.ERR_CONSUME_TIME_NOT_ENOUGH=1114,t.ERR_ROB_TIMES_LIMIT=1115,t.ERR_ROB_TIMES_NOT_ENOUGH=1116,t.ERR_REVENGE_NOT_EXIST=1117,t.ERR_REVENGE_SEASON_CHANGE=1118,t.ERR_REVENGE_ALREADY=1119,t.ERR_REVENGE_CANNOT=1120,t.ERR_BATTLEFIELD_NOT_MATCH=1121,t.ERR_ROB_SAME_ENEMY_CD=1122,t.ERR_HEAD_NOT_FOUND=1601,t.ERR_HEAD_NOT_OWNER=1602,t.ERR_NAME_HAVE_SET=1603,t.ERR_SAME_NAME=1604,t.ERR_BAN_LOGIN=1605,t.ERR_NAME_FORBIDDEN=1606,t.ERR_NAME_LENG=1607,t.ERR_MAP_NOT_ACTIVE=1811,t.ERR_MAP_NOT_EXISTS=1812,t.ERR_MAP_HAD_PADD=1813,t.ERR_MAP_OVER=1814,t.ERR_HERO_NOT_EXISTS=1821,t.ERR_SKILL_ID=1823,t.ERR_SKILL_NOT_EXISTS=1824,t.ERR_SKILL_MAX_LV_LIMIT=1825,t.ERR_SKILL_NOT_ACTIVE=1826,t.ERR_SKILL_HAD_ACTIVE=1827,t.ERR_SKILL_REPEAT=1828,t.ERR_SKILL_LV_NOT_FOUND=1829,t.ERR_SKILL_POS_NOT_MATCH=1830,t.ERR_SKILL_USING_FULL=1831,t.ERR_SKILL_SAME_TYPE_LIMIT=1832,t.ERR_HERO_LV_LIMIT=1840,t.ERR_EXCHANGE_RATE_CHANGE=1842,t.ERR_TRADE_PASSWD_INVALID=1844,t.ERR_ACCOUNT_FORBID=1847,t.ERR_AREAN_PK_ENMY_CD=1848,t.ERR_ARENA_BATTLE_CD=1849,t.ERR_WAITING_TO_OPEN=1851,t.ERR_HERO_NOT_MATCH=1852,t.ERR_SEARCH_ENEMY_CD=1853,t.ERR_ENEMY_NOT_EXIST=1854,t.ERR_DAILY_REWARD_NOT_EXIST=1855,t.ERR_MAIL_NOT_EXIST=1901,t.ERR_MAIL_ATTACHMENT_FETCHED=1902,t.ERR_MAIL_ACCESS_DENIED=1903,t.ERR_MAIL_NO_ATTACHMENT=1904,t.ERR_MAIL_NOT_BIND=1910,t.ERR_MAIL_BONUS_FETCHED=1911,t.ERR_MAIL_VCODE_INVALID=1912,t.ERR_EQUIP_NOT_EXIST=1951,t.ERR_EQUIP_LV_NOT_MATCH=1952,t.ERR_EQUIP_TAKING=1953,t.ERR_EQUIP_BAG_FULL=1954,t.ERR_EQUIP_SECOND_ATTR_FULL=1955,t.ERR_EQUIP_IN_AUCTION=1956,t.ERR_EQUIP_IN_LOCK=1957,t.ERR_EQUIP_IN_BIND=1958,t.ERR_CAREER_EXIST=1960,t.ERR_CAREER_NOT_EXIST=1961,t.ERR_CAREER_NOT_CHANGE=1962,t.ERR_GAME_WORKING=2001,t.ERR_AUCTION_AMOUNT_LIMIT=2101,t.ERR_HAS_EXPIRED_AUCTION=2102,t.ERR_AUCTION_IN_LOCK=2103,t.ERR_AUCTION_NOT_EXIST=2104,t.ERR_AUCTION_IN_PENDING=2105,t.ERR_AUCTION_PRICE_NOT_MATCH=2106,t.ERR_AUCTION_PRICE_TOO_LOW=2107,t.ERR_AUCTION_PRICE_TOO_HIGH=2108,t.ERR_INVALID_CURRENCY=2109,t.ERR_AUCTION_AUCTOR_IS_SELF=2110,t.ERR_EQUIP_IS_EXPIRED=2111,t.ERR_AUCTION_ONT_OPEN=2112,t.ERR_SWEEP_MOMO_NOT_EXIST=2020,t.ERR_SWEEP_IDX_NOT_OPEN=2021,t.ERR_SWEEP_MOMO_NOT_MATCH=2022,t.ERR_SWEEP_MOMO_REPEAT=2023,t.ERR_SWEEP_IN_SHOW_TIME=2024,t.ERR_INTENSIFY_MAX_LEVEL=2030,t.ERR_USER_NO_SIGNUP=10101,t.ERR_USER_NO_LOGIN_IN=10102,t.ERR_USER_SIGNUP_FAIL=10103,t.ERR_USER_BIND_EMAIL_FAIL=10104,t.ERR_USER_RESET_PWD_FAIL=10105,t.ERR_USER_NOT_FOUND=10106,t.ERR_USER_EMAIL_EXISTS=10107,t.ERR_USER_PASSWORD_INVALID=10108,t.ERR_USER_NEED_LOGIN_BY_EMAIL=10109,t.ERR_USER_EMAIL_CODE_TIME_OUT=10201,t.ERR_USER_EMAIL_CODE_INVALID=10202,t.ERR_USER_EMAIL_CODE_TRY_LIMIT=10203,t.ERR_USER_EMAIL_CODE_TOO_FREQUENT=10204,t.ERR_USER_JWT_INVALID=10301,t.ERR_USER_JWT_TIME_OUT=10302,t.ERR_USER_JWT_LOST=10303,t.ERR_GAME_EMAIL_FROM_INVALID_IP=10401,t.ERR_GAME_EMAIL_INVALID_MD5=10402,t.ERR_GAME_EMAIL_INVALID_OPERATE_CODE=10403,t.ERR_ACCOUNT_LOAD_FAIL=10404,t}();n.default=r,cc._RF.pop()},{}],EventCenter:[function(t,e,n){"use strict";cc._RF.push(e,"15cf5C/OS9IyY5TeN5ujTW/","EventCenter");var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0}),n.EventCenter=void 0;var o=t("./Common/Utils/Pool"),i=t("./EventInfo"),a=function(t,e,n){this.eventName=t,this.callback=e,this.targetId=n},s=1,c=function(){function t(){}return t.on=function(t,e,n,r){void 0===n&&(n=void 0),void 0===r&&(r=!1);var o=(n=n||this).uuid||n.id;void 0===o&&(n.uuid=o=""+s++),this.onById(t,o,n,e,r)},t.once=function(t,e,n){void 0===n&&(n=void 0),this.on(t,e,n,!0)},t.onById=function(t,e,n,r,o){var i=this._listeners[t];i||(i=this._listeners[t]={});var a=i[e];a||(a=i[e]=[]);var s=this._eventPool.alloc();s.init(r,n,o),a.push(s)},t.off=function(t,e,n){void 0===n&&(n=void 0);var r=(n=n||this).uuid||n.id;r&&this.offById(t,e,r)},t.targetOff=function(t){var e=(t=t||this).uuid||t.id;if(e)for(var n in this._listeners){var r=this._listeners[n];void 0!==r[e]&&delete r[e]}},t.offById=function(t,e,n){if(this._dispatching>0){var r=new a(t,e,n);this._removeCommands.push(r)}else this.doOff(t,e,n)},t.doOff=function(t,e,n){var r=this._listeners[t];if(r){var o=r[n];if(o){for(var i=o.length-1;i>=0;i--)o[i].callback===e&&o.splice(i,1);0===o.length&&(r[n]=null,delete r[n])}}},t.doRemoveCommands=function(){if(0===this._dispatching){for(var t=0,e=this._removeCommands;t<e.length;t++){var n=e[t];this.doOff(n.eventName,n.callback,n.targetId)}this._removeCommands.length=0}},t.emit=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this._listeners[t];if(!i)return!1;for(var s in this._dispatching++,i)for(var c=0,u=i[s];c<u.length;c++){var l=u[c];if((e=l.callback).call.apply(e,r([l.target],n)),l.once){var h=new a(t,l.callback,s);this._removeCommands.push(h)}}this._dispatching--,this.doRemoveCommands()},t._listeners=cc.js.createMap(),t._dispatching=0,t._removeCommands=[],t._eventPool=new o.Pool(function(){return new i.EventInfo},10),t}();n.EventCenter=c,cc._RF.pop()},{"./Common/Utils/Pool":"Pool","./EventInfo":"EventInfo"}],EventInfo:[function(t,e,n){"use strict";cc._RF.push(e,"8b589OiwP1HpKfXZ7EZxFmJ","EventInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventInfo=void 0;var r=function(){function t(){}return t.prototype.free=function(){this.callback=null,this.target=null,this.once=!1},t.prototype.init=function(t,e,n){this.callback=t,this.target=e,this.once=n},t}();n.EventInfo=r,cc._RF.pop()},{}],EventType:[function(t,e,n){"use strict";cc._RF.push(e,"d91c3NJBEVLOImFlZf1j8Q7","EventType"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventType=void 0,function(t){t.GameShow="GameShow",t.GameHide="GameHide"}(n.EventType||(n.EventType={})),cc._RF.pop()},{}],FrameType:[function(t,e,n){"use strict";cc._RF.push(e,"bc241nOtElHZZbltVn2FBox","FrameType"),Object.defineProperty(n,"__esModule",{value:!0}),n.MaskType=void 0;var r=t("./config/SysDefine");n.MaskType=function(t,e,n,o){void 0===t&&(t=r.ModalOpacity.OpacityHalf),void 0===e&&(e=!1),void 0===n&&(n=!0),void 0===o&&(o=.2),this.opacity=r.ModalOpacity.OpacityHalf,this.clickMaskClose=!1,this.isEasing=!0,this.easingTime=.2,this.opacity=t,this.clickMaskClose=e,this.isEasing=n,this.easingTime=o},cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],GameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"f46b13WB51JHaffBN5ie56i","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t,"debugUserId",{get:function(){return this._debugUserId},enumerable:!1,configurable:!0}),t.gameId="",t.version="0.0.1",t._debugUserId="",t}();n.default=r,cc._RF.pop()},{}],GlobalHelper:[function(t,e,n){"use strict";cc._RF.push(e,"97861Bw45RARLIDvaYH8CIV","GlobalHelper"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.Register=function(e,n){t[e]=n},t.Get=function(e){return t._globalMap[e]?t._globalMap[e]:void 0},t._globalMap={},t}();n.default=r,window.GlobalHelper=r,cc._RF.pop()},{}],GlobalStore:[function(t,e,n){"use strict";cc._RF.push(e,"de33718HWdMIqXtMlhSp2j9","GlobalStore");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.globalStore=void 0;var o=t("mobx"),i=function(){function t(){this.isInGame=!1,this.jumpIdx=0,this.foucs=!1,this.changeFocus=!1,this.buildingPos={}}return t.prototype.init=function(){},t.prototype.reset=function(){},t.prototype.onRobInfo=function(){},r([o.observable],t.prototype,"isInGame",void 0),r([o.observable],t.prototype,"jumpIdx",void 0),r([o.observable],t.prototype,"foucs",void 0),r([o.observable],t.prototype,"changeFocus",void 0),r([o.action],t.prototype,"onRobInfo",null),t}();n.globalStore=new i,cc._RF.pop()},{mobx:2}],GridScrollList:[function(t,e,n){"use strict";cc._RF.push(e,"1cacdUiKzNJIJRK/5ihZG1M","GridScrollList");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GridScrollList=void 0;var a,s=t("./ScrollViewHelper"),c=cc._decorator,u=c.ccclass,l=c.property;(function(t){t[t.LeftToRight=0]="LeftToRight",t[t.TopToBottom=1]="TopToBottom"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProxy=[],e.scrollHelper=null,e.rowDirection=a.LeftToRight,e.colSpace=10,e.rowSpace=10,e.colCount=3,e.margin=10,e}return o(e,t),e.prototype.doLayout=function(){this._layoutItems()},e.prototype._layoutItems=function(){this.scrollHelper.clearData();var t=this.allProxy,e=t.length?t[0].region.size:cc.size(0,0),n=this.colSpace,r=this.rowSpace,o=this.colCount,i=this.scrollHelper.scrollView.node.getContentSize();if(this.rowDirection==a.TopToBottom){var s=i.width;i.width=i.height,i.height=s,s=e.width,e.width=e.height,e.height=s}var c=this.margin,u=(i.width-(o*e.width+(o-1)*n))/2,l=u,h=-c+r+e.height,d=-r-e.height,_=n+e.width;this.rowDirection==a.TopToBottom&&(d=r+e.height,_=-n-e.width,h=c-d);for(var p=0;p<t.length;p++){l+=_,p%o==0&&(h+=d,l=u);var f=t[p];this.rowDirection==a.LeftToRight?f.region.origin=cc.v2(l,h-e.height):f.region.origin=cc.v2(h,l-e.height),this.scrollHelper.addData(f)}this.rowDirection==a.LeftToRight?this.scrollHelper.scrollView.content.setContentSize(i.width,-h+e.height+c):this.scrollHelper.scrollView.content.setContentSize(h+e.height+c,i.width)},i([l(s.ScrollViewHelper)],e.prototype,"scrollHelper",void 0),i([l({type:cc.Enum(a)})],e.prototype,"rowDirection",void 0),i([l()],e.prototype,"colSpace",void 0),i([l()],e.prototype,"rowSpace",void 0),i([l()],e.prototype,"colCount",void 0),i([l()],e.prototype,"margin",void 0),i([u],e)}(cc.Component);n.GridScrollList=h,cc._RF.pop()},{"./ScrollViewHelper":"ScrollViewHelper"}],LanguageData:[function(t,e){"use strict";cc._RF.push(e,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var n=t("polyglot.min"),r=null;function o(t){return window.i18n.languages[t]}function i(t){t&&(r?r.replace(t):r=new n({phrases:t,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),e.exports={init:function(t){if(t!==window.i18n.curLang){var e=o(t)||{};window.i18n.curLang=t,i(e),this.inst=r}},t:function(t,e){if(r)return r.t(t,e)},inst:r,updateSceneRenderers:function(){for(var t=cc.director.getScene().children,e=[],n=0;n<t.length;++n){var r=t[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,r)}for(var o=0;o<e.length;++o){var i=e[o];i.node.active&&i.updateLabel()}for(var a=[],s=0;s<t.length;++s){var c=t[s].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(a,c)}for(var u=0;u<a.length;++u){var l=a[u];l.node.active&&l.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(t,e){"use strict";cc._RF.push(e,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var n=t("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Label);if(t)return this.label=t,void this.updateLabel()},updateLabel:function(){this.label?n.t(this.dataID)&&(this.label.string=n.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(t,e){"use strict";cc._RF.push(e,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var n=t("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Sprite);if(t)return this.sprite=t,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(t){for(var e=0;e<this.spriteFrameSet.length;++e)if(this.spriteFrameSet[e].language===t)return this.spriteFrameSet[e].spriteFrame},updateSprite:function(t){if(this.sprite){var e=this.getSpriteFrameByLang(t);!e&&this.spriteFrameSet[0]&&(e=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=e}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"0ef50ft9ONMFpiySWxy0sQ8","Main");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("mobx"),u=t("../Constants"),l=t("../store/indexStore"),h=t("../UIFrame/CocosHelper"),d=t("../UIFrame/indexFrame"),_=t("./../UIFrame/UIManager"),p=t("./../utils/common"),f=t("./../store/GlobalStore"),y=cc._decorator.ccclass,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e.yun=null,e.static=null,e.nightfire=null,e.cursor=null,e.MainCamera=null,e.isDay=!1,e.skeletonObjs={yun2:{day:"animation",night:"yeyun",loop:!0},shu:{day:"baitian",night:"yewan",loop:!0},kuangche:{day:"animation",night:"yeche",loop:!0},feichuan:{day:"feichuan",night:"feichuan_ye",loop:!0},shui:{day:"shui",night:"shui_ye",loop:!0}},e}return o(e,t),e.prototype.onLoad=function(){d.Binder.bindComponent(this),this.initGame(),_.default.setSkinPath(u.Constants.UI_PATH_PREFIX+u.Constants.UI_SKIN_TYPE),window.addEventListener("message",this.listenPostMsg.bind(this),!1),this.listenEvent(),this.yun.node.removeFromParent(),cc.director.getScene().getChildByName("Canvas").addChild(this.yun.node),p.default.postMsg({action:"finishLoad",isFinish:!0})},e.prototype.mouseOutEvent=function(){this.cursor.active=!1},e.prototype.clickEvent=function(t){null==this.cursor.parent&&this.node.addChild(this.cursor);var e=this.node.convertToNodeSpaceAR(t.getLocation()),n=(this.MainCamera.getComponent(cc.Camera).zoomRatio,cc.winSize);switch(this.cursor.active=!0,(e.x<-n.width/2||e.x>n.width/2||e.y>n.height/2||e.y<-n.height/2)&&(this.cursor.active=!1),t.type){case"mousemove":this.cursor.setPosition(new cc.Vec2(e.x,e.y))}},e.prototype.initGame=function(){l.Store.init()},e.prototype.listenEvent=function(){var t=this;this.yun.setCompleteListener(function(){t.yun.node.active=!1})},e.prototype.start=function(){var t=(new Date).getHours();this.isDay=t>6&&t<=18,this.setDayOrNight(),this.yun.node.active=!0,this.yun.setAnimation(0,this.isDay?"animation":"ye",!1),this.yun.paused=!0,_.default.openView(u.Constants.Panels.UIMainMenu,{})},e.prototype.setDayOrNight=function(){var t=this;this.background.children[0].active=this.isDay,this.background.children[1].active=!this.isDay,this.nightfire.active=!this.isDay,this.static.children.map(function(e){var n=t.skeletonObjs[e.name];n&&e.getComponent(sp.Skeleton).setAnimation(0,t.isDay?n.day:n.night,n.loop)})},e.prototype.runStartShow=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.yun.paused=!1,this.background.setScale(.8),[4,h.default.runTweenSync(this.background,cc.tween().to(2.7,{scale:1},cc.easeCubicActionOut()))];case 1:return t.sent(),[2]}})})},e.prototype.listenPostMsg=function(t){var e=t.data,n=e.from,r=e.action,o=e.value;if("mbox"==n)switch(r){case"inGame":f.globalStore.isInGame=o.inGame;break;case"startPlay":this.runStartShow()}},i([d.bindComp("cc.Node")],e.prototype,"background",void 0),i([d.bindComp("sp.Skeleton")],e.prototype,"yun",void 0),i([d.bindComp("cc.Node")],e.prototype,"static",void 0),i([d.bindComp("cc.Node")],e.prototype,"nightfire",void 0),i([d.bindComp("cc.Node")],e.prototype,"cursor",void 0),i([d.bindComp("cc.Node")],e.prototype,"MainCamera",void 0),i([c.action],e.prototype,"listenPostMsg",null),i([y,l.observer],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../Constants":"Constants","../UIFrame/CocosHelper":"CocosHelper","../UIFrame/indexFrame":"indexFrame","../store/indexStore":"indexStore","./../UIFrame/UIManager":"UIManager","./../store/GlobalStore":"GlobalStore","./../utils/common":"common",mobx:2}],MaskPlus:[function(t,e,n){"use strict";cc._RF.push(e,"a1aa9cyaadEZ67qCIT1FuzO","MaskPlus");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.MaskPlusType=void 0;var a,s=t("../Utils/CommonUtils");(function(t){t[t.RECT=0]="RECT",t[t.ELLIPSE=1]="ELLIPSE",t[t.IMAGE_STENCIL=2]="IMAGE_STENCIL",t[t.Polygon=3]="Polygon"})(a=n.MaskPlusType||(n.MaskPlusType={}));var c=new cc.Vec2,u=new cc.Mat4,l=[];function h(t,e,n){l.length=0;for(var r=2*Math.PI/n,o=0;o<n;++o)l.push(cc.v2(e.x*Math.cos(r*o)+t.x,e.y*Math.sin(r*o)+t.y));return l}var d=function(){},_=cc._decorator,p=_.ccclass,f=_.property,y=_.executeInEditMode,v=_.menu,g=_.help,E=_.inspector,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=0,e._polygon=[],e.ellipse=new d,e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t&&this._resetAssembler(),this._type=t,this._type===a.Polygon&&0===this._polygon.length){var e=this.getNodeRect(),n=e[0],r=e[1],o=e[2],i=e[3];this._polygon.push(cc.v2(n,r),cc.v2(n+o,r),cc.v2(n+o,r+i),cc.v2(n,r+i))}this._type!==a.IMAGE_STENCIL&&(this.spriteFrame=null,this.alphaThreshold=0,this._updateGraphics()),this._activateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this._updateGraphics()},enumerable:!1,configurable:!0}),e.prototype.setEllipse=function(t,e,n){this.ellipse.center=t,this.ellipse.r=e,this.ellipse.segments=n||this.segements},e.prototype._updateGraphics=function(){this.node;var t=this._graphics;t.clear(!1);var e=this.getNodeRect(),n=e[0],r=e[1],o=e[2],i=e[3];if(this._type===a.RECT)t.rect(n,r,o,i);else if(this._type===a.ELLIPSE){for(var s=h(this.ellipse.center||cc.v2(n+o/2,r+i/2),this.ellipse.r||{x:o/2,y:i/2},this.ellipse.segments||this._segments),c=0;c<s.length;++c){var u=s[c];0===c?t.moveTo(u.x,u.y):t.lineTo(u.x,u.y)}t.close()}else if(this._type===a.Polygon){for(0===this._polygon.length&&this._polygon.push(cc.v2(0,0)),t.moveTo(this._polygon[0].x,this._polygon[0].y),c=1;c<this._polygon.length;c++)t.lineTo(this._polygon[c].x,this._polygon[c].y);t.lineTo(this._polygon[0].x,this._polygon[0].y)}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?t.stroke():t.fill()},e.prototype._hitTest=function(t){var e=this.node,n=e.getContentSize(),r=n.width,o=n.height,i=c;if(e._updateWorldMatrix(),!cc.Mat4.invert(u,e._worldMatrix))return!1;cc.Vec2.transformMat4(i,t,u),i.x+=e._anchorPoint.x*r,i.y+=e._anchorPoint.y*o;var l=!1;if(this.type===a.RECT||this.type===a.IMAGE_STENCIL)l=i.x>=0&&i.y>=0&&i.x<=r&&i.y<=o;else if(this.type===a.ELLIPSE){var h=r/2,d=o/2,_=i.x-.5*r,p=i.y-.5*o;l=_*_/(h*h)+p*p/(d*d)<1}else this.type===a.Polygon&&(l=s.CommonUtils.isInPolygon(i,this.polygon));return this.inverted&&(l=!l),l},e.prototype.getNodeRect=function(){var t=this.node._contentSize.width,e=this.node._contentSize.height;return[-t*this.node._anchorPoint.x,-e*this.node._anchorPoint.y,t,e]},e.Type=a,i([f({type:cc.Enum(a),override:!0})],e.prototype,"_type",void 0),i([f({type:cc.Enum(a),override:!0})],e.prototype,"type",null),i([f({type:[cc.Vec2],serializable:!0})],e.prototype,"_polygon",void 0),i([f({type:[cc.Vec2],serializable:!0})],e.prototype,"polygon",null),i([p,v("i18n:MAIN_MENU.component.renderers/MaskPlus"),y,g("i18n:COMPONENT.help_url.mask"),E("packages://maskplus/inspector.js")],e)}(cc.Mask);n.default=m,cc.MaskPlus=m,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],MatchUtils:[function(t,e,n){"use strict";cc._RF.push(e,"ce2a5iLaMdGPJK3POfEqDgZ","MatchUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.MathUtils=void 0;var r=function(){function t(){}return t.clamp=function(t,e,n){if(t>e){var r=t;t=e,e=r}return n<t?t:n>e?e:n},t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadian2=function(t,e,n,r){var o=n-t,i=r-e;return Math.atan2(i,o)},t.getDistance=function(t,e,n,r){var o=n-t,i=r-e,a=o*o+i*i;return Math.sqrt(a)},t.toFixedStr=function(t,e){return t.toFixed(e).replace(/\.?0*$/,"")},t.toPercentStr=function(t,e){return this.toFixedStr(100*t,e)+"%"},t.toFixedWan=function(e){var n=1e4*Math.floor(e/1e4);return e>1e5?t.toFixedStr(n/1e5*10,1)+"\u4e07":e.toString()},t.getFinalValueBasedOnParams=function(t,e,n){if(e.length<5)return 0;var r=e[4]*(e[0]*Math.pow(t,e[3])+e[1]*t+e[2]);return n&&(r=Math.ceil(r)),r},t.limit=function(t,e){t=Math.min(t,e);var n=(e=Math.max(t,e))-t;return t+Math.random()*n},t.limitInteger=function(e,n){return Math.round(t.limit(e,n))},t.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},t}();n.MathUtils=r,cc._RF.pop()},{}],ModalMgr:[function(t,e,n){"use strict";cc._RF.push(e,"a6cfbGOowFD6rGCFIN9QFMs","ModalMgr");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./config/SysDefine"),u=t("./UIModalScript"),l=t("./CocosHelper"),h=cc._decorator,d=h.ccclass,_=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiModal=null,e}var n;return o(e,t),n=e,Object.defineProperty(e,"inst",{get:function(){return null==this._inst&&(this._inst=new n,n.inst.uiModal=new cc.Node("UIModalNode").addComponent(u.default),n.inst.uiModal.init()),this._inst},enumerable:!1,configurable:!0}),e.prototype.showModal=function(t){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.uiModal.showModal(t.opacity,t.easingTime,t.isEasing)];case 1:return e.sent(),[2]}})})},e.prototype.checkModalWindow=function(t){return a(this,void 0,void 0,function(){var e,r;return s(this,function(o){switch(o.label){case 0:for(e=null,r=t.length-1;r>=0;r--)if(t[r].maskType.opacity>0){e=t[r];break}return this.uiModal.node.parent?e?[3,2]:[4,l.default.runTweenSync(this.uiModal.node,cc.tween().to(.4,{opacity:0}))]:[3,3];case 1:return o.sent(),this.uiModal.node.removeFromParent(),[3,3];case 2:this.uiModal.node.removeFromParent(),o.label=3;case 3:return e&&(cc.find(n.popUpRoot).addChild(this.uiModal.node,Math.max(e.node.zIndex-1,0)),this.uiModal.uid=e.uid,this.showModal(e.maskType)),this.uiModal.node.parent||(this.uiModal.node.opacity=0),[2]}})})},e.popUpRoot=c.SysDefine.SYS_UIROOT_NAME+"/"+c.SysDefine.SYS_POPUP_NODE,e._inst=null,n=i([d],e)}(cc.Component));n.default=_,cc._RF.pop()},{"./CocosHelper":"CocosHelper","./UIModalScript":"UIModalScript","./config/SysDefine":"SysDefine"}],MsgC2W:[function(t,e,n){"use strict";cc._RF.push(e,"5553d3MDn9Jrp2w5LJ9taHz","MsgC2W"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./ByteArray"),o=t("./PacketID"),i=t("./SocketMgr"),a=function(){function t(){}return t.init=function(){this._byteArray=new r.default,this._byteArray.init(256)},t.Write_INFO_HERO_SKILL=function(t){this._byteArray.writeShort(t.skillId),this._byteArray.writeByte(t.skillLv)},t.Write_INFO_ENTITY=function(t){this._byteArray.writeByte(t.pos),this._byteArray.writeInt(t.heroId),this._byteArray.writeShort(t.lv),this._byteArray.writeInt(t.hp),this._byteArray.writeInt(t.maxhp),this._byteArray.writeShort(t.skills.length);for(var e=0;e<t.skills.length;++e)this.Write_INFO_HERO_SKILL(t.skills[e])},t.Write_INFO_PROCESS=function(t){this._byteArray.writeShort(t.actId),this._byteArray.writeInt(t.ms),this._byteArray.writeByte(t.acttype),this._byteArray.writeByte(t.pos),this._byteArray.writeByte(t.srcPos),this._byteArray.writeShort(t.param1),this._byteArray.writeInt(t.param2),this._byteArray.writeInt(t.param3)},t.Write_C2W_BATTLE_LOG=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_BATTLE_LOG),this._byteArray.writeInt64(t.logId),i.default.sendMsg(this._byteArray)},t.Write_C2W_TEST_BATTLE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_TEST_BATTLE),this._byteArray.writeInt(t.param),i.default.sendMsg(this._byteArray)},t.Write_INFO_AUCTION_EQUIP=function(t){this._byteArray.writeInt(t.protoId),this._byteArray.writeShort(t.rdmAttr.length);for(var e=0;e<t.rdmAttr.length;++e)this.Write_INFO_ATTR(t.rdmAttr[e])},t.Write_INFO_EQUIP_AUCTION=function(t){this._byteArray.writeInt64(t.id),this._byteArray.writeInt(t.auctor),this._byteArray.writeInt64(t.price),this._byteArray.writeByte(t.currency),this._byteArray.writeByte(t.status),this._byteArray.writeInt(t.crtime),this._byteArray.writeInt(t.etime),this.Write_INFO_AUCTION_EQUIP(t.equip)},t.Write_INFO_EQUIP_AUCTION_LOG=function(t){this._byteArray.writeInt64(t.logId),this._byteArray.writeShort(t.season_no),this._byteArray.writeInt64(t.equipId),this._byteArray.writeInt(t.auctor),this._byteArray.writeInt(t.bidder),this._byteArray.writeInt64(t.price),this._byteArray.writeByte(t.currency),this._byteArray.writeInt(t.dealtime),this.Write_INFO_AUCTION_EQUIP(t.equip)},t.Write_C2W_EQUIP_AUCTION_LIST=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_EQUIP_AUCTION_LIST),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_MY_EQUIP_AUCTION_LIST=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_MY_EQUIP_AUCTION_LIST),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_CREATE_EQUIP_AUCTION=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_CREATE_EQUIP_AUCTION),this._byteArray.writeInt64(t.equipId),this._byteArray.writeInt64(t.price),this._byteArray.writeShort(t.currency),i.default.sendMsg(this._byteArray)},t.Write_C2W_CANCEL_EQUIP_AUCTION=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_CANCEL_EQUIP_AUCTION),this._byteArray.writeInt64(t.equipId),i.default.sendMsg(this._byteArray)},t.Write_C2W_BUY_EQUIP_AUCTION=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_BUY_EQUIP_AUCTION),this._byteArray.writeInt64(t.equipId),this._byteArray.writeInt64(t.cmbox),i.default.sendMsg(this._byteArray)},t.Write_C2W_CLAIM_EXPIRED_EQUIP=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_CLAIM_EXPIRED_EQUIP),this._byteArray.writeInt64(t.equipId),i.default.sendMsg(this._byteArray)},t.Write_C2W_EQUIP_AUCTION_LOGS=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_EQUIP_AUCTION_LOGS),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_EQUIP_AUCTION_UNCLAIMED_LIST=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_EQUIP_AUCTION_UNCLAIMED_LIST),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_CLAIM_AUCTION_RES=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_CLAIM_AUCTION_RES),this._byteArray.writeInt64(t.logId),i.default.sendMsg(this._byteArray)},t.Write_INFO_EQUIP_ATTR_REFINE=function(t){this._byteArray.writeByte(t.idx),this._byteArray.writeFloat(t.oldVal),this._byteArray.writeFloat(t.newVal)},t.Write_C2W_EQUIP_TAKE_ON=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_EQUIP_TAKE_ON),this._byteArray.writeShort(t.equipIds.length);for(var e=0;e<t.equipIds.length;++e)this._byteArray.writeInt64(t.equipIds[e]);i.default.sendMsg(this._byteArray)},t.Write_C2W_EQUIP_TAKE_OFF=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_EQUIP_TAKE_OFF),this._byteArray.writeInt(t.pos),i.default.sendMsg(this._byteArray)},t.Write_C2W_EQUIP_SMELT=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_EQUIP_SMELT),this._byteArray.writeShort(t.equipIds.length);for(var e=0;e<t.equipIds.length;++e)this._byteArray.writeInt64(t.equipIds[e]);i.default.sendMsg(this._byteArray)},t.Write_C2W_EQUIP_FORGE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_EQUIP_FORGE),this._byteArray.writeByte(t.type),this._byteArray.writeByte(t.pos),this._byteArray.writeByte(t.lv),this._byteArray.writeShort(t.amount),this._byteArray.writeDouble(t.cmbox),i.default.sendMsg(this._byteArray)},t.Write_C2W_ADD_EQUIP_BAG_LIMIT=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_ADD_EQUIP_BAG_LIMIT),this._byteArray.writeDouble(t.cmbox),i.default.sendMsg(this._byteArray)},t.Write_C2W_EQUIP_REFINE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_EQUIP_REFINE),this._byteArray.writeInt64(t.equipId),this._byteArray.writeByte(t.type),this._byteArray.writeDouble(t.cmbox),i.default.sendMsg(this._byteArray)},t.Write_C2W_LOCK_OR_UNLOCK_EQUIP=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_LOCK_OR_UNLOCK_EQUIP),this._byteArray.writeInt64(t.equipId),this._byteArray.writeByte(t.lock),i.default.sendMsg(this._byteArray)},t.Write_C2W_GMCMD=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_GMCMD),this._byteArray.writeString(t.cmd),i.default.sendMsg(this._byteArray)},t.Write_INFO_ATTR=function(t){this._byteArray.writeByte(t.attrId),this._byteArray.writeFloat(t.value)},t.Write_INFO_EQUIP_BAG=function(t){this._byteArray.writeInt64(t.id),this._byteArray.writeInt(t.protoId),this._byteArray.writeByte(t.lock),this._byteArray.writeShort(t.rdmAttr.length);for(var e=0;e<t.rdmAttr.length;++e)this.Write_INFO_ATTR(t.rdmAttr[e]);this._byteArray.writeByte(t.bind)},t.Write_INFO_EQUIP_WEAR=function(t){this._byteArray.writeInt64(t.id),this._byteArray.writeInt(t.protoId),this._byteArray.writeByte(t.lock),this._byteArray.writeByte(t.pos),this._byteArray.writeShort(t.rdmAttr.length);for(var e=0;e<t.rdmAttr.length;++e)this.Write_INFO_ATTR(t.rdmAttr[e]);this._byteArray.writeByte(t.bind)},t.Write_INFO_SKILL=function(t){this._byteArray.writeShort(t.skillId),this._byteArray.writeShort(t.skillLv)},t.Write_INFO_SKILL_STRATEGY=function(t){this._byteArray.writeByte(t.idx),this._byteArray.writeShort(t.skills.length);for(var e=0;e<t.skills.length;++e)this._byteArray.writeShort(t.skills[e])},t.Write_INFO_ENEMY=function(t){this._byteArray.writeInt(t.accId),this._byteArray.writeString(t.name),this._byteArray.writeString(t.head),this._byteArray.writeByte(t.lv),this._byteArray.writeByte(t.career),this._byteArray.writeInt(t.trophy),this._byteArray.writeInt(t.btScore),this._byteArray.writeShort(t.rank)},t.Write_INFO_TASK=function(t){this._byteArray.writeShort(t.task_id),this._byteArray.writeInt(t.done),this._byteArray.writeInt(t.need),this._byteArray.writeShort(t.state)},t.Write_INFO_BATTLE_LOG=function(t){this._byteArray.writeInt(t.season_no),this._byteArray.writeInt(t.logId),this._byteArray.writeByte(t.battlefield),this._byteArray.writeInt(t.ts),this._byteArray.writeInt64(t.atkAccId),this._byteArray.writeString(t.atkName),this._byteArray.writeString(t.atkHead),this._byteArray.writeByte(t.atkLv),this._byteArray.writeInt(t.atkOldTrophy),this._byteArray.writeInt(t.atkNewTrophy),this._byteArray.writeInt64(t.defAccId),this._byteArray.writeString(t.defName),this._byteArray.writeString(t.defHead),this._byteArray.writeByte(t.defLv),this._byteArray.writeInt(t.defOldTrophy),this._byteArray.writeInt(t.defNewTrophy),this._byteArray.writeByte(t.revenge)},t.Write_C2W_CREATE_CAREER=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_CREATE_CAREER),this._byteArray.writeShort(t.career),i.default.sendMsg(this._byteArray)},t.Write_C2W_HERO_UPGRADE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_HERO_UPGRADE),this._byteArray.writeShort(t.lv),i.default.sendMsg(this._byteArray)},t.Write_C2W_CLAIM_TASK_REWARD=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_CLAIM_TASK_REWARD),this._byteArray.writeShort(t.task_id),i.default.sendMsg(this._byteArray)},t.Write_C2W_TASK_LIST=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_TASK_LIST),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_SKILL_UPGRADE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SKILL_UPGRADE),this._byteArray.writeShort(t.skillId),this._byteArray.writeShort(t.skillLv),i.default.sendMsg(this._byteArray)},t.Write_C2W_SKILL_USE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SKILL_USE),this._byteArray.writeShort(t.skillId),i.default.sendMsg(this._byteArray)},t.Write_C2W_SKILL_UNUSE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SKILL_UNUSE),this._byteArray.writeShort(t.idx),i.default.sendMsg(this._byteArray)},t.Write_C2W_SKILL_REPLACE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SKILL_REPLACE),this._byteArray.writeShort(t.idx),this._byteArray.writeShort(t.skillId),i.default.sendMsg(this._byteArray)},t.Write_C2W_SKILL_CLEAN=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SKILL_CLEAN),this._byteArray.writeDouble(t.cmbox),i.default.sendMsg(this._byteArray)},t.Write_C2W_DUNGEON_CHALLENGE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_DUNGEON_CHALLENGE),this._byteArray.writeInt(t.id),i.default.sendMsg(this._byteArray)},t.Write_C2W_TRANSFER_CAREER=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_TRANSFER_CAREER),this._byteArray.writeByte(t.career),this._byteArray.writeDouble(t.cmbox),i.default.sendMsg(this._byteArray)},t.Write_C2W_SEARCH_ENEMY_LIST=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SEARCH_ENEMY_LIST),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_ENEMY_BATTLE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_ENEMY_BATTLE),this._byteArray.writeInt64(t.enemyAccId),i.default.sendMsg(this._byteArray)},t.Write_C2W_BUY_ROB_TIMES=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_BUY_ROB_TIMES),this._byteArray.writeDouble(t.cmbox),i.default.sendMsg(this._byteArray)},t.Write_C2W_ROB_BATTLE_LOGS=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_ROB_BATTLE_LOGS),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_ROB_REVENGE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_ROB_REVENGE),this._byteArray.writeInt(t.logId),i.default.sendMsg(this._byteArray)},t.Write_C2W_SWAP_SKILL_POS=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SWAP_SKILL_POS),this._byteArray.writeByte(t.xIdx),this._byteArray.writeByte(t.yIdx),i.default.sendMsg(this._byteArray)},t.Write_C2W_SET_SKILL_STRATEGY=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SET_SKILL_STRATEGY),this._byteArray.writeByte(t.idx),this._byteArray.writeShort(t.skills.length);for(var e=0;e<t.skills.length;++e)this._byteArray.writeShort(t.skills[e]);i.default.sendMsg(this._byteArray)},t.Write_C2W_APPLY_SKILL_STRATEGY=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_APPLY_SKILL_STRATEGY),this._byteArray.writeByte(t.idx),i.default.sendMsg(this._byteArray)},t.Write_C2W_INTENSIFY=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_INTENSIFY),this._byteArray.writeByte(t.pos),this._byteArray.writeDouble(t.cmbox),i.default.sendMsg(this._byteArray)},t.Write_C2W_INTENSIFY_INFO=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_INTENSIFY_INFO),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_SET_SKILLS_USING_DEF=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SET_SKILLS_USING_DEF),this._byteArray.writeShort(t.skills.length);for(var e=0;e<t.skills.length;++e)this._byteArray.writeShort(t.skills[e]);i.default.sendMsg(this._byteArray)},t.Write_INFO_HTTP_PARAM=function(t){this._byteArray.writeString(t.key),this._byteArray.writeString(t.val)},t.Write_INFO_RANK=function(t){this._byteArray.writeShort(t.rank),this._byteArray.writeInt(t.accId),this._byteArray.writeString(t.head),this._byteArray.writeShort(t.lv),this._byteArray.writeString(t.name),this._byteArray.writeInt64(t.value),this._byteArray.writeInt64(t.award),this._byteArray.writeInt64(t.award1)},t.Write_C2W_LEADERBOARD=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_LEADERBOARD),this._byteArray.writeShort(t.kind),i.default.sendMsg(this._byteArray)},t.Write_C2W_DAILY_RANK_REWARD=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_DAILY_RANK_REWARD),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_CLAIM_DAILY_RANK_REWARD=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_CLAIM_DAILY_RANK_REWARD),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_LEADERBOARD_HISTORIES=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_LEADERBOARD_HISTORIES),this._byteArray.writeShort(t.kind),this._byteArray.writeShort(t.page),this._byteArray.writeShort(t.size),i.default.sendMsg(this._byteArray)},t.Write_INFO_LOTTERY=function(t){this._byteArray.writeInt(t.idx),this._byteArray.writeShort(t.luckyNum),this._byteArray.writeInt(t.resId),this._byteArray.writeDouble(t.amount)},t.Write_C2W_PLAY_LOTTERY=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_PLAY_LOTTERY),this._byteArray.writeShort(t.num),i.default.sendMsg(this._byteArray)},t.Write_C2W_LOTTERY_LOGS=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_LOTTERY_LOGS),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_INFO_MAIL_ATTACHMENTS=function(t){this._byteArray.writeInt(t.attachId),this._byteArray.writeInt64(t.attachCnt)},t.Write_INFO_MAIL_SYSTEM=function(t){this._byteArray.writeInt(t.mailId),this._byteArray.writeString(t.title),this._byteArray.writeString(t.content),this._byteArray.writeInt(t.time),this._byteArray.writeInt(t.isMultiLan),this._byteArray.writeString(t.param),this._byteArray.writeByte(t.status),this._byteArray.writeShort(t.attachments.length);for(var e=0;e<t.attachments.length;++e)this.Write_INFO_MAIL_ATTACHMENTS(t.attachments[e])},t.Write_INFO_MAIL_OP_RESULT=function(t){this._byteArray.writeInt(t.mailId),this._byteArray.writeInt(t.code)},t.Write_C2W_MAIL_DELETE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_MAIL_DELETE),this._byteArray.writeInt(t.mailId),i.default.sendMsg(this._byteArray)},t.Write_C2W_MAIL_DELETE_ALL_READED=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_MAIL_DELETE_ALL_READED),this._byteArray.writeInt(t.mailId),i.default.sendMsg(this._byteArray)},t.Write_C2W_MAIL_READ=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_MAIL_READ),this._byteArray.writeInt(t.mailId),i.default.sendMsg(this._byteArray)},t.Write_C2W_MAIL_GET_ATTACHMENTS=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_MAIL_GET_ATTACHMENTS),this._byteArray.writeInt(t.mailId),i.default.sendMsg(this._byteArray)},t.Write_C2W_MAIL_GET_NEW=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_MAIL_GET_NEW),this._byteArray.writeInt(t.mailId),this._byteArray.writeString(t.lang),i.default.sendMsg(this._byteArray)},t.Write_C2W_MAIL_GET_ALL=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_MAIL_GET_ALL),this._byteArray.writeString(t.lang),i.default.sendMsg(this._byteArray)},t.Write_C2W_MAIL_GET_ALL_ATTACHMENTS=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_MAIL_GET_ALL_ATTACHMENTS),this._byteArray.writeInt(t.mailId),i.default.sendMsg(this._byteArray)},t.Write_INFO_MOMO_BASE=function(t){this._byteArray.writeInt(t.tokenId),this._byteArray.writeInt(t.protoId),this._byteArray.writeString(t.name),this._byteArray.writeByte(t.lv),this._byteArray.writeInt(t.lvHash),this._byteArray.writeInt(t.amount),this._byteArray.writeByte(t.quality),this._byteArray.writeByte(t.category),this._byteArray.writeByte(t.specialty),this._byteArray.writeInt(t.rentTime),this._byteArray.writeShort(t.gems.length);for(var e=0;e<t.gems.length;++e)this._byteArray.writeShort(t.gems[e]);this._byteArray.writeShort(t.hash)},t.Write_C2W_SET_MINE_RATIO=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SET_MINE_RATIO),this._byteArray.writeInt(t.goldHash),this._byteArray.writeInt(t.skRecipeHash),this._byteArray.writeInt(t.equipHash),i.default.sendMsg(this._byteArray)},t.Write_C2W_MINE_INFO=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_MINE_INFO),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_CLAIM_IDLE_REWARD=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_CLAIM_IDLE_REWARD),this._byteArray.writeInt(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_SPEED_MINE=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SPEED_MINE),this._byteArray.writeDouble(t.cmbox),this._byteArray.writeByte(t.payment_id),this._byteArray.writeByte(t.times),i.default.sendMsg(this._byteArray)},t.Write_INFO_PRICE=function(t){this._byteArray.writeShort(t.payment_id),this._byteArray.writeShort(t.times)},t.Write_C2W_ACCOUNT_LOGIN=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_ACCOUNT_LOGIN),this._byteArray.writeString(t.jwt),this._byteArray.writeInt(t.flag),this._byteArray.writeString(t.address),i.default.sendMsg(this._byteArray)},t.Write_C2W_REFRESH_MBOX=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_REFRESH_MBOX),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_HEART_BEAT=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_HEART_BEAT),this._byteArray.writeShort(t.hearts),i.default.sendMsg(this._byteArray)},t.Write_C2W_NAME_SET=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_NAME_SET),this._byteArray.writeString(t.name),i.default.sendMsg(this._byteArray)},t.Write_C2W_HEAD_SET=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_HEAD_SET),this._byteArray.writeString(t.head),i.default.sendMsg(this._byteArray)},t.Write_C2W_LOGOUT=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_LOGOUT),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_VIP_INFO=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_VIP_INFO),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_SWEEP_QUICK_DISPATCH=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SWEEP_QUICK_DISPATCH),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_SWEEP_DISPATCH=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SWEEP_DISPATCH),this._byteArray.writeByte(t.idx),this._byteArray.writeInt(t.tokenId),i.default.sendMsg(this._byteArray)},t.Write_C2W_SWEEP_MOMO_LIST=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SWEEP_MOMO_LIST),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t.Write_C2W_SWEEP_MINING_INFO=function(t){this._byteArray.reset(),this._byteArray.setPacketId(o.default.C2W_SWEEP_MINING_INFO),this._byteArray.writeShort(t.unknown),i.default.sendMsg(this._byteArray)},t}();n.default=a,cc._RF.pop()},{"./ByteArray":"ByteArray","./PacketID":"PacketID","./SocketMgr":"SocketMgr"}],MsgW2C:[function(t,e,n){"use strict";cc._RF.push(e,"364e32RlYtL0KL+00AL1aiz","MsgW2C"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./ProtocolInfo"),o=function(){function t(){}return t.init=function(){console.log("do nothing~~~~")},t.Recv_INFO_HERO_SKILL=function(t){var e=r.default.create_INFO_HERO_SKILL();return e.skillId=t.readShort(),e.skillLv=t.readByte(),e},t.Recv_INFO_ENTITY=function(t){var e=r.default.create_INFO_ENTITY();e.pos=t.readByte(),e.heroId=t.readInt(),e.lv=t.readShort(),e.hp=t.readInt(),e.maxhp=t.readInt();for(var n=t.readShort(),o=0;o<n;++o)e.skills.push(this.Recv_INFO_HERO_SKILL(t));return e},t.Recv_W2C_BATTLE_HEAD=function(t){var e=r.default.create_W2C_BATTLE_HEAD();e.logId=t.readInt64(),e.btype=t.readByte(),e.dungeonId=t.readInt(),e.atkName=t.readString(),e.atkLv=t.readByte(),e.atkScore=t.readInt(),e.defName=t.readString(),e.defLv=t.readByte(),e.defScore=t.readInt();for(var n=t.readShort(),o=0;o<n;++o)e.atk.push(this.Recv_INFO_ENTITY(t));var i=t.readShort();for(o=0;o<i;++o)e.def.push(this.Recv_INFO_ENTITY(t));return e},t.Recv_INFO_PROCESS=function(t){var e=r.default.create_INFO_PROCESS();return e.actId=t.readShort(),e.ms=t.readInt(),e.acttype=t.readByte(),e.pos=t.readByte(),e.srcPos=t.readByte(),e.param1=t.readShort(),e.param2=t.readInt(),e.param3=t.readInt(),e},t.Recv_W2C_BATTLE_PROCESS=function(t){for(var e=r.default.create_W2C_BATTLE_PROCESS(),n=t.readShort(),o=0;o<n;++o)e.actions.push(this.Recv_INFO_PROCESS(t));return e},t.Recv_W2C_BATTLE_TAIL=function(t){var e=r.default.create_W2C_BATTLE_TAIL();return e.logId=t.readInt64(),e.bRet=t.readByte(),e},t.Recv_INFO_AUCTION_EQUIP=function(t){var e=r.default.create_INFO_AUCTION_EQUIP();e.protoId=t.readInt();for(var n=t.readShort(),o=0;o<n;++o)e.rdmAttr.push(this.Recv_INFO_ATTR(t));return e},t.Recv_INFO_EQUIP_AUCTION=function(t){var e=r.default.create_INFO_EQUIP_AUCTION();return e.id=t.readInt64(),e.auctor=t.readInt(),e.price=t.readInt64(),e.currency=t.readByte(),e.status=t.readByte(),e.crtime=t.readInt(),e.etime=t.readInt(),e.equip=this.Recv_INFO_AUCTION_EQUIP(t),e},t.Recv_INFO_EQUIP_AUCTION_LOG=function(t){var e=r.default.create_INFO_EQUIP_AUCTION_LOG();return e.logId=t.readInt64(),e.season_no=t.readShort(),e.equipId=t.readInt64(),e.auctor=t.readInt(),e.bidder=t.readInt(),e.price=t.readInt64(),e.currency=t.readByte(),e.dealtime=t.readInt(),e.equip=this.Recv_INFO_AUCTION_EQUIP(t),e},t.Recv_W2C_EQUIP_AUCTION_LIST=function(t){var e=r.default.create_W2C_EQUIP_AUCTION_LIST();e.isHead=t.readByte(),e.category=t.readByte();for(var n=t.readShort(),o=0;o<n;++o)e.auctions.push(this.Recv_INFO_EQUIP_AUCTION(t));return e},t.Recv_W2C_EQUIP_AUCTION_ADD=function(t){var e=r.default.create_W2C_EQUIP_AUCTION_ADD();return e.category=t.readByte(),e.auction=this.Recv_INFO_EQUIP_AUCTION(t),e},t.Recv_W2C_EQUIP_AUCTION_DEL=function(t){for(var e=r.default.create_W2C_EQUIP_AUCTION_DEL(),n=t.readShort(),o=0;o<n;++o)e.equipIds.push(t.readInt64());return e},t.Recv_W2C_MY_EQUIP_AUCTION_LIST=function(t){for(var e=r.default.create_W2C_MY_EQUIP_AUCTION_LIST(),n=t.readShort(),o=0;o<n;++o)e.auctions.push(this.Recv_INFO_EQUIP_AUCTION(t));return e},t.Recv_W2C_CREATE_EQUIP_AUCTION_RET=function(t){var e=r.default.create_W2C_CREATE_EQUIP_AUCTION_RET();return e.equipId=t.readInt64(),e},t.Recv_W2C_CANCEL_EQUIP_AUCTION_RET=function(t){var e=r.default.create_W2C_CANCEL_EQUIP_AUCTION_RET();return e.equipId=t.readInt64(),e},t.Recv_W2C_CLAIM_EXPIRED_EQUIP_RET=function(t){var e=r.default.create_W2C_CLAIM_EXPIRED_EQUIP_RET();return e.equipId=t.readInt64(),e},t.Recv_W2C_EQUIP_AUCTION_LOGS=function(t){for(var e=r.default.create_W2C_EQUIP_AUCTION_LOGS(),n=t.readShort(),o=0;o<n;++o)e.logs.push(this.Recv_INFO_EQUIP_AUCTION_LOG(t));return e},t.Recv_W2C_EQUIP_AUCTION_LOGS_ADD=function(t){var e=r.default.create_W2C_EQUIP_AUCTION_LOGS_ADD();return e.log=this.Recv_INFO_EQUIP_AUCTION_LOG(t),e},t.Recv_W2C_EQUIP_AUCTION_UNCLAIMED_LIST=function(t){for(var e=r.default.create_W2C_EQUIP_AUCTION_UNCLAIMED_LIST(),n=t.readShort(),o=0;o<n;++o)e.logs.push(this.Recv_INFO_EQUIP_AUCTION_LOG(t));return e},t.Recv_W2C_CLAIM_AUCTION_RES_RET=function(t){var e=r.default.create_W2C_CLAIM_AUCTION_RES_RET();return e.logId=t.readInt64(),e.succeed=t.readByte(),e},t.Recv_INFO_EQUIP_ATTR_REFINE=function(t){var e=r.default.create_INFO_EQUIP_ATTR_REFINE();return e.idx=t.readByte(),e.oldVal=t.readFloat(),e.newVal=t.readFloat(),e},t.Recv_W2C_EQUIP_WEAR_INFO=function(t){for(var e=r.default.create_W2C_EQUIP_WEAR_INFO(),n=t.readShort(),o=0;o<n;++o)e.equips.push(this.Recv_INFO_EQUIP_WEAR(t));return e},t.Recv_W2C_EQUIP_BAG_INFO=function(t){var e=r.default.create_W2C_EQUIP_BAG_INFO();e.total=t.readShort(),e.limit=t.readShort();for(var n=t.readShort(),o=0;o<n;++o)e.equips.push(this.Recv_INFO_EQUIP_BAG(t));return e},t.Recv_W2C_EQUIP_BAG_UPDATE=function(t){for(var e=r.default.create_W2C_EQUIP_BAG_UPDATE(),n=t.readShort(),o=0;o<n;++o)e.equips.push(this.Recv_INFO_EQUIP_BAG(t));var i=t.readShort();for(o=0;o<i;++o)e.delEquips.push(t.readInt64());return e},t.Recv_W2C_EQUIP_SMELT_RET=function(t){var e=r.default.create_W2C_EQUIP_SMELT_RET();e.smelt=t.readInt();for(var n=t.readShort(),o=0;o<n;++o)e.equipIds.push(t.readInt64());return e},t.Recv_W2C_EQUIP_FORGE_RET=function(t){for(var e=r.default.create_W2C_EQUIP_FORGE_RET(),n=t.readShort(),o=0;o<n;++o)e.equipIds.push(t.readInt64());return e},t.Recv_W2C_EQUIP_BAG_LIMIT_UPDATE=function(t){var e=r.default.create_W2C_EQUIP_BAG_LIMIT_UPDATE();return e.limit=t.readShort(),e},t.Recv_W2C_EQUIP_REFINE_RET=function(t){var e=r.default.create_W2C_EQUIP_REFINE_RET();e.equipId=t.readInt64();for(var n=t.readShort(),o=0;o<n;++o)e.changeAttr.push(this.Recv_INFO_EQUIP_ATTR_REFINE(t));return e},t.Recv_W2C_LOCK_OR_UNLOCK_EQUIP_RET=function(t){var e=r.default.create_W2C_LOCK_OR_UNLOCK_EQUIP_RET();return e.equipId=t.readInt64(),e.lock=t.readByte(),e},t.Recv_INFO_ATTR=function(t){var e=r.default.create_INFO_ATTR();return e.attrId=t.readByte(),e.value=t.readFloat(),e},t.Recv_INFO_EQUIP_BAG=function(t){var e=r.default.create_INFO_EQUIP_BAG();e.id=t.readInt64(),e.protoId=t.readInt(),e.lock=t.readByte();for(var n=t.readShort(),o=0;o<n;++o)e.rdmAttr.push(this.Recv_INFO_ATTR(t));return e.bind=t.readByte(),e},t.Recv_INFO_EQUIP_WEAR=function(t){var e=r.default.create_INFO_EQUIP_WEAR();e.id=t.readInt64(),e.protoId=t.readInt(),e.lock=t.readByte(),e.pos=t.readByte();for(var n=t.readShort(),o=0;o<n;++o)e.rdmAttr.push(this.Recv_INFO_ATTR(t));return e.bind=t.readByte(),e},t.Recv_INFO_SKILL=function(t){var e=r.default.create_INFO_SKILL();return e.skillId=t.readShort(),e.skillLv=t.readShort(),e},t.Recv_INFO_SKILL_STRATEGY=function(t){var e=r.default.create_INFO_SKILL_STRATEGY();e.idx=t.readByte();for(var n=t.readShort(),o=0;o<n;++o)e.skills.push(t.readShort());return e},t.Recv_INFO_ENEMY=function(t){var e=r.default.create_INFO_ENEMY();return e.accId=t.readInt(),e.name=t.readString(),e.head=t.readString(),e.lv=t.readByte(),e.career=t.readByte(),e.trophy=t.readInt(),e.btScore=t.readInt(),e.rank=t.readShort(),e},t.Recv_INFO_TASK=function(t){var e=r.default.create_INFO_TASK();return e.task_id=t.readShort(),e.done=t.readInt(),e.need=t.readInt(),e.state=t.readShort(),e},t.Recv_INFO_BATTLE_LOG=function(t){var e=r.default.create_INFO_BATTLE_LOG();return e.season_no=t.readInt(),e.logId=t.readInt(),e.battlefield=t.readByte(),e.ts=t.readInt(),e.atkAccId=t.readInt64(),e.atkName=t.readString(),e.atkHead=t.readString(),e.atkLv=t.readByte(),e.atkOldTrophy=t.readInt(),e.atkNewTrophy=t.readInt(),e.defAccId=t.readInt64(),e.defName=t.readString(),e.defHead=t.readString(),e.defLv=t.readByte(),e.defOldTrophy=t.readInt(),e.defNewTrophy=t.readInt(),e.revenge=t.readByte(),e},t.Recv_W2C_HERO_ATTR=function(t){var e=r.default.create_W2C_HERO_ATTR();e.career=t.readShort();for(var n=t.readShort(),o=0;o<n;++o)e.attr.push(this.Recv_INFO_ATTR(t));var i=t.readShort();for(o=0;o<i;++o)e.gemAttrAppend.push(this.Recv_INFO_ATTR(t));e.btScore=t.readInt(),e.lv=t.readByte(),e.nextDungeonId=t.readInt(),e.battlefield=t.readByte(),e.dailyRoundIndex=t.readInt(),e.trophy=t.readInt(),e.freeTransfer=t.readByte(),e.freeCleanSkill=t.readByte();var a=t.readShort();for(o=0;o<a;++o)e.intensifyAttrAppend.push(this.Recv_INFO_ATTR(t));return e},t.Recv_W2C_TASK_LIST=function(t){for(var e=r.default.create_W2C_TASK_LIST(),n=t.readShort(),o=0;o<n;++o)e.taskes.push(this.Recv_INFO_TASK(t));return e.countdown=t.readInt(),e},t.Recv_W2C_CLAIM_TASK_REWARD_RET=function(t){var e=r.default.create_W2C_CLAIM_TASK_REWARD_RET();return e.task_id=t.readShort(),e.op=t.readShort(),e},t.Recv_W2C_SKILL_UPDATE=function(t){var e=r.default.create_W2C_SKILL_UPDATE();return e.skillId=t.readShort(),e.skillLv=t.readShort(),e},t.Recv_W2C_SKILL_LIST=function(t){for(var e=r.default.create_W2C_SKILL_LIST(),n=t.readShort(),o=0;o<n;++o)e.skills.push(this.Recv_INFO_SKILL(t));return e},t.Recv_W2C_USING_SKILL_LIST=function(t){for(var e=r.default.create_W2C_USING_SKILL_LIST(),n=t.readShort(),o=0;o<n;++o)e.skills.push(t.readShort());return e},t.Recv_W2C_USING_SKILL_LIST_DEF=function(t){for(var e=r.default.create_W2C_USING_SKILL_LIST_DEF(),n=t.readShort(),o=0;o<n;++o)e.skills.push(t.readShort());return e},t.Recv_W2C_SKILL_CLEAN_RET=function(t){var e=r.default.create_W2C_SKILL_CLEAN_RET();return e.unknown=t.readShort(),e},t.Recv_W2C_DUNGEON_CHALLENGE_RET=function(t){var e=r.default.create_W2C_DUNGEON_CHALLENGE_RET();e.nextDungeonId=t.readInt();for(var n=t.readShort(),o=0;o<n;++o)e.equips.push(this.Recv_INFO_EQUIP_BAG(t));return e},t.Recv_W2C_TRANSFER_CAREER_RET=function(t){var e=r.default.create_W2C_TRANSFER_CAREER_RET();return e.unknown=t.readShort(),e},t.Recv_W2C_ENEMY_LIST_RET=function(t){for(var e=r.default.create_W2C_ENEMY_LIST_RET(),n=t.readShort(),o=0;o<n;++o)e.enemys.push(this.Recv_INFO_ENEMY(t));return e.tick=t.readInt(),e},t.Recv_W2C_BATTLEFIELD_UPDATE=function(t){var e=r.default.create_W2C_BATTLEFIELD_UPDATE();return e.old_battlefield=t.readShort(),e.new_battlefield=t.readShort(),e},t.Recv_W2C_ROB_INFO=function(t){var e=r.default.create_W2C_ROB_INFO();return e.max_times=t.readShort(),e.cur_times=t.readShort(),e.checkpoint=t.readInt(),e},t.Recv_W2C_ROB_RET=function(t){var e=r.default.create_W2C_ROB_RET();return e.atkOldTrophy=t.readInt(),e.atkNewTrophy=t.readInt(),e.defOldTrophy=t.readInt(),e.defNewTrophy=t.readInt(),e},t.Recv_W2C_ROB_BATTLE_LOGS=function(t){for(var e=r.default.create_W2C_ROB_BATTLE_LOGS(),n=t.readShort(),o=0;o<n;++o)e.logs.push(this.Recv_INFO_BATTLE_LOG(t));return e},t.Recv_W2C_ROB_REVENGE_RET=function(t){var e=r.default.create_W2C_ROB_REVENGE_RET();return e.logId=t.readInt(),e},t.Recv_W2C_TROPHY_UPDATE=function(t){var e=r.default.create_W2C_TROPHY_UPDATE();return e.trophy=t.readInt(),e},t.Recv_W2C_BATTLEFIELD_ELIGIBLE=function(t){var e=r.default.create_W2C_BATTLEFIELD_ELIGIBLE();return e.battlefield=t.readByte(),e.amount=t.readShort(),e},t.Recv_W2C_SKILL_STRATEGY=function(t){for(var e=r.default.create_W2C_SKILL_STRATEGY(),n=t.readShort(),o=0;o<n;++o)e.strategys.push(this.Recv_INFO_SKILL_STRATEGY(t));return e.strategyAmt=t.readByte(),e.strategyUsingIdx=t.readByte(),e},t.Recv_W2C_INTENSIFY_INFO=function(t){for(var e=r.default.create_W2C_INTENSIFY_INFO(),n=t.readShort(),o=0;o<n;++o)e.intensifies.push(t.readShort());return e},t.Recv_INFO_HTTP_PARAM=function(t){var e=r.default.create_INFO_HTTP_PARAM();return e.key=t.readString(),e.val=t.readString(),e},t.Recv_INFO_RANK=function(t){var e=r.default.create_INFO_RANK();return e.rank=t.readShort(),e.accId=t.readInt(),e.head=t.readString(),e.lv=t.readShort(),e.name=t.readString(),e.value=t.readInt64(),e.award=t.readInt64(),e.award1=t.readInt64(),e},t.Recv_W2C_LEADERBOARD=function(t){var e=r.default.create_W2C_LEADERBOARD();e.kind=t.readShort(),e.season=t.readInt(),e.countdown=t.readInt();for(var n=t.readShort(),o=0;o<n;++o)e.leaderboard.push(this.Recv_INFO_RANK(t));return e.myself=this.Recv_INFO_RANK(t),e},t.Recv_W2C_DAILY_RANK_REWARD=function(t){var e=r.default.create_W2C_DAILY_RANK_REWARD();return e.round=t.readInt(),e.kind=t.readByte(),e.rank=t.readShort(),e.status=t.readByte(),e.deadline=t.readInt(),e},t.Recv_W2C_CLAIM_DAILY_RANK_REWARD_RET=function(t){var e=r.default.create_W2C_CLAIM_DAILY_RANK_REWARD_RET();return e.unknown=t.readShort(),e},t.Recv_W2C_LEADERBOARD_HISTORIES=function(t){var e=r.default.create_W2C_LEADERBOARD_HISTORIES();e.kind=t.readShort(),e.page=t.readShort(),e.size=t.readShort(),e.season=t.readInt(),e.total=t.readInt();for(var n=t.readShort(),o=0;o<n;++o)e.leaderboard.push(this.Recv_INFO_RANK(t));return e.myself=this.Recv_INFO_RANK(t),e},t.Recv_INFO_LOTTERY=function(t){var e=r.default.create_INFO_LOTTERY();return e.idx=t.readInt(),e.luckyNum=t.readShort(),e.resId=t.readInt(),e.amount=t.readDouble(),e},t.Recv_W2C_PLAY_LOTTERY_RET=function(t){for(var e=r.default.create_W2C_PLAY_LOTTERY_RET(),n=t.readShort(),o=0;o<n;++o)e.rets.push(this.Recv_INFO_LOTTERY(t));return e},t.Recv_W2C_LOTTERY_LOGS=function(t){for(var e=r.default.create_W2C_LOTTERY_LOGS(),n=t.readShort(),o=0;o<n;++o)e.logs.push(this.Recv_INFO_LOTTERY(t));return e.tickets=t.readInt(),e.tickets_used=t.readInt(),e},t.Recv_INFO_MAIL_ATTACHMENTS=function(t){var e=r.default.create_INFO_MAIL_ATTACHMENTS();return e.attachId=t.readInt(),e.attachCnt=t.readInt64(),e},t.Recv_INFO_MAIL_SYSTEM=function(t){var e=r.default.create_INFO_MAIL_SYSTEM();e.mailId=t.readInt(),e.title=t.readString(),e.content=t.readString(),e.time=t.readInt(),e.isMultiLan=t.readInt(),e.param=t.readString(),e.status=t.readByte();for(var n=t.readShort(),o=0;o<n;++o)e.attachments.push(this.Recv_INFO_MAIL_ATTACHMENTS(t));return e},t.Recv_INFO_MAIL_OP_RESULT=function(t){var e=r.default.create_INFO_MAIL_OP_RESULT();return e.mailId=t.readInt(),e.code=t.readInt(),e},t.Recv_W2C_MAIL_SYSTEM_LIST=function(t){var e=r.default.create_W2C_MAIL_SYSTEM_LIST();e.isNew=t.readByte();for(var n=t.readShort(),o=0;o<n;++o)e.mailList.push(this.Recv_INFO_MAIL_SYSTEM(t));return e},t.Recv_W2C_MAIL_OP_RESULT=function(t){for(var e=r.default.create_W2C_MAIL_OP_RESULT(),n=t.readShort(),o=0;o<n;++o)e.rets.push(this.Recv_INFO_MAIL_OP_RESULT(t));return e},t.Recv_W2C_MAIL_NEWMAIL=function(t){var e=r.default.create_W2C_MAIL_NEWMAIL();return e.nType=t.readByte(),e.mailId=t.readInt(),e},t.Recv_W2C_MAIL_ONECLICK_ATTACHMENTS=function(t){for(var e=r.default.create_W2C_MAIL_ONECLICK_ATTACHMENTS(),n=t.readShort(),o=0;o<n;++o)e.attachments.push(this.Recv_INFO_MAIL_ATTACHMENTS(t));return e},t.Recv_INFO_MOMO_BASE=function(t){var e=r.default.create_INFO_MOMO_BASE();e.tokenId=t.readInt(),e.protoId=t.readInt(),e.name=t.readString(),e.lv=t.readByte(),e.lvHash=t.readInt(),e.amount=t.readInt(),e.quality=t.readByte(),e.category=t.readByte(),e.specialty=t.readByte(),e.rentTime=t.readInt();for(var n=t.readShort(),o=0;o<n;++o)e.gems.push(t.readShort());return e.hash=t.readShort(),e},t.Recv_W2C_MINE_INFO=function(t){var e=r.default.create_W2C_MINE_INFO();return e.goldTmp=t.readInt64(),e.skRecipeTmp=t.readInt(),e.goldHash=t.readInt(),e.skRecipeHash=t.readInt(),e.equipHash=t.readInt(),e.lastTime=t.readInt(),e.hashrate=t.readInt(),e},t.Recv_W2C_CLAIM_IDEL_REWARD_RET=function(t){var e=r.default.create_W2C_CLAIM_IDEL_REWARD_RET();return e.gold=t.readInt64(),e.skRecipe=t.readInt(),e.equipAmt=t.readInt(),e},t.Recv_W2C_MOMO_LIST=function(t){var e=r.default.create_W2C_MOMO_LIST();e.isHead=t.readByte();for(var n=t.readShort(),o=0;o<n;++o)e.momos.push(this.Recv_INFO_MOMO_BASE(t));return e},t.Recv_W2C_EFFECTIVE_GEMS=function(t){for(var e=r.default.create_W2C_EFFECTIVE_GEMS(),n=t.readShort(),o=0;o<n;++o)e.gems.push(t.readShort());return e},t.Recv_INFO_PRICE=function(t){var e=r.default.create_INFO_PRICE();return e.payment_id=t.readShort(),e.times=t.readShort(),e},t.Recv_W2C_SERVER_ERROR=function(t){var e=r.default.create_W2C_SERVER_ERROR();return e.errcode=t.readShort(),e.etype=t.readByte(),e},t.Recv_W2C_ACCOUNT_LOGIN_RESP=function(t){var e=r.default.create_W2C_ACCOUNT_LOGIN_RESP();return e.loginStep=t.readByte(),e.loginRet=t.readShort(),e.address=t.readString(),e},t.Recv_W2C_ACCOUNT_INFO=function(t){var e=r.default.create_W2C_ACCOUNT_INFO();e.utime=t.readInt(),e.accId=t.readInt64(),e.name=t.readString(),e.tmCreate=t.readInt(),e.head=t.readString(),e.lv=t.readShort(),e.career=t.readShort(),e.gold=t.readInt64(),e.skRecipe=t.readInt(),e.mbox=t.readDouble(),e.hashrate=t.readInt(),e.smelt=t.readInt();for(var n=t.readShort(),o=0;o<n;++o)e.dwg.push(t.readShort());return e.battlefield=t.readShort(),e},t.Recv_W2C_DAYRESET_INFO=function(t){var e=r.default.create_W2C_DAYRESET_INFO();return e.countdown=t.readInt(),e},t.Recv_W2C_REFRESH_MBOX_RET=function(t){for(var e=r.default.create_W2C_REFRESH_MBOX_RET(),n=t.readShort(),o=0;o<n;++o)e.ret.push(t.readShort());return e},t.Recv_W2C_GOLD_UPDATE=function(t){var e=r.default.create_W2C_GOLD_UPDATE();return e.balance=t.readInt64(),e.val=t.readInt64(),e.op=t.readShort(),e},t.Recv_W2C_HASHRATE_UPDATE=function(t){var e=r.default.create_W2C_HASHRATE_UPDATE();return e.hashrate=t.readInt(),e.bonus_fixed=t.readInt(),e.bonus_percent=t.readInt(),e},t.Recv_W2C_LEVEL_UPDATE=function(t){var e=r.default.create_W2C_LEVEL_UPDATE();return e.oldLv=t.readShort(),e.newLv=t.readShort(),e},t.Recv_W2C_SKRECIPE_UPDATE_INFO=function(t){var e=r.default.create_W2C_SKRECIPE_UPDATE_INFO();return e.balance=t.readInt(),e.val=t.readInt(),e.op=t.readInt(),e},t.Recv_W2C_MBOX_UPDATE_INFO=function(t){var e=r.default.create_W2C_MBOX_UPDATE_INFO();return e.balance=t.readDouble(),e.val=t.readDouble(),e.op=t.readInt(),e},t.Recv_W2C_HEART_BEAT=function(t){var e=r.default.create_W2C_HEART_BEAT();return e.hearts=t.readInt(),e},t.Recv_W2C_NAME_UPDATE_INFO=function(t){var e=r.default.create_W2C_NAME_UPDATE_INFO();return e.name=t.readString(),e},t.Recv_W2C_HEAD_UPDATE_INFO=function(t){var e=r.default.create_W2C_HEAD_UPDATE_INFO();return e.head=t.readString(),e},t.Recv_W2C_LOGOUT_RET=function(t){var e=r.default.create_W2C_LOGOUT_RET();return e.ret=t.readShort(),e},t.Recv_W2C_SMELT_UPDATE_INFO=function(t){var e=r.default.create_W2C_SMELT_UPDATE_INFO();return e.balance=t.readInt(),e.val=t.readInt(),e.op=t.readShort(),e},t.Recv_W2C_DWG_UPDATE_INFO=function(t){var e=r.default.create_W2C_DWG_UPDATE_INFO();return e.balance=t.readShort(),e.pos=t.readByte(),e.val=t.readShort(),e.op=t.readShort(),e},t.Recv_W2C_PRICE_LIST=function(t){for(var e=r.default.create_W2C_PRICE_LIST(),n=t.readShort(),o=0;o<n;++o)e.menu.push(this.Recv_INFO_PRICE(t));return e.mbox_usdt=t.readDouble(),e},t.Recv_W2C_SYS_SEASON_CHANCE=function(t){var e=r.default.create_W2C_SYS_SEASON_CHANCE();return e.curSeason=t.readInt(),e.lastSeason=t.readInt(),e},t.Recv_W2C_SYS_BATTLEFIELD_OPEN=function(t){var e=r.default.create_W2C_SYS_BATTLEFIELD_OPEN();return e.battlefield=t.readShort(),e},t.Recv_W2C_SEASON_RESET_INFO=function(t){var e=r.default.create_W2C_SEASON_RESET_INFO();return e.season_no_old=t.readInt(),e.season_no_new=t.readInt(),e.epic_rank=t.readShort(),e.epic_mbox=t.readDouble(),e.epic_mec=t.readDouble(),e.royal_rank=t.readShort(),e.royal_mbox=t.readDouble(),e.royal_mec=t.readDouble(),e.legendary_rank=t.readShort(),e.legendary_mbox=t.readDouble(),e.legendary_mec=t.readDouble(),e.dungeon_epic_rank=t.readShort(),e.dungeon_epic_mbox=t.readDouble(),e.dungeon_epic_mec=t.readDouble(),e.dungeon_royal_rank=t.readShort(),e.dungeon_royal_mbox=t.readDouble(),e.dungeon_royal_mec=t.readDouble(),e.dungeon_legendary_rank=t.readShort(),e.dungeon_legendary_mbox=t.readDouble(),e.dungeon_legendary_mec=t.readDouble(),e},t.Recv_W2C_VIP_INFO=function(t){var e=r.default.create_W2C_VIP_INFO();return e.vip_lv=t.readShort(),e.vip_val=t.readInt(),e},t.Recv_W2C_FREE_TIME_UPDATE=function(t){var e=r.default.create_W2C_FREE_TIME_UPDATE();return e.freeTransfer=t.readShort(),e.freeCleanSkill=t.readShort(),e},t.Recv_W2C_SWEEP_MOMO_LIST=function(t){var e=r.default.create_W2C_SWEEP_MOMO_LIST();e.amount=t.readByte();for(var n=t.readShort(),o=0;o<n;++o)e.tokenIds.push(t.readInt());return e},t.Recv_W2C_SWEEP_MINING_INFO=function(t){var e=r.default.create_W2C_SWEEP_MINING_INFO();return e.showEndTm=t.readInt(),e.roundEndTm=t.readInt(),e.minerCnt=t.readInt(),e.totalReward=t.readInt(),e.myWeight=t.readInt(),e.totalWeight=t.readInt(),e.myLastReward=t.readDouble(),e.myExpectReward=t.readDouble(),e.seasonTotalReward=t.readDouble(),e.myTotalReward=t.readDouble(),e.inShowTime=t.readByte(),e},t.Recv_W2C_SWEEP_MOMO_CHANGE=function(t){var e=r.default.create_W2C_SWEEP_MOMO_CHANGE();return e.unknown=t.readShort(),e},t}();n.default=o,cc._RF.pop()},{"./ProtocolInfo":"ProtocolInfo"}],NativeMgr:[function(t,e,n){"use strict";cc._RF.push(e,"b96f7XfQ5ZMoKrh8qXKOknv","NativeMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.NativeMethod=void 0;var r,o=t("../UIFrame/UIManager");t("LanguageData"),function(t){t[t.getServeOpt=0]="getServeOpt",t[t.getNativeLang=1]="getNativeLang",t[t.jumpAPP=2]="jumpAPP",t[t.getVersion=3]="getVersion",t[t.updateApk=4]="updateApk"}(r=n.NativeMethod||(n.NativeMethod={}));var i=function(){function t(){}return Object.defineProperty(t,"inst",{get:function(){return null===this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.getNativeLang=function(){var e="en";return cc.sys.isNative&&(e=t.commonMethod(r.getNativeLang)),e},t.getServeOpt=function(){var e="";return cc.sys.isNative&&(e=t.commonMethod(r.getServeOpt)),e},t.commonMethod=function(t,e){void 0===e&&(e={});var n,i=r[t],a=JSON.stringify(e);return"no activity"==(n=cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController",i+":",a):jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity",i,"(Ljava/lang/String;)Ljava/lang/String;",a))&&o.default.showToast("\u8df3\u8f6capp\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u60a8\u5df2\u7ecf\u5b89\u88c5\u4e86moboxApp"),n},t.nativeCall=function(t){console.log("nativeCall5555555555555555555555555data="),console.log(t);var e=JSON.parse(t),n=e.method,r=e.data;console.log("method="+n+" cData="+r)},t.instance=null,t}();n.default=i,cc.NativeMgr=i,cc._RF.pop()},{"../UIFrame/UIManager":"UIManager",LanguageData:"LanguageData"}],NetInterface:[function(t,e,n){"use strict";cc._RF.push(e,"8f1ecIEMhdDFqz2NkrYbjoP","NetInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],PacketID:[function(t,e,n){"use strict";cc._RF.push(e,"58ae70+tCdOHIWzyspVvLoH","PacketID"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.C2W_BEGIN=1e3,t.C2W_ACCOUNT_LOGIN=1001,t.C2W_HEART_BEAT=1002,t.C2W_REFRESH_MBOX=1003,t.C2W_GMCMD=1004,t.C2W_NAME_SET=1005,t.C2W_HEAD_SET=1006,t.C2W_LOGOUT=1007,t.C2W_CREATE_CAREER=1008,t.C2W_NEED_CAREER_BEGIN=1100,t.C2W_BATTLE_LOG=1101,t.C2W_TEST_BATTLE=1102,t.C2W_MAIL_DELETE=1401,t.C2W_MAIL_READ=1402,t.C2W_MAIL_GET_ATTACHMENTS=1403,t.C2W_MAIL_GET_ALL_ATTACHMENTS=1404,t.C2W_MAIL_GET_ALL=1405,t.C2W_MAIL_GET_NEW=1406,t.C2W_MAIL_DELETE_ALL_READED=1407,t.C2W_CLAIM_IDLE_REWARD=1501,t.C2W_SPEED_MINE=1502,t.C2W_SET_MINE_RATIO=1503,t.C2W_MINE_INFO=1504,t.C2W_SWEEP_QUICK_DISPATCH=1510,t.C2W_SWEEP_DISPATCH=1511,t.C2W_SWEEP_MOMO_LIST=1512,t.C2W_SWEEP_MINING_INFO=1513,t.C2W_EQUIP_TAKE_ON=1602,t.C2W_EQUIP_TAKE_OFF=1603,t.C2W_EQUIP_SMELT=1604,t.C2W_EQUIP_FORGE=1605,t.C2W_EQUIP_REFINE=1606,t.C2W_LOCK_OR_UNLOCK_EQUIP=1607,t.C2W_EQUIP_AUCTION_LIST=1611,t.C2W_MY_EQUIP_AUCTION_LIST=1612,t.C2W_CREATE_EQUIP_AUCTION=1613,t.C2W_CANCEL_EQUIP_AUCTION=1614,t.C2W_BUY_EQUIP_AUCTION=1615,t.C2W_CLAIM_EXPIRED_EQUIP=1616,t.C2W_EQUIP_AUCTION_LOGS=1617,t.C2W_CLAIM_AUCTION_RES=1618,t.C2W_EQUIP_AUCTION_UNCLAIMED_LIST=1619,t.C2W_CLAIM_TASK_REWARD=1700,t.C2W_TASK_LIST=1701,t.C2W_LEADERBOARD=1702,t.C2W_SKILL_UPGRADE=1703,t.C2W_SKILL_USE=1704,t.C2W_SKILL_UNUSE=1705,t.C2W_SKILL_CLEAN=1706,t.C2W_DUNGEON_CHALLENGE=1707,t.C2W_HERO_UPGRADE=1708,t.C2W_PLAY_LOTTERY=1709,t.C2W_LOTTERY_LOGS=1710,t.C2W_TRANSFER_CAREER=1711,t.C2W_ADD_EQUIP_BAG_LIMIT=1713,t.C2W_CLAIM_DAILY_RANK_REWARD=1714,t.C2W_DAILY_RANK_REWARD=1715,t.C2W_SKILL_REPLACE=1716,t.C2W_SWAP_SKILL_POS=1717,t.C2W_SET_SKILL_STRATEGY=1718,t.C2W_APPLY_SKILL_STRATEGY=1719,t.C2W_LEADERBOARD_HISTORIES=1720,t.C2W_SET_SKILLS_USING_DEF=1721,t.C2W_INTENSIFY=1730,t.C2W_INTENSIFY_INFO=1731,t.C2W_SEARCH_ENEMY_LIST=1750,t.C2W_ENEMY_BATTLE=1751,t.C2W_BUY_ROB_TIMES=1752,t.C2W_ROB_BATTLE_LOGS=1753,t.C2W_ROB_REVENGE=1754,t.C2W_VIP_INFO=1755,t.C2W_NEED_CAREER_END=1899,t.C2W_INTERNAL_FLAG=1900,t.C2W_ACCOUNT_LOGOUT_INTERNAL=1901,t.C2W_HOTUPDATE_INTERNAL=1902,t.C2W_END=1999,t.W2C_BEGIN=4e3,t.W2C_ACCOUNT_LOGIN_RESP=4001,t.W2C_ACCOUNT_INFO=4002,t.W2C_SERVER_ERROR=4003,t.W2C_GOLD_UPDATE=4004,t.W2C_LEVEL_UPDATE=4005,t.W2C_HEART_BEAT=4006,t.W2C_DAYRESET_INFO=4007,t.W2C_HASHRATE_UPDATE=4008,t.W2C_SKRECIPE_UPDATE_INFO=4009,t.W2C_MBOX_UPDATE_INFO=4010,t.W2C_REFRESH_MBOX_RET=4011,t.W2C_HEAD_UPDATE_INFO=4012,t.W2C_NAME_UPDATE_INFO=4013,t.W2C_LOGOUT_RET=4014,t.W2C_HERO_ATTR=4016,t.W2C_SMELT_UPDATE_INFO=4017,t.W2C_DWG_UPDATE_INFO=4018,t.W2C_PRICE_LIST=4019,t.W2C_CLAIM_TASK_REWARD_RET=4020,t.W2C_TASK_LIST=4021,t.W2C_VIP_INFO=4022,t.W2C_SYS_BATTLEFIELD_OPEN=4058,t.W2C_SYS_SEASON_CHANCE=4059,t.W2C_BATTLE_HEAD=4101,t.W2C_BATTLE_PROCESS=4102,t.W2C_BATTLE_TAIL=4103,t.W2C_ENEMY_LIST_RET=4110,t.W2C_ROB_REVENGE_RET=4111,t.W2C_SKILL_LIST=4201,t.W2C_USING_SKILL_LIST=4202,t.W2C_SKILL_UPDATE=4203,t.W2C_SKILL_CLEAN_RET=4204,t.W2C_BATTLEFIELD_UPDATE=4205,t.W2C_ROB_INFO=4206,t.W2C_DUNGEON_CHALLENGE_RET=4207,t.W2C_ROB_RET=4208,t.W2C_ROB_BATTLE_LOGS=4209,t.W2C_TROPHY_UPDATE=4210,t.W2C_TRANSFER_CAREER_RET=4211,t.W2C_SKILL_STRATEGY=4212,t.W2C_FREE_TIME_UPDATE=4213,t.W2C_INTENSIFY_INFO=4214,t.W2C_USING_SKILL_LIST_DEF=4215,t.W2C_MAIL_SYSTEM_LIST=4601,t.W2C_MAIL_OP_RESULT=4602,t.W2C_MAIL_NEWMAIL=4603,t.W2C_MAIL_ONECLICK_ATTACHMENTS=4604,t.W2C_LEADERBOARD=4650,t.W2C_PLAY_LOTTERY_RET=4651,t.W2C_LOTTERY_LOGS=4652,t.W2C_DAILY_RANK_REWARD=4653,t.W2C_CLAIM_DAILY_RANK_REWARD_RET=4654,t.W2C_SEASON_RESET_INFO=4655,t.W2C_BATTLEFIELD_ELIGIBLE=4656,t.W2C_LEADERBOARD_HISTORIES=4657,t.W2C_EQUIP_BAG_INFO=4700,t.W2C_EQUIP_WEAR_INFO=4701,t.W2C_EQUIP_BAG_UPDATE=4702,t.W2C_EQUIP_SMELT_RET=4703,t.W2C_EQUIP_FORGE_RET=4704,t.W2C_EQUIP_BAG_LIMIT_UPDATE=4705,t.W2C_EQUIP_REFINE_RET=4706,t.W2C_LOCK_OR_UNLOCK_EQUIP_RET=4707,t.W2C_EQUIP_AUCTION_LIST=4711,t.W2C_EQUIP_AUCTION_ADD=4712,t.W2C_EQUIP_AUCTION_DEL=4713,t.W2C_MY_EQUIP_AUCTION_LIST=4714,t.W2C_EQUIP_AUCTION_LOGS=4715,t.W2C_CREATE_EQUIP_AUCTION_RET=4716,t.W2C_CANCEL_EQUIP_AUCTION_RET=4717,t.W2C_CLAIM_AUCTION_RES_RET=4718,t.W2C_EQUIP_AUCTION_LOGS_ADD=4719,t.W2C_CLAIM_EXPIRED_EQUIP_RET=4720,t.W2C_EQUIP_AUCTION_UNCLAIMED_LIST=4721,t.W2C_MOMO_LIST=4800,t.W2C_EFFECTIVE_GEMS=4801,t.W2C_MINE_INFO=4803,t.W2C_CLAIM_IDEL_REWARD_RET=4804,t.W2C_SWEEP_MOMO_LIST=4810,t.W2C_SWEEP_MINING_INFO=4811,t.W2C_SWEEP_MOMO_CHANGE=4812,t.W2C_INTERNAL_FLAG=5900,t.W2C_MSG_BROADCAST_PACK_INTERNAL=5901,t.W2C_ACCOUNT_LOGIN_COMPLETE_INTERNAL=5902,t.W2C_ACCOUNT_DISCONNECT_INTERNAL=5903,t.W2C_END=5999,t.INFO_HTTP_PARAM=10001,t.INFO_MAIL_ATTACHMENTS=10002,t.INFO_MAIL_SYSTEM=10003,t.INFO_MAIL_OP_RESULT=10004,t.INFO_PRICE=10005,t.INFO_HERO_SKILL=10006,t.INFO_ENTITY=10007,t.INFO_PROCESS=10008,t.INFO_ATTR=10009,t.INFO_EQUIP_BAG=10010,t.INFO_MOMO_BASE=10011,t.INFO_EQUIP_WEAR=10012,t.INFO_TASK=10013,t.INFO_RANK=10014,t.INFO_SKILL=10015,t.INFO_LOTTERY=10016,t.INFO_ENEMY=10017,t.INFO_DAILY_RANK=10018,t.INFO_BATTLE_LOG=10019,t.INFO_EQUIP_ATTR_REFINE=10020,t.INFO_SKILL_STRATEGY=10021,t.INFO_EQUIP_AUCTION=10022,t.INFO_EQUIP_AUCTION_LOG=10023,t.INFO_AUCTION_EQUIP=10024,t}();n.default=r,cc._RF.pop()},{}],Pool:[function(t,e,n){"use strict";cc._RF.push(e,"284d8zxqTdJtYjT+CGS5XDE","Pool"),Object.defineProperty(n,"__esModule",{value:!0}),n.Pool=void 0;var r=function(){function t(t,e){this._fn=t,this._idx=e-1,this._frees=new Array(e);for(var n=0;n<e;n++)this._frees[n]=t()}return Object.defineProperty(t.prototype,"freeCount",{get:function(){return this._frees.length},enumerable:!1,configurable:!0}),t.prototype.alloc=function(){this._idx<0&&this._expand(Math.round(1.2*this._frees.length)+1);var t=this._frees[this._idx];return this._frees.splice(this._idx),--this._idx,t.use&&t.use(),t},t.prototype.free=function(t){++this._idx,t.free&&t.free(),this._frees[this._idx]=t},t.prototype.clear=function(t){for(var e=0;e<this._idx;e++)t&&t(this._frees[e]);this._frees.splice(0),this._idx=-1},t.prototype._expand=function(t){var e=this._frees;this._frees=new Array(t);for(var n=t-e.length,r=0;r<n;r++)this._frees[r]=this._fn();r=n;for(var o=0;r<t;++r,++o)this._frees[r]=e[o];this._idx+=n},t}();n.Pool=r,cc._RF.pop()},{}],PriorityQueue:[function(t,e,n){"use strict";cc._RF.push(e,"f2318nn5GJChLoRevUhhLkg","PriorityQueue"),Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityElement=void 0;var r=function(t,e){this.data=t,this.pIdx=e};n.PriorityElement=r;var o=function(){function t(){this.queue=new Array(32),this.size=0}return t.prototype.hasElement=function(t){for(var e=0,n=this.queue;e<n.length;e++)if(n[e].data===t)return!0;return!1},t.prototype.enqueue=function(t,e){void 0===e&&(e=0),this.size>this.queue.length&&this._expand(),this.queue[this.size++]=new r(t,e),this.upAdjust()},t.prototype.dequeue=function(){if(this.size<=0)return null;var t=this.queue[0];return this.queue[0]=this.queue[--this.size],this.downAdjust(),t.data},t.prototype.upAdjust=function(){for(var t=this.size-1,e=Math.floor(t/2),n=this.queue[t];t>0&&n.pIdx>this.queue[e].pIdx;)this.queue[t]=this.queue[e],t=e,e=Math.floor(e/2);this.queue[t]=n},t.prototype.downAdjust=function(){for(var t=0,e=this.queue[t],n=1;n<this.size&&(n+1<this.size&&this.queue[n+1].pIdx>this.queue[n].pIdx&&n++,!(e.pIdx>=this.queue[n].pIdx));)this.queue[t]=this.queue[n],t=n,n=2*n+1;this.queue[t]=e},t.prototype._expand=function(){var t=Math.round(1.2*this.queue.length)+1,e=this.queue;this.queue=new Array(t);for(var n=0;n<e.length;n++)this.queue[n]=e[n]},t.prototype.toString=function(){for(var t="",e=0;e<this.size;e++){var n=this.queue[e].data;n.toString?t+=n.toString():t+="object"==typeof n?JSON.stringify(n):n}return t},t}();n.default=o,cc._RF.pop()},{}],ProtocolInfo:[function(t,e,n){"use strict";cc._RF.push(e,"2dbb0TBwl1L0qiyWg7CjyN5","ProtocolInfo"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.create_INFO_HERO_SKILL=function(){return{skillId:0,skillLv:0}},t.create_INFO_ENTITY=function(){return{pos:0,heroId:0,lv:0,hp:0,maxhp:0,skills:[]}},t.create_W2C_BATTLE_HEAD=function(){return{logId:0,btype:0,dungeonId:0,atkName:"",atkLv:0,atkScore:0,defName:"",defLv:0,defScore:0,atk:[],def:[]}},t.create_INFO_PROCESS=function(){return{actId:0,ms:0,acttype:0,pos:0,srcPos:0,param1:0,param2:0,param3:0}},t.create_W2C_BATTLE_PROCESS=function(){return{actions:[]}},t.create_W2C_BATTLE_TAIL=function(){return{logId:0,bRet:0}},t.create_C2W_BATTLE_LOG=function(){return{logId:0}},t.create_C2W_TEST_BATTLE=function(){return{param:0}},t.create_INFO_AUCTION_EQUIP=function(){return{protoId:0,rdmAttr:[]}},t.create_INFO_EQUIP_AUCTION=function(){return{id:0,auctor:0,price:0,currency:0,status:0,crtime:0,etime:0,equip:{}}},t.create_INFO_EQUIP_AUCTION_LOG=function(){return{logId:0,season_no:0,equipId:0,auctor:0,bidder:0,price:0,currency:0,dealtime:0,equip:{}}},t.create_C2W_EQUIP_AUCTION_LIST=function(){return{unknown:0}},t.create_W2C_EQUIP_AUCTION_LIST=function(){return{isHead:0,category:0,auctions:[]}},t.create_W2C_EQUIP_AUCTION_ADD=function(){return{category:0,auction:{}}},t.create_W2C_EQUIP_AUCTION_DEL=function(){return{equipIds:[]}},t.create_C2W_MY_EQUIP_AUCTION_LIST=function(){return{unknown:0}},t.create_W2C_MY_EQUIP_AUCTION_LIST=function(){return{auctions:[]}},t.create_C2W_CREATE_EQUIP_AUCTION=function(){return{equipId:0,price:0,currency:0}},t.create_W2C_CREATE_EQUIP_AUCTION_RET=function(){return{equipId:0}},t.create_C2W_CANCEL_EQUIP_AUCTION=function(){return{equipId:0}},t.create_W2C_CANCEL_EQUIP_AUCTION_RET=function(){return{equipId:0}},t.create_C2W_BUY_EQUIP_AUCTION=function(){return{equipId:0,cmbox:0}},t.create_C2W_CLAIM_EXPIRED_EQUIP=function(){return{equipId:0}},t.create_W2C_CLAIM_EXPIRED_EQUIP_RET=function(){return{equipId:0}},t.create_C2W_EQUIP_AUCTION_LOGS=function(){return{unknown:0}},t.create_W2C_EQUIP_AUCTION_LOGS=function(){return{logs:[]}},t.create_W2C_EQUIP_AUCTION_LOGS_ADD=function(){return{log:{}}},t.create_C2W_EQUIP_AUCTION_UNCLAIMED_LIST=function(){return{unknown:0}},t.create_W2C_EQUIP_AUCTION_UNCLAIMED_LIST=function(){return{logs:[]}},t.create_C2W_CLAIM_AUCTION_RES=function(){return{logId:0}},t.create_W2C_CLAIM_AUCTION_RES_RET=function(){return{logId:0,succeed:0}},t.create_INFO_EQUIP_ATTR_REFINE=function(){return{idx:0,oldVal:0,newVal:0}},t.create_W2C_EQUIP_WEAR_INFO=function(){return{equips:[]}},t.create_W2C_EQUIP_BAG_INFO=function(){return{total:0,limit:0,equips:[]}},t.create_C2W_EQUIP_TAKE_ON=function(){return{equipIds:[]}},t.create_C2W_EQUIP_TAKE_OFF=function(){return{pos:0}},t.create_W2C_EQUIP_BAG_UPDATE=function(){return{equips:[],delEquips:[]}},t.create_C2W_EQUIP_SMELT=function(){return{equipIds:[]}},t.create_W2C_EQUIP_SMELT_RET=function(){return{smelt:0,equipIds:[]}},t.create_C2W_EQUIP_FORGE=function(){return{type:0,pos:0,lv:0,amount:0,cmbox:0}},t.create_W2C_EQUIP_FORGE_RET=function(){return{equipIds:[]}},t.create_C2W_ADD_EQUIP_BAG_LIMIT=function(){return{cmbox:0}},t.create_W2C_EQUIP_BAG_LIMIT_UPDATE=function(){return{limit:0}},t.create_C2W_EQUIP_REFINE=function(){return{equipId:0,type:0,cmbox:0}},t.create_W2C_EQUIP_REFINE_RET=function(){return{equipId:0,changeAttr:[]}},t.create_C2W_LOCK_OR_UNLOCK_EQUIP=function(){return{equipId:0,lock:0}},t.create_W2C_LOCK_OR_UNLOCK_EQUIP_RET=function(){return{equipId:0,lock:0}},t.create_C2W_GMCMD=function(){return{cmd:""}},t.create_INFO_ATTR=function(){return{attrId:0,value:0}},t.create_INFO_EQUIP_BAG=function(){return{id:0,protoId:0,lock:0,rdmAttr:[],bind:0}},t.create_INFO_EQUIP_WEAR=function(){return{id:0,protoId:0,lock:0,pos:0,rdmAttr:[],bind:0}},t.create_INFO_SKILL=function(){return{skillId:0,skillLv:0}},t.create_INFO_SKILL_STRATEGY=function(){return{idx:0,skills:[]}},t.create_INFO_ENEMY=function(){return{accId:0,name:"",head:"",lv:0,career:0,trophy:0,btScore:0,rank:0}},t.create_INFO_TASK=function(){return{task_id:0,done:0,need:0,state:0}},t.create_INFO_BATTLE_LOG=function(){return{season_no:0,logId:0,battlefield:0,ts:0,atkAccId:0,atkName:"",atkHead:"",atkLv:0,atkOldTrophy:0,atkNewTrophy:0,defAccId:0,defName:"",defHead:"",defLv:0,defOldTrophy:0,defNewTrophy:0,revenge:0}},t.create_C2W_CREATE_CAREER=function(){return{career:0}},t.create_C2W_HERO_UPGRADE=function(){return{lv:0}},t.create_W2C_HERO_ATTR=function(){return{career:0,attr:[],gemAttrAppend:[],btScore:0,lv:0,nextDungeonId:0,battlefield:0,dailyRoundIndex:0,trophy:0,freeTransfer:0,freeCleanSkill:0,intensifyAttrAppend:[]}},t.create_C2W_CLAIM_TASK_REWARD=function(){return{task_id:0}},t.create_W2C_TASK_LIST=function(){return{taskes:[],countdown:0}},t.create_W2C_CLAIM_TASK_REWARD_RET=function(){return{task_id:0,op:0}},t.create_C2W_TASK_LIST=function(){return{unknown:0}},t.create_C2W_SKILL_UPGRADE=function(){return{skillId:0,skillLv:0}},t.create_C2W_SKILL_USE=function(){return{skillId:0}},t.create_C2W_SKILL_UNUSE=function(){return{idx:0}},t.create_C2W_SKILL_REPLACE=function(){return{idx:0,skillId:0}},t.create_W2C_SKILL_UPDATE=function(){return{skillId:0,skillLv:0}},t.create_W2C_SKILL_LIST=function(){return{skills:[]}},t.create_W2C_USING_SKILL_LIST=function(){return{skills:[]}},t.create_W2C_USING_SKILL_LIST_DEF=function(){return{skills:[]}},t.create_C2W_SKILL_CLEAN=function(){return{cmbox:0}},t.create_W2C_SKILL_CLEAN_RET=function(){return{unknown:0}},t.create_C2W_DUNGEON_CHALLENGE=function(){return{id:0}},t.create_W2C_DUNGEON_CHALLENGE_RET=function(){return{nextDungeonId:0,equips:[]}},t.create_C2W_TRANSFER_CAREER=function(){return{career:0,cmbox:0}},t.create_W2C_TRANSFER_CAREER_RET=function(){return{unknown:0}},t.create_C2W_SEARCH_ENEMY_LIST=function(){return{unknown:0}},t.create_C2W_ENEMY_BATTLE=function(){return{enemyAccId:0}},t.create_W2C_ENEMY_LIST_RET=function(){return{enemys:[],tick:0}},t.create_W2C_BATTLEFIELD_UPDATE=function(){return{old_battlefield:0,new_battlefield:0}},t.create_W2C_ROB_INFO=function(){return{max_times:0,cur_times:0,checkpoint:0}},t.create_C2W_BUY_ROB_TIMES=function(){return{cmbox:0}},t.create_W2C_ROB_RET=function(){return{atkOldTrophy:0,atkNewTrophy:0,defOldTrophy:0,defNewTrophy:0}},t.create_C2W_ROB_BATTLE_LOGS=function(){return{unknown:0}},t.create_W2C_ROB_BATTLE_LOGS=function(){return{logs:[]}},t.create_C2W_ROB_REVENGE=function(){return{logId:0}},t.create_W2C_ROB_REVENGE_RET=function(){return{logId:0}},t.create_W2C_TROPHY_UPDATE=function(){return{trophy:0}},t.create_W2C_BATTLEFIELD_ELIGIBLE=function(){return{battlefield:0,amount:0}},t.create_C2W_SWAP_SKILL_POS=function(){return{xIdx:0,yIdx:0}},t.create_C2W_SET_SKILL_STRATEGY=function(){return{idx:0,skills:[]}},t.create_C2W_APPLY_SKILL_STRATEGY=function(){return{idx:0}},t.create_W2C_SKILL_STRATEGY=function(){return{strategys:[],strategyAmt:0,strategyUsingIdx:0}},t.create_C2W_INTENSIFY=function(){return{pos:0,cmbox:0}},t.create_C2W_INTENSIFY_INFO=function(){return{unknown:0}},t.create_W2C_INTENSIFY_INFO=function(){return{intensifies:[]}},t.create_C2W_SET_SKILLS_USING_DEF=function(){return{skills:[]}},t.create_INFO_HTTP_PARAM=function(){return{key:"",val:""}},t.create_H2W_HTTP_GET_REQUEST=function(){return{reqId:0,params:[]}},t.create_W2H_HTTP_GET_RESPONSE=function(){return{reqId:0,code:0,ret:""}},t.create_H2W_HTTP_POST_RESPONSE=function(){return{reqId:0,code:0,content:""}},t.create_W2H_HTTP_POST_REQUEST=function(){return{reqId:0,url:"",data:""}},t.create_INFO_RANK=function(){return{rank:0,accId:0,head:"",lv:0,name:"",value:0,award:0,award1:0}},t.create_C2W_LEADERBOARD=function(){return{kind:0}},t.create_W2C_LEADERBOARD=function(){return{kind:0,season:0,countdown:0,leaderboard:[],myself:{}}},t.create_C2W_DAILY_RANK_REWARD=function(){return{unknown:0}},t.create_W2C_DAILY_RANK_REWARD=function(){return{round:0,kind:0,rank:0,status:0,deadline:0}},t.create_C2W_CLAIM_DAILY_RANK_REWARD=function(){return{unknown:0}},t.create_W2C_CLAIM_DAILY_RANK_REWARD_RET=function(){return{unknown:0}},t.create_C2W_LEADERBOARD_HISTORIES=function(){return{kind:0,page:0,size:0}},t.create_W2C_LEADERBOARD_HISTORIES=function(){return{kind:0,page:0,size:0,season:0,total:0,leaderboard:[],myself:{}}},t.create_INFO_LOTTERY=function(){return{idx:0,luckyNum:0,resId:0,amount:0}},t.create_C2W_PLAY_LOTTERY=function(){return{num:0}},t.create_W2C_PLAY_LOTTERY_RET=function(){return{rets:[]}},t.create_C2W_LOTTERY_LOGS=function(){return{unknown:0}},t.create_W2C_LOTTERY_LOGS=function(){return{logs:[],tickets:0,tickets_used:0}},t.create_INFO_MAIL_ATTACHMENTS=function(){return{attachId:0,attachCnt:0}},t.create_INFO_MAIL_SYSTEM=function(){return{mailId:0,title:"",content:"",time:0,isMultiLan:0,param:"",status:0,attachments:[]}},t.create_INFO_MAIL_OP_RESULT=function(){return{mailId:0,code:0}},t.create_C2W_MAIL_DELETE=function(){return{mailId:0}},t.create_C2W_MAIL_DELETE_ALL_READED=function(){return{mailId:0}},t.create_C2W_MAIL_READ=function(){return{mailId:0}},t.create_C2W_MAIL_GET_ATTACHMENTS=function(){return{mailId:0}},t.create_C2W_MAIL_GET_NEW=function(){return{mailId:0,lang:""}},t.create_C2W_MAIL_GET_ALL=function(){return{lang:""}},t.create_C2W_MAIL_GET_ALL_ATTACHMENTS=function(){return{mailId:0}},t.create_W2C_MAIL_SYSTEM_LIST=function(){return{isNew:0,mailList:[]}},t.create_W2C_MAIL_OP_RESULT=function(){return{rets:[]}},t.create_W2C_MAIL_NEWMAIL=function(){return{nType:0,mailId:0}},t.create_W2C_MAIL_ONECLICK_ATTACHMENTS=function(){return{attachments:[]}},t.create_INFO_MOMO_BASE=function(){return{tokenId:0,protoId:0,name:"",lv:0,lvHash:0,amount:0,quality:0,category:0,specialty:0,rentTime:0,gems:[],hash:0}},t.create_C2W_SET_MINE_RATIO=function(){return{goldHash:0,skRecipeHash:0,equipHash:0}},t.create_C2W_MINE_INFO=function(){return{unknown:0}},t.create_W2C_MINE_INFO=function(){return{goldTmp:0,skRecipeTmp:0,goldHash:0,skRecipeHash:0,equipHash:0,lastTime:0,hashrate:0}},t.create_W2C_CLAIM_IDEL_REWARD_RET=function(){return{gold:0,skRecipe:0,equipAmt:0}},t.create_C2W_CLAIM_IDLE_REWARD=function(){return{unknown:0}},t.create_C2W_SPEED_MINE=function(){return{cmbox:0,payment_id:0,times:0}},t.create_W2C_MOMO_LIST=function(){return{isHead:0,momos:[]}},t.create_W2C_EFFECTIVE_GEMS=function(){return{gems:[]}},t.create_INFO_PRICE=function(){return{payment_id:0,times:0}},t.create_W2C_SERVER_ERROR=function(){return{errcode:0,etype:0}},t.create_C2W_ACCOUNT_LOGIN=function(){return{jwt:"",flag:0,address:""}},t.create_W2C_ACCOUNT_LOGIN_RESP=function(){return{loginStep:0,loginRet:0,address:""}},t.create_W2C_ACCOUNT_INFO=function(){return{utime:0,accId:0,name:"",tmCreate:0,head:"",lv:0,career:0,gold:0,skRecipe:0,mbox:0,hashrate:0,smelt:0,dwg:[],battlefield:0}},t.create_W2C_DAYRESET_INFO=function(){return{countdown:0}},t.create_C2W_REFRESH_MBOX=function(){return{unknown:0}},t.create_W2C_REFRESH_MBOX_RET=function(){return{ret:[]}},t.create_W2C_GOLD_UPDATE=function(){return{balance:0,val:0,op:0}},t.create_W2C_HASHRATE_UPDATE=function(){return{hashrate:0,bonus_fixed:0,bonus_percent:0}},t.create_W2C_LEVEL_UPDATE=function(){return{oldLv:0,newLv:0}},t.create_W2C_SKRECIPE_UPDATE_INFO=function(){return{balance:0,val:0,op:0}},t.create_W2C_MBOX_UPDATE_INFO=function(){return{balance:0,val:0,op:0}},t.create_C2W_HEART_BEAT=function(){return{hearts:0}},t.create_W2C_HEART_BEAT=function(){return{hearts:0}},t.create_C2W_NAME_SET=function(){return{name:""}},t.create_W2C_NAME_UPDATE_INFO=function(){return{name:""}},t.create_C2W_HEAD_SET=function(){return{head:""}},t.create_W2C_HEAD_UPDATE_INFO=function(){return{head:""}},t.create_C2W_LOGOUT=function(){return{unknown:0}},t.create_W2C_LOGOUT_RET=function(){return{ret:0}},t.create_W2C_SMELT_UPDATE_INFO=function(){return{balance:0,val:0,op:0}},t.create_W2C_DWG_UPDATE_INFO=function(){return{balance:0,pos:0,val:0,op:0}},t.create_W2C_PRICE_LIST=function(){return{menu:[],mbox_usdt:0}},t.create_W2C_SYS_SEASON_CHANCE=function(){return{curSeason:0,lastSeason:0}},t.create_W2C_SYS_BATTLEFIELD_OPEN=function(){return{battlefield:0}},t.create_W2C_SEASON_RESET_INFO=function(){return{season_no_old:0,season_no_new:0,epic_rank:0,epic_mbox:0,epic_mec:0,royal_rank:0,royal_mbox:0,royal_mec:0,legendary_rank:0,legendary_mbox:0,legendary_mec:0,dungeon_epic_rank:0,dungeon_epic_mbox:0,dungeon_epic_mec:0,dungeon_royal_rank:0,dungeon_royal_mbox:0,dungeon_royal_mec:0,dungeon_legendary_rank:0,dungeon_legendary_mbox:0,dungeon_legendary_mec:0}},t.create_C2W_VIP_INFO=function(){return{unknown:0}},t.create_W2C_VIP_INFO=function(){return{vip_lv:0,vip_val:0}},t.create_W2C_FREE_TIME_UPDATE=function(){return{freeTransfer:0,freeCleanSkill:0}},t.create_C2W_SWEEP_QUICK_DISPATCH=function(){return{unknown:0}},t.create_C2W_SWEEP_DISPATCH=function(){return{idx:0,tokenId:0}},t.create_C2W_SWEEP_MOMO_LIST=function(){return{unknown:0}},t.create_C2W_SWEEP_MINING_INFO=function(){return{unknown:0}},t.create_W2C_SWEEP_MOMO_LIST=function(){return{amount:0,tokenIds:[]}},t.create_W2C_SWEEP_MINING_INFO=function(){return{showEndTm:0,roundEndTm:0,minerCnt:0,totalReward:0,myWeight:0,totalWeight:0,myLastReward:0,myExpectReward:0,seasonTotalReward:0,myTotalReward:0,inShowTime:0}},t.create_W2C_SWEEP_MOMO_CHANGE=function(){return{unknown:0}},t}();n.default=r,cc._RF.pop()},{}],Queue:[function(t,e,n){"use strict";cc._RF.push(e,"146d9Q6AJVLm5Z5V9zs9sHL","Queue"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.count=0,this.lowestCount=0,this.items={}}return t.prototype.enqueue=function(t){this.items[this.count]=t,this.count++},t.prototype.dequeue=function(){if(!this.isEmpty()){var t=this.items[this.lowestCount];return delete this.items[this.lowestCount],this.lowestCount++,t}},t.prototype.peek=function(){if(!this.isEmpty())return this.items[this.lowestCount]},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.clear=function(){this.items={},this.count=0,this.lowestCount=0},t.prototype.size=function(){return this.count-this.lowestCount},t.prototype.toString=function(){if(this.isEmpty())return"";for(var t=""+this.items[this.lowestCount],e=this.lowestCount+1;e<this.count;e++)t=t+","+this.items[e];return t},t}();n.default=r,cc._RF.pop()},{}],ResHelper:[function(t,e,n){"use strict";cc._RF.push(e,"3c20d4+pMpC7oZMT/SwOeHC","ResHelper");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../ResMgr"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabs=[],e.textures=[],e.audioClips=[],e.animClips=[],e}return o(e,t),e.prototype.onLoad=function(){for(var t=0,e=this.prefabs;t<e.length;t++){var n=e[t];a.default.inst.addStub(n,cc.Prefab)}for(var r=0,o=this.textures;r<o.length;r++){var i=o[r];a.default.inst.addStub(i,cc.Texture2D)}for(var s=0,c=this.audioClips;s<c.length;s++){var u=c[s];a.default.inst.addStub(u,cc.AudioClip)}for(var l=0,h=this.animClips;l<h.length;l++){var d=h[l];a.default.inst.addStub(d,cc.AnimationClip)}},i([u([cc.Prefab])],e.prototype,"prefabs",void 0),i([u({type:[cc.Texture2D]})],e.prototype,"textures",void 0),i([u({type:[cc.AudioClip]})],e.prototype,"audioClips",void 0),i([u([cc.AnimationClip])],e.prototype,"animClips",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../ResMgr":"ResMgr"}],ResMgr:[function(t,e,n){"use strict";cc._RF.push(e,"a1946LwxMZELpC3XyersJGl","ResMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./CocosHelper"),a=t("./EventCenter"),s=function(){function t(){this.staticDepends=cc.js.createMap(),this.dynamicDepends=cc.js.createMap(),this.tmpStaticDepends=[],this._stubRes={}}return Object.defineProperty(t,"inst",{get:function(){return null===this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.addStub=function(t,e){var n=this._stubRes[e.name];n||(n=this._stubRes[e.name]={}),n[t.name]=t},t.prototype.getStubRes=function(t,e){var n=this._stubRes[e.name];return n?n[t]:null},t.prototype._addTmpStaticDepends=function(t,e,n){this.tmpStaticDepends[this.tmpStaticDepends.length]=n.url,this.staticDepends[n.url]?this.staticDepends[n.url]++:this.staticDepends[n.url]=1},t.prototype._clearTmpStaticDepends=function(){for(var t=0,e=this.tmpStaticDepends;t<e.length;t++){var n=e[t];this.staticDepends[n]&&0!==this.staticDepends[n]&&(this.staticDepends[n]--,0===this.staticDepends[n]&&delete this.staticDepends[n])}this.tmpStaticDepends=[]},t.prototype.loadForm=function(t){return r(this,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:return[4,i.default.loadResSync(t,cc.Prefab,this._addTmpStaticDepends.bind(this))];case 1:return e=r.sent(),this._clearTmpStaticDepends(),n=cc.loader.getDependsRecursively(t),this.addStaticDepends(n),[2,e]}})})},t.prototype.destoryForm=function(t){if(t){a.EventCenter.targetOff(t);var e=cc.loader.getDependsRecursively(t.uid);this.removeStaticDepends(e),t.node.destroy()}else cc.log("\u53ea\u652f\u6301\u9500\u6bc1\u7ee7\u627f\u4e86UIBase\u7684\u7a97\u4f53!")},t.prototype.addStaticDepends=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];this.staticDepends[r]?this.staticDepends[r]+=1:this.staticDepends[r]=1}},t.prototype.removeStaticDepends=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];this.staticDepends[r]&&0!==this.staticDepends[r]&&(this.staticDepends[r]--,0===this.staticDepends[r]&&(cc.loader.release(r),delete this.staticDepends[r]))}},t.prototype.loadDynamicRes=function(t,e,n){return r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return[4,i.default.loadResSync(t,e)];case 1:return r=o.sent(),n||(n=t),this.dynamicDepends[n]||(this.dynamicDepends[n]=[]),this.dynamicDepends[n].push(t),[2,r]}})})},t.prototype.destoryDynamicRes=function(t){if(!this.dynamicDepends[t])return!1;for(var e in this.dynamicDepends)cc.loader.release(this.dynamicDepends[e]);return!0},t.instance=null,t}();n.default=s,cc._RF.pop()},{"./CocosHelper":"CocosHelper","./EventCenter":"EventCenter"}],ScrollViewHelper:[function(t,e,n){"use strict";cc._RF.push(e,"90448z1fXJKVppxfCvCjY6W","ScrollViewHelper");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollViewHelper=n.ScrollViewElementProxy=n.ScrollViewElementProxyState=void 0;var a,s=cc._decorator,c=s.ccclass,u=s.property;(function(t){t[t.NoUI=0]="NoUI",t[t.HaveUI=1]="HaveUI"})(a=n.ScrollViewElementProxyState||(n.ScrollViewElementProxyState={}));var l=function(){this.state=a.NoUI};n.ScrollViewElementProxy=l;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.syncInterval=.05,e._proxys=[],e._syncCounter=0,e._lastCheckX=0,e}return o(e,t),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._svCachedScrollView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"datas",{get:function(){return this._proxys},enumerable:!1,configurable:!0}),e.prototype.clearData=function(){for(var t=0,e=this._proxys;t<e.length;t++){var n=e[t];n.ui&&this.onFreeUI&&this.onFreeUI(n)}this._proxys.length=0},e.prototype.addData=function(t){this._initializeProxy(t),this._proxys.push(t)},e.prototype.setDebug=function(t){t&&!this._debugNode?(this._debugNode=(new cc.Node).addComponent(cc.Graphics),this.scrollView.content.addChild(this._debugNode.node),this._debugNode.node.setPosition(cc.v2(0,0))):!t&&this._debugNode&&(this._debugNode.node.removeFromParent(),this._debugNode.node.destroy()),this._refreshDebug()},e.prototype.checkUI=function(){this._checkUIState(),this._syncingUI=!0},e.prototype.setLoopHorizontal=function(t){if(t!=this._horizontalLoop){if(t){for(var e=this._proxys.length-1;e>=0;e--)if(!(r=this._proxys[e]).horizontalLoop){var n=new l;this._initializeProxy(n),n.src=r.src,n.region=new cc.Rect(r.region.x,r.region.y,r.region.width,r.region.height),n.horizontalLoop=!0,n.verticalLoop=r.verticalLoop,n.region.x+=this.scrollView.content.width,this._proxys.push(n)}this.scrollView.content.setContentSize(2*this.scrollView.content.width,this.scrollView.content.height)}else{for(e=this._proxys.length-1;e>=0;e--){var r;(r=this._proxys[e]).horizontalLoop&&r.ui&&(this.onFreeUI(r),r.ui=null,this._proxys.splice(e,1))}this.scrollView.content.setContentSize(this.scrollView.content.width/2,this.scrollView.content.height)}this._horizontalLoop=t}},e.prototype.onLoad=function(){this._bindScrollView(this.getComponent(cc.ScrollView))},e.prototype.update=function(t){this._syncingUI&&(this._syncCounter+=t,this._syncCounter>=this.syncInterval&&(this._syncCounter=0,this._syncUIState(1)))},e.prototype._initializeProxy=function(t){t.horizontalLoop=!1,t.src=t,t.state=a.NoUI,t.ui=null,t.verticalLoop=!1},e.prototype._checkLoopHorizontal=function(){var t=this.scrollView.getScrollOffset(),e=t.x-this._lastCheckX;if(Math.abs(e)>2){this._lastCheckX=t.x;var n=this.scrollView.content.width/2;e<0&&t.x<-n?(t.x+=n,this._lastCheckX=t.x,t.x=-t.x,this.scrollView.scrollToOffset(t)):e>0&&t.x>0&&(t.x-=n,this._lastCheckX=t.x,t.x=-t.x,this.scrollView.scrollToOffset(t))}},e.prototype._bindScrollView=function(){this._svCachedScrollView=this.getComponent(cc.ScrollView);var t=new cc.Component.EventHandler;t.target=this.node,t.component="ScrollViewHelper",t.handler="_onScroll",this._svCachedScrollView.scrollEvents.push(t),this._svCachedScrollView.node.on(cc.Node.EventType.SIZE_CHANGED,this._refreshViewportRect,this),this._svCachedScrollView.content.on(cc.Node.EventType.ANCHOR_CHANGED,this._refreshViewportRect,this),this._svCachedScrollView.content.on(cc.Node.EventType.SIZE_CHANGED,this._refreshViewportRect,this),this._refreshViewportRect()},e.prototype._refreshViewportRect=function(){this._rectCachedViewport=cc.rect(),this._rectCachedViewport.size=this._svCachedScrollView.node.getContentSize(),this._rectCachedViewport.origin=cc.v2(-this._svCachedScrollView.content.anchorX*this._svCachedScrollView.content.width,(1-this._svCachedScrollView.content.anchorY)*this._svCachedScrollView.content.height-this._rectCachedViewport.size.height),this._checkUIState(),this._syncingUI=!0},e.prototype._checkUIState=function(){for(var t=this._svCachedScrollView.getScrollOffset(),e=this._rectCachedViewport.width,n=this._rectCachedViewport.height,r=-t.x+this._rectCachedViewport.x,o=-t.y+this._rectCachedViewport.y,i=0,s=this._proxys;i<s.length;i++){var c=s[i],u=c.region,l=u.x,h=u.y;l>r-u.width&&l<r+e&&h>o-u.height&&h<o+n?c.state=a.HaveUI:c.state=a.NoUI}},e.prototype._syncUIState=function(t){for(var e=0,n=0,r=this._proxys;n<r.length;n++)(s=r[n]).state==a.NoUI&&s.ui&&(this.onFreeUI(s),e++,this._debugNode&&cc.log("ScrollViewHelper._syncUIState ----\x3e free ui"));for(var o=0,i=this._proxys;o<i.length;o++){var s;if((s=i[o]).state==a.HaveUI&&!s.ui){var c=this.isUIPooled&&this.isUIPooled(s);this.onAllocUI(s),e++,c||t--,this._debugNode&&cc.log("ScrollViewHelper._syncUIState ----\x3e alloc ui")}if(t<=0)break}e<=0&&(this._syncingUI=!1)},e.prototype._onScroll=function(){this._horizontalLoop&&this._checkLoopHorizontal(),this._checkUIState(),this._syncingUI=!0},e.prototype._refreshDebug=function(){if(this._debugNode){this._debugNode.clear(),this._debugNode.fillColor=cc.color(255,0,0,255);for(var t=0;t<this._proxys.length;t++)this._debugNode.fillRect(this._proxys[t].region.x,this._proxys[t].region.y,this._proxys[t].region.width,this._proxys[t].region.height)}},i([u()],e.prototype,"syncInterval",void 0),i([c],e)}(cc.Component);n.ScrollViewHelper=h,cc._RF.pop()},{}],Shake:[function(t,e,n){"use strict";cc._RF.push(e,"50dd1CK5CZDxKf4hgecFu92","Shake");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}var n;return o(e,t),n=e,e.create=function(t,e,r){var o=new n;return o.initWithDuration(t,e,r),o},e.prototype.initWithDuration=function(t,e,n){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=n,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(){var t=this.fgRangeRand(-this._strength_x,this._strength_x),e=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},n=i([s],e)}(cc.ActionInterval));n.default=c,cc._RF.pop()},{}],SocketMgr:[function(t,e,n){"use strict";cc._RF.push(e,"281a6ovqJdHp5/hQMMlz1sF","SocketMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i,a=t("../../UIFrame/NetWork/CWebSocket"),s=t("../../UIFrame/EventCenter"),c=t("./ByteArray"),u=t("./PacketID"),l=t("./MsgC2W"),h=t("./MsgW2C");(function(t){t[t.Closed=0]="Closed",t[t.Connecting=1]="Connecting",t[t.Connected=2]="Connected"})(i||(i={}));var d=function(){function t(){this.cmdDic={},this.state=i.Closed,this.tryTime=4,this.reconnectTimes=0,this.eventHandlers=cc.js.createMap(),this.connectTimer=null,this.isManClose=!1}return t.getInstance=function(){return null==this.instance&&(this.instance=new t,this.instance.initCmdDIc()),this.instance},t.prototype.initCmdDIc=function(){var t=u.default.prototype.constructor;for(var e in t)this.cmdDic[t[e]]=e},t.sendMsgByID=function(e,n){console.log("sendMsgByID pid="+e+" obj="+JSON.stringify(n));var r="Write_"+t.instance.cmdDic[e];l.default[r].call(l.default,n)},t.sendMsg=function(e){t.getInstance().send(e)},t.curState=function(){return this.instance.state},t.isClose=function(){return this.instance.state===i.Closed},t.isOpen=function(){return this.instance.state===i.Connected},t.isConnecting=function(){return this.instance.state===i.Connecting},t.prototype.connect=function(t,e){this.socket||(this.socket=new a.default,this.addEventToSocket()),this.connectOption=t,this.reconnectTimes=e,console.log("connect"),this.socket&&this.state===i.Closed&&this.socket.connect(this.connectOption),this.isManClose=!1,this.state=i.Connecting},t.prototype.close=function(){this.isManClose=!0,this.state=i.Closed,this.socket.close()},t.prototype.send=function(t){if(this.state!==i.Connected)return console.log("\u7f51\u7edc\u672a\u8fde\u63a5\uff01\u65e0\u6cd5\u53d1\u9001\u6570\u636e"),!1;t.writeHead();var e=t.getBuffer();return this.socket.send(e.slice(0,t.getBufferLength()))},t.prototype.addEventToSocket=function(){var e=this;this.socket.onConnect=function(){e.reconnectTimes=e.tryTime,e.state=i.Connected,s.EventCenter.emit("NetWork_Connect",null)},this.socket.onMessage=function(t){var n=new c.default;n.initFromData(t),n.readHead();var r=n.getPacketId();if(console.log("\u6536\u5230\u4e00\u4e2a\u547d\u4ee4:"+r),null!=e.cmdDic[r]){var o=e.eventHandlers[r];if(o)for(var i="Recv_"+e.cmdDic[r],a=h.default[i](n),s=0,u=o;s<u.length;s++){var l=u[s];l.target?l.callback.call(l.target,a):l.callback(a)}else console.log("\u672a\u76d1\u542c\u7684\u547d\u4ee4:"+r)}else console.log("\u672a\u5b9a\u4e49\u7684\u547d\u4ee4:"+r)},this.socket.onClose=function(){var n=this;if(console.log("onClose! self.reconnectTimes="+e.reconnectTimes+" self.isManClose="+e.isManClose),!e.isManClose){if(e.state=i.Closed,0===e.reconnectTimes)return console.log("\u8fde\u63a5\u5173\u95ed\uff01"),void s.EventCenter.emit("ConnectFail");s.EventCenter.emit("Connecting",null),e.reconnectTimes<0||e.reconnectTimes--,e.connectTimer&&clearTimeout(e.connectTimer),e.connectTimer=setTimeout(function(){return r(n,void 0,void 0,function(){return o(this,function(){return clearTimeout(e.connectTimer),t.getInstance().connect(e.connectOption,e.reconnectTimes),[2]})})},6e3)}},this.socket.onError=function(t){console.log("onError"),console.log("err="+t.data),s.EventCenter.emit("ConnectError",t)}},t.onEventHandler=function(e,n,r,o){void 0===o&&(o=!1),t.instance.eventHandlers[e]||(t.instance.eventHandlers[e]=[]),t.instance.eventHandlers[e].push(new _(n,r,o))},t.onceEventHandler=function(t,e,n){this.onEventHandler(t,e,n,!0)},t.offEventHandler=function(e,n,r){var o=t.instance.eventHandlers[e];if(o){for(var i=o.length-1;i>=0;i--)if(o[i]&&o[i].callback===n&&o[i].target===r){o.splice(i,1);break}0===o.length&&this.clearEventHandler[e]}else console.log("\u6ca1\u6709\u8fd9\u4e2a\u547d\u4ee4"+e+"\uff0c\u8bf7\u6ce8\u610f")},t.clearEventHandler=function(e){t.instance.eventHandlers[e]&&(t.instance.eventHandlers[e]=null,delete t.instance.eventHandlers[e])},t.instance=null,t}();n.default=d;var _=function(t,e,n){this.callback=t,this.target=e,this.once=n};cc._RF.pop()},{"../../UIFrame/EventCenter":"EventCenter","../../UIFrame/NetWork/CWebSocket":"CWebSocket","./ByteArray":"ByteArray","./MsgC2W":"MsgC2W","./MsgW2C":"MsgW2C","./PacketID":"PacketID"}],SoundMgr:[function(t,e,n){"use strict";cc._RF.push(e,"712729Tx0JBoI/gunNGv3kP","SoundMgr");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./CocosHelper"),u=t("./config/SysDefine"),l=cc._decorator,h=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioCache=cc.js.createMap(),e.currMusicName="",e.currEffectId=-1,e.currMusicId=-1,e.volume=new _,e}return o(e,t),Object.defineProperty(e,"inst",{get:function(){return null==this._inst&&(this._inst=cc.find(u.SysDefine.SYS_UIROOT_NAME).addComponent(this)),this._inst},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this.getVolumeToLocal();t?this.volume=t:(this.volume.musicVolume=1,this.volume.effectVolume=1),this.setVolumeToLocal(),cc.game.on(cc.game.EVENT_HIDE,function(){cc.audioEngine.pauseAll()},this),cc.game.on(cc.game.EVENT_SHOW,function(){cc.audioEngine.resumeAll()},this)},e.prototype.getVolume=function(){return this.volume},e.prototype.start=function(){},e.prototype.setMusicVolume=function(t){this.volume.musicVolume=t,this.setVolumeToLocal()},e.prototype.setEffectVolume=function(t){this.volume.effectVolume=t,this.setVolumeToLocal()},e.prototype.playMusic=function(t,e){return void 0===e&&(e=!0),a(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return t&&""!==t?this.currMusicName===t?[2]:(this.currMusicName=t,this.audioCache[t]?(cc.audioEngine.playMusic(this.audioCache[t],e),[2]):[4,c.default.loadResSync(t,cc.AudioClip)]):[2];case 1:return n=r.sent(),this.audioCache[t]=n,this.currMusicId=cc.audioEngine.playMusic(n,e),[2]}})})},e.prototype.playEffect=function(t,e){return void 0===e&&(e=!1),a(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return[2];case 1:return n=r.sent(),this.audioCache[t]=n,this.currEffectId=cc.audioEngine.playEffect(n,e),[2]}})})},e.prototype.getVolumeToLocal=function(){var t=cc.sys.localStorage.getItem("Volume_For_Creator");return t?JSON.parse(t):null},e.prototype.setVolumeToLocal=function(){cc.audioEngine.setMusicVolume(this.volume.musicVolume),cc.audioEngine.setEffectsVolume(this.volume.effectVolume),cc.sys.localStorage.setItem("Volume_For_Creator",JSON.stringify(this.volume))},e.prototype.setEffectActive=function(t,e){void 0===e&&(e=-1),t?cc.audioEngine.stop(e<0?this.currEffectId:e):cc.audioEngine.resume(e<0?this.currEffectId:e)},e._inst=null,i([h],e)}(cc.Component));n.default=d;var _=function(){};cc._RF.pop()},{"./CocosHelper":"CocosHelper","./config/SysDefine":"SysDefine"}],SpriteFrameSet:[function(t,e){"use strict";cc._RF.push(e,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});e.exports=n,cc._RF.pop()},{}],SysDefine:[function(t,e,n){"use strict";cc._RF.push(e,"7f8ffNRvZxCz4zNi1L6dBHr","SysDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.SysDefine=n.LangMap=n.BaseUIType=n.UIState=n.ModalOpacity=n.FormType=n.MenuType=void 0,function(t){t[t.Heroes=0]="Heroes",t[t.Skill=1]="Skill",t[t.Market=2]="Market",t[t.Mining=3]="Mining",t[t.Battle=4]="Battle",t[t.Trial=5]="Trial",t[t.Rank=6]="Rank"}(n.MenuType||(n.MenuType={})),function(t){t[t.Menu=0]="Menu",t[t.Screen=1]="Screen",t[t.FixedUI=2]="FixedUI",t[t.PopUp=3]="PopUp",t[t.TopTips=4]="TopTips"}(n.FormType||(n.FormType={})),function(t){t[t.None=0]="None",t[t.OpacityZero=1]="OpacityZero",t[t.OpacityLow=2]="OpacityLow",t[t.OpacityHalf=3]="OpacityHalf",t[t.OpacityHigh=4]="OpacityHigh",t[t.OpacityFull=5]="OpacityFull"}(n.ModalOpacity||(n.ModalOpacity={})),function(t){t[t.None=0]="None",t[t.Loading=1]="Loading",t[t.Showing=2]="Showing",t[t.Hiding=3]="Hiding"}(n.UIState||(n.UIState={})),function(t){t[t["cc.Node"]=0]="cc.Node",t[t["cc.Label"]=1]="cc.Label",t[t["cc.Button"]=2]="cc.Button",t[t["cc.Sprite"]=3]="cc.Sprite",t[t["cc.RichText"]=4]="cc.RichText",t[t["cc.Mask"]=5]="cc.Mask",t[t["cc.MotionStreak"]=6]="cc.MotionStreak",t[t["cc.TiledMap"]=7]="cc.TiledMap",t[t["cc.TiledTile"]=8]="cc.TiledTile",t[t["sp.Skeleton"]=9]="sp.Skeleton",t[t["cc.Graphics"]=10]="cc.Graphics",t[t["cc.Animation"]=11]="cc.Animation",t[t["cc.WebView"]=12]="cc.WebView",t[t["cc.EditBox"]=13]="cc.EditBox",t[t["cc.ScrollView"]=14]="cc.ScrollView",t[t["cc.VideoPlayer"]=15]="cc.VideoPlayer",t[t["cc.ProgressBar"]=16]="cc.ProgressBar",t[t["cc.PageView"]=17]="cc.PageView",t[t["cc.Slider"]=18]="cc.Slider",t[t["cc.Toggle"]=19]="cc.Toggle",t[t.ButtonPlus=20]="ButtonPlus",t[t.UIListView=21]="UIListView",t[t["cc.ToggleGroup"]=22]="cc.ToggleGroup"}(n.BaseUIType||(n.BaseUIType={})),function(t){t.ko="kr",t.ja="jp",t["zh-CN"]="zh-CN",t["zh-TW"]="zh-TW",t.en="en",t.pt="ru",t.fr="fr",t.ru="ru"}(n.LangMap||(n.LangMap={}));var r=function(){function t(){}return t.SYS_PATH_CANVAS="Canvas",t.SYS_PATH_UIFORMS_CONFIG_INFO="UIFormsConfigInfo",t.SYS_PATH_CONFIG_INFO="SysConfigInfo",t.SYS_UIROOT_NAME="Canvas/Scene/UIROOT",t.SYS_UIMODAL_NAME="Canvas/Scene/UIROOT/UIModalManager",t.SYS_UIAdapter_NAME="Canvas/Scene/UIROOT/UIAdapterManager",t.SYS_SCENE_NODE="Scene",t.SYS_UIROOT_NODE="UIROOT",t.SYS_MENU_NODE="Menu",t.SYS_SCREEN_NODE="Screen",t.SYS_FIXEDUI_NODE="FixedUI",t.SYS_POPUP_NODE="PopUp",t.SYS_TOPTIPS_NODE="TopTips",t.SYS_BlOCK_NODE="UIBLOCK",t.SYS_STANDARD_Prefix="$",t.SYS_STANDARD_Separator="$",t.SYS_STANDARD_End="#",t.UI_PATH_ROOT="",t.buttongCLickEffect="",t.panelShowEffect="",t.panelClseEffect="",t.radioBtnEffect="",t}();n.SysDefine=r,cc._RF.pop()},{}],TaskMgr:[function(t,e,n){"use strict";cc._RF.push(e,"10a36aUDJJN8rMs7QsSfiI4","TaskMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.Command=n.CommandType=void 0;var r=t("./Common/Utils/PriorityQueue");n.CommandType||(n.CommandType={});n.Command=function(){};var o=function(){function t(){this._cmdMap=cc.js.createMap(),this._debugHistory=[],this._debug=!1}return Object.defineProperty(t,"inst",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.setDebug=function(t){void 0===t&&(t=!0),this._debug=t},t.prototype.pushCommand=function(t,e,n){void 0===n&&(n=0),this._debug&&this._debugHistory.push(e);var o=this._cmdMap[t];o||(o=this._cmdMap[t]=new r.default),o.enqueue(e,n)},t.prototype.popCommand=function(t){var e=this._cmdMap[t];return e?e.dequeue():null},t.prototype.hasCommand=function(t,e){if(e)return this._cmdMap[e].hasElement(t);for(var n in this._cmdMap)if(this._cmdMap[n].hasElement(t))return!0;return!1},t._instance=null,t}();n.default=o,cc._RF.pop()},{"./Common/Utils/PriorityQueue":"PriorityQueue"}],TextureAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"e0687tDW69CxalPcgT1Omra","TextureAssembler");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Utils/CommonUtils"),a=cc.gfx,s=new a.VertexFormat([{name:a.ATTR_POSITION,type:a.ATTR_TYPE_FLOAT32,num:2},{name:a.ATTR_UV0,type:a.ATTR_TYPE_FLOAT32,num:2},{name:a.ATTR_COLOR,type:a.ATTR_TYPE_UINT8,num:4,normalize:!0}]),c=function(t){function e(){var e=t.call(this)||this;return e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e.indicesArr=[],e._renderData=null,e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e}return o(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.getVfmt=function(){return s},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount)},e.prototype.resetData=function(t){var e=t.polygon;!e||e.length<3||(this.verticesCount=e.length,this.indicesCount=this.verticesCount+2*(this.verticesCount-3),this._renderData.clear(),this.initData())},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var r=this.floatsPerVert,o=this.colorOffset,i=t.polygon,a=0;a<i.length;a++)n[o+a*r]=e}},e.prototype.updateUVs=function(t){for(var e=this.uvOffset,n=this.floatsPerVert,r=this._renderData.vDatas[0],o=i.CommonUtils.computeUv(t.polygon,t.node.width,t.node.height),a=t.polygon,s=0;s<a.length;s++){var c=n*s+e;r[c]=o[s].x,r[c+1]=o[s].y}},e.prototype.updateWorldVertsWebGL=function(t){var e=this._renderData.vDatas[0],n=t.node._worldMatrix.m,r=n[0],o=n[1],i=n[4],a=n[5],s=n[12],c=n[13],u=1===r&&0===o&&0===i&&1===a,l=this.floatsPerVert;if(u)for(var h=t.polygon,d=0;d<h.length;d++)e[d*l]=h[d].x+s,e[d*l+1]=h[d].y+c;else for(h=t.polygon,d=0;d<h.length;d++)e[d*l]=r*h[d].x+i*h[d].y+s,e[d*l+1]=o*h[d].x+a*h[d].y+c},e.prototype.updateWorldVertsNative=function(t){for(var e=this._renderData.vDatas[0],n=this.floatsPerVert,r=t.polygon,o=0;o<r.length;o++)e[o*n]=r[o].x,e[o*n+1]=r[o].y},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateVerts=function(t){this.indicesArr=i.CommonUtils.splitePolygon(t.polygon),this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.resetData(t),this.updateUVs(t),this.updateVerts(t),this.updateColor(t,null),t._vertsDirty=!1)},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,r=n.vDatas[0],o=n.iDatas[0],i=this.getBuffer(),a=i.request(this.verticesCount,this.indicesCount),s=a.byteOffset>>2,c=i._vData;r.length+s>c.length?c.set(r.subarray(0,c.length-s),s):c.set(r,s);for(var u=i._iData,l=a.indiceOffset,h=a.vertexOffset,d=this.indicesArr,_=0;_<o.length;_++)u[l++]=h+d[_]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var r=t._materials[0];r&&r.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=c,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],TexturePlus:[function(t,e,n){"use strict";cc._RF.push(e,"58ad8KR/hRJi7EtoZ+PAyOU","TexturePlus");var r,o,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),cc.renderer.renderEngine,function(t){t[t.Cut=0]="Cut",t[t.Stretch=1]="Stretch"}(o||(o={})),new cc.Vec2,new cc.Mat4;var s=cc._decorator,c=s.ccclass,u=(s.inspector,s.executeInEditMode),l=(s.mixins,s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.Type=o,a([c,u],e)}(cc.RenderComponent));n.default=l,cc._RF.pop()},{}],TouchPlus:[function(t,e,n){"use strict";cc._RF.push(e,"1c88eM+YFpH45yVr93vRF2l","TouchPlus");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=15,e.isTouch=!1,e.isClick=!0,e}return o(e,t),e.prototype.addEvent=function(t,e){this.clickEvent=t,this.slideEvent=e},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},e.prototype.touchStart=function(t){this.isTouch=!0,this.startPosition=t.getLocation()},e.prototype.touchMove=function(t){this.isTouch&&t.getLocation().sub(this.startPosition).mag()>this.offset&&(this.isClick=!1,this.slideEvent&&this.slideEvent(t))},e.prototype.touchEnd=function(t){this.isTouch&&(this.isTouch=!1,this.isClick&&this.clickEvent&&this.clickEvent(t),this.isClick=!0)},e.prototype.touchCancel=function(){this.isTouch&&(this.isTouch=!1,this.isClick=!0)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},i([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],UIBase:[function(t,e,n){"use strict";cc._RF.push(e,"5ba19xmlHJNg4x0oLeSB7Ay","UIBase");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./CocosHelper"),u=t("./UIManager"),l=t("./config/SysDefine"),h=t("./FrameType"),d=t("./AdapterMgr"),_=t("./Binder"),p=cc._decorator,f=p.ccclass,y=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=0,e.menuType=0,e.maskType=new h.MaskType,e.canDestory=!1,e.isNavigator=!1,e.navigatorPanels=[],e.autoBind=!0,e._inited=!1,e.lang="en",e._blocker=null,e}return o(e,t),Object.defineProperty(e,"prefabPath",{get:function(){return(!this._prefabPath||this._prefabPath.length<=0)&&(this._prefabPath=l.SysDefine.UI_PATH_ROOT+c.default.getComponentName(this),cc.log("component name:",c.default.getComponentName(this))),this._prefabPath},set:function(t){this._prefabPath=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"canRecall",{get:function(){return this._canRecall},set:function(t){this._canRecall=t},enumerable:!1,configurable:!0}),e.prototype._preInit=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this._inited?[2]:(this._inited=!0,this.autoBind&&_.default.bindComponent(this),[4,this.load()]);case 1:return t.sent(),this.onInit(),this.lang=cc.sys.localStorage.getItem("lang"),[2]}})})},e.prototype.load=function(){return a(this,void 0,void 0,function(){return s(this,function(){return[2]})})},e.prototype.onInit=function(){},e.prototype.onShow=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onShowAnimCb=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onHide=function(){},e.prototype.onReshow=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.waitPromise=function(){var t=this;return new Promise(function(e){t._cb=function(t){e(t)}})},e.prototype.closeUIForm=function(){return a(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return[4,u.default.getInstance().closeUIForm(this.uid)];case 1:return[2,t.sent()]}})})},e.prototype.showAnimation=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.formType!==l.FormType.PopUp?[3,2]:(this.node.scale=0,[4,c.default.runTweenSync(this.node,cc.tween().to(.3,{scale:1},cc.easeBackOut()))]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.hideAnimation=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.formType!==l.FormType.PopUp?[3,2]:[4,c.default.runTweenSync(this.node,cc.tween().to(.3,{scale:0},cc.easeBackIn()))];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.showMenuAnim=function(t){return void 0===t&&(t=!1),a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.node.stopAllActions(),this.node.opacity=0,this.node.scale=1,this.node.x=t?-150:150,[4,c.default.runTweenSync(this.node,cc.tween().to(.4,{opacity:255,x:0},cc.easeQuadraticActionOut()))];case 1:return e.sent(),[2]}})})},e.prototype.hideMenuAnim=function(t){return void 0===t&&(t=!1),a(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return this.node.stopAllActions(),e=t?150:-150,[4,c.default.runTweenSync(this.node,cc.tween().to(.2,{opacity:0,x:e},cc.easeQuadraticActionIn()))];case 1:return n.sent(),[2]}})})},e.prototype.setBlockInput=function(t){if(!this._blocker){var e=new cc.Node("block_input_events");this._blocker=e.addComponent(cc.BlockInputEvents),this._blocker.node.setContentSize(d.default.inst.visibleSize),this.node.addChild(this._blocker.node,cc.macro.MAX_ZINDEX)}this._blocker.node.active=t},e.prototype.checkNatigatePath=function(t){for(var e=0;e<this.navigatorPanels.length;e++){var n=this.navigatorPanels[e];if(u.default.getPrefedPath(n.prefabPath)==t)return!0}return!1},e._prefabPath="",e._canRecall=!1,i([f],e)}(cc.Component));n.default=y,cc._RF.pop()},{"./AdapterMgr":"AdapterMgr","./Binder":"Binder","./CocosHelper":"CocosHelper","./FrameType":"FrameType","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],UIGameDes:[function(t,e,n){"use strict";cc._RF.push(e,"21d53USe0pDc4RmA0+hUMoi","UIGameDes");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,t("../../../store/indexStore")),u=t("../../../store/observer"),l=t("../../../UIFrame/FrameType"),h=t("../../../UIFrame/indexFrame"),d=t("./../../../UIFrame/UIBase"),_=t("./../../../store/GlobalStore"),p=t("mobx"),f=t("../../../Config/basecfg"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canDestory=!0,e.formType=h.FormType.PopUp,e.maskType=new l.MaskType(h.ModalOpacity.OpacityZero,!1),e.playBtn=null,e.titlelb=null,e.content=null,e.verBox=null,e.horBox=null,e.playBtn2=null,e.titlelb2=null,e.content2=null,e.pageBtns2=null,e.pageBtns=null,e.isVer=!1,e}return o(e,t),e.prototype.onLoad=function(){this.listenEvent()},e.prototype.watchIsInGame=function(){},e.prototype.onShow=function(t){var e=cc.winSize;h.AdapterMgr.inst.adapatByType(h.AdaptaterType.FullScreen,this.node);var n=this.verBox.getComponent(cc.Widget);e.width<e.height?(this.horBox.active=!0,this.verBox.active=!1):(this.isVer=!0,this.horBox.active=!1,this.verBox.active=!0,0==t.side?(n.isAlignRight=!1,n.isAlignLeft=!0,n.left=350):(n.isAlignRight=!0,n.isAlignLeft=!1,n.right=350)),this.renderContent()},e.prototype.start=function(){this.pageBtns.toggleItems.forEach(function(t){t.node.name==_.globalStore.jumpIdx+""&&t.check()}),this.pageBtns2.toggleItems.forEach(function(t){t.node.name==_.globalStore.jumpIdx+""&&t.check()})},e.prototype.renderContent=function(){var t=f.LOCATION_MAP.TODES[_.globalStore.jumpIdx].btnLang;this.isVer?(this.titlelb.string=f.LOCATION_MAP.TODES[_.globalStore.jumpIdx].name,this.content.string=f.LOCATION_MAP.TODES[_.globalStore.jumpIdx].desc,this.playBtn.node.children[0].getComponent(cc.Label).string=t):(this.titlelb2.string=f.LOCATION_MAP.TODES[_.globalStore.jumpIdx].name,this.content2.string=f.LOCATION_MAP.TODES[_.globalStore.jumpIdx].desc,this.playBtn2.node.children[0].getComponent(cc.Label).string=t)},e.prototype.listenEvent=function(){var t=this;this.playBtn.addClick(function(){var t=f.LOCATION_MAP.TODES[_.globalStore.jumpIdx].link;t&&window.open(t)},this),this.playBtn2.addClick(function(){var t=f.LOCATION_MAP.TODES[_.globalStore.jumpIdx].link;t&&window.open(t)},this),this.pageBtns.node.children.forEach(function(e){e.on("toggle",t.btnTypeClicked,t)}),this.pageBtns2.node.children.forEach(function(e){e.on("toggle",t.btnTypeClicked,t)}),this.getComponent(h.ButtonPlus).addClick(function(){t.focusOut(),t.closeUIForm()},this)},e.prototype.btnTypeClicked=function(t){var e=parseInt(t.node.name);_.globalStore.jumpIdx=e,_.globalStore.changeFocus=!0,this.closeUIForm()},e.prototype.focusOut=function(){_.globalStore.foucs=!1},e.prototype.onDestroy=function(){cc.log("onDestroy")},e.prefabPath="popup/UIGameDes",i([h.bindComp("ButtonPlus")],e.prototype,"playBtn",void 0),i([h.bindComp("cc.Label")],e.prototype,"titlelb",void 0),i([h.bindComp("cc.RichText")],e.prototype,"content",void 0),i([h.bindComp("cc.Node")],e.prototype,"verBox",void 0),i([h.bindComp("cc.Node")],e.prototype,"horBox",void 0),i([h.bindComp("ButtonPlus")],e.prototype,"playBtn2",void 0),i([h.bindComp("cc.Label")],e.prototype,"titlelb2",void 0),i([h.bindComp("cc.RichText")],e.prototype,"content2",void 0),i([h.bindComp("cc.ToggleContainer")],e.prototype,"pageBtns2",void 0),i([h.bindComp("cc.ToggleContainer")],e.prototype,"pageBtns",void 0),i([u.reactor(function(){return _.globalStore.isInGame})],e.prototype,"watchIsInGame",null),i([p.action],e.prototype,"btnTypeClicked",null),i([p.action],e.prototype,"focusOut",null),i([s,c.observer],e)}(d.default);n.default=y,cc._RF.pop()},{"../../../Config/basecfg":"basecfg","../../../UIFrame/FrameType":"FrameType","../../../UIFrame/indexFrame":"indexFrame","../../../store/indexStore":"indexStore","../../../store/observer":"observer","./../../../UIFrame/UIBase":"UIBase","./../../../store/GlobalStore":"GlobalStore",mobx:2}],UIListItem:[function(t,e,n){"use strict";cc._RF.push(e,"29a15NUghtJNLkAeW9kD8fB","UIListItem");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../CocosHelper"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isListItem=!1,e.itemType=0,e.itemID=0,e.bindLbNode=null,e.lbArr=[],e.lbStateArr=[],e}var n;return o(e,t),n=e,e.prototype.updateItem=function(t,e){if(this.itemID=t,this.data=e,null!=e&&0==this.itemType&&(this.preRefreshBindLb(),this.dataChanged(),this.refreshBindLb()),0==this.itemType&&null!=this.bindLbNode){var r=this.bindLbNode.getComponent(n);this.lbStateArr=[],this.updateLbStates(this.node,!0),r.updateLb(this.lbArr,this.lbStateArr)}},e.prototype.updateLb=function(t,e){for(var n=0;n<this.lbArr.length;n++){var r=t[n],o=this.lbArr[n];o.string=r.string,o.node.color=r.node.color,o.node.active=e[n]}},e.prototype._initItem=function(){this.getLbArr(this.node),0==this.itemType?this.hideLbs():(this.hideSps(this.node),this.disableButtons(this.node))},e.prototype.getLbArr=function(t,e){void 0===e&&(e=null),null==e&&(e=t);var n=this,r=e.getComponent(cc.Label),o=e.getComponent(cc.RichText);return r?(this.lbArr.push(r),void this.itemType):o?(this.lbArr.push(o),void this.itemType):void e.children.forEach(function(e){n.getLbArr(t,e)})},e.prototype.updateLbStates=function(t,e,n){void 0===n&&(n=null),null==n&&(n=t),1==e&&(e=n.active);var r=this,o=n.getComponent(cc.Label),i=n.getComponent(cc.RichText);o?this.lbStateArr.push(e):i?this.lbStateArr.push(e):n.children.forEach(function(n){r.updateLbStates(t,e,n)})},e.prototype.getLbDatas=function(){var t=[];return this.lbArr.forEach(function(e){t.push(e.string)}),t},e.prototype.showLbs=function(){this.lbArr.forEach(function(t){t.enabled=!0})},e.prototype.hideLbs=function(){this.lbArr.forEach(function(t){t.enabled=!1})},e.prototype.hideSps=function(t){var e=t.getComponent(cc.Sprite);e&&(e.enabled=!1),t.getComponentsInChildren(cc.Sprite).forEach(function(t){t.enabled=!1})},e.prototype.disableButtons=function(t,e){void 0===e&&(e=null),null==e&&(e=t);var n=this,r=e.getComponent(cc.Button);r&&(r.enabled=!1),e.children.forEach(function(e){n.disableButtons(t,e)})},e.prototype.resetNode=function(t,e){void 0===e&&(e=null),null==e&&(e=t);var n=this;e.active=!0,e.children.forEach(function(e){n.resetNode(t,e)})},e.prototype.dataChanged=function(){},e.prototype.preRefreshBindLb=function(){this.showLbs()},e.prototype.refreshBindLb=function(){var t=cc.game.getFrameRate(),e=this;setTimeout(function(){e.hideLbs()},1e3/t)},e.prototype.bindNode=function(t,e){this.bindLbNode=t,0==this.itemType&&null!=this.bindLbNode&&(this.resetNode(this.bindLbNode),this.lbStateArr=[],this.updateLbStates(this.node,!0),e.updateLb(this.lbArr,this.lbStateArr))},e.prototype.onLoad=function(){},e.prototype.start=function(){if(this.isListItem&&0==this.itemType){var t=[this.node];this.bindLbNode&&t.push(this.bindLbNode),this.showAnimation(t)}},e.prototype.showAnimation=function(t){t.forEach(function(t){t.scale=0,a.default.runTweenSync(t,cc.tween().to(.6,{scale:1},cc.easeBackOut()))})},e.prototype.onDestroy=function(){this.bindLbNode=null,this.data=null},n=i([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../CocosHelper":"CocosHelper"}],UIListView:[function(t,e,n){"use strict";cc._RF.push(e,"88085FqD0VGkZIscJ8MlVCn","UIListView");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ItemType=void 0;var c,u=t("../../../utils/indexUtils"),l=t("../../indexFrame"),h=t("./UIListItem"),d=cc._decorator,_=d.ccclass,p=d.property;(function(t){t[t.seprateTxt=1]="seprateTxt",t[t.interateTxt=2]="interateTxt"})(c=n.ItemType||(n.ItemType={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemType=c.interateTxt,e.item=null,e.itemClass="",e.itemNode=null,e.scrollView=null,e.spacingX=0,e.spacingY=0,e.Top=0,e.Left=0,e.Bottom=0,e.Right=0,e.spacing=0,e.spawnCount=0,e.bufferZone=0,e.totalCount=0,e.content=null,e.contentBg=null,e.contentLb=null,e.items=[],e.lbItems=[],e.updateTimer=0,e.updateInterval=0,e.lastContentPosY=0,e.lastContentPosX=0,e.itemDataList=[],e.itemHeight=0,e.itemWidth=0,e.initInl=5,e.rowNum=0,e.seerowCount=0,e.refreshCb=null,e.itemClickCb=null,e.isLoaded=!1,e.needCreatItem=!1,e.needReset=!1,e.isCreating=!1,e.waitingDatas=[],e}return o(e,t),e.prototype.onLoad=function(){this.isLoaded=!0,this.itemNode=cc.instantiate(this.item),this.initContent(),this.items=[],this.updateTimer=0,this.updateInterval=.1,this.lastContentPosY=0,this.itemHeight=this.itemNode.height,this.itemWidth=this.itemNode.width,this.scrollView.vertical?(this.spacing=this.spacingX,this.rowNum=Math.floor((this.scrollView.node.width-this.Left-this.Right+this.spacing)/(this.itemWidth+this.spacing)),0==this.rowNum&&(this.rowNum=1),this.seerowCount=Math.round(this.scrollView.node.height/(this.itemHeight+this.spacingY))+2,this.spawnCount=this.seerowCount*this.rowNum,this.bufferZone=this.scrollView.node.height/2+this.itemHeight+this.spacingY):(this.spacing=this.spacingY,this.rowNum=Math.floor((this.scrollView.node.height-this.Top-this.Bottom+this.spacing)/(this.itemHeight+this.spacing)),0==this.rowNum&&(this.rowNum=1),this.seerowCount=Math.round(this.scrollView.node.width/(this.itemWidth+this.spacingX))+2,this.spawnCount=this.seerowCount*this.rowNum,this.bufferZone=this.scrollView.node.width/2+this.itemWidth+this.spacingX),this.scrollView.node.on("bounce-top",this.onScrollToTop,this),this.scrollView.node.on("bounce-left",this.onScrollToBot,this),this.scrollView.node.on("scrolling",this.onScrolling,this),this.scrollView.node.on("scroll-to-bottom",this.onScrollToBot,this),this.needCreatItem&&(this.needCreatItem=!1,this.createItem(this.needReset),this.needReset=!1)},e.prototype.onItemClick=function(t){var e=t.currentTarget.getComponent(h.default).itemID;this.itemClickCb&&this.itemClickCb(e,this.itemDataList[e])},e.prototype.onScrollToTop=function(){this.refreshCb&&this.refreshCb(0)},e.prototype.onScrollToBot=function(){this.refreshCb&&this.refreshCb(0)},e.prototype.onScrolling=function(){this.scrollView.vertical},e.prototype.setCB=function(t){this.refreshCb=t},e.prototype.setItemClickCb=function(t){this.itemClickCb=t},e.prototype.getData=function(){return this.itemDataList},e.prototype.setData=function(t,e){void 0===e&&(e=!1),this.isCreating?this.waitingDatas.push(t):(this.itemDataList=t.slice(),this.totalCount=this.itemDataList.length,this.scrollView.stopAutoScroll(),this.isLoaded?(this.initContent(),this.createItem(e)):(this.needCreatItem=!0,this.needReset=e))},e.prototype.initContent=function(){if(null==this.content){var t=this.node.getComponent(cc.Widget);t&&t.updateAlignment(),this.content=new cc.Node("content"),this.content.setContentSize(cc.size(this.node.width,this.node.height)),this.content.x=-this.node.width/2,this.content.y=this.node.height/2,this.content.anchorX=0,this.content.anchorY=1,this.scrollView.node.addChild(this.content),this.scrollView.content=this.content,this.contentBg=new cc.Node("contentBg"),this.contentBg.setContentSize(cc.size(this.node.width,this.node.height)),this.contentBg.x=0,this.contentBg.y=0,this.contentBg.anchorX=0,this.contentBg.anchorY=.5,this.content.addChild(this.contentBg),this.itemType==c.seprateTxt&&(this.contentLb=new cc.Node("contentLb"),this.contentLb.setContentSize(cc.size(this.node.width,this.node.height)),this.contentLb.x=0,this.contentLb.y=0,this.contentLb.anchorX=0,this.contentLb.anchorY=.5,this.content.addChild(this.contentLb))}},e.prototype.updataContent=function(t,e){this.content.height=e,this.content.width=t,this.contentBg.height=e,this.contentBg.width=t,this.itemType==c.seprateTxt&&(this.contentLb.height=e,this.contentLb.width=t)},e.prototype.createItem=function(t){return a(this,void 0,void 0,function(){var e,n,r,o,i,a,d,_,p,f,y,v,g,E;return s(this,function(s){switch(s.label){case 0:return this.isCreating?[2]:(this.isCreating=!0,e=Math.ceil(this.totalCount/this.rowNum),n=this.spacingY,this.scrollView.vertical?this.updataContent(this.content.width,e*(this.itemHeight+n)+n+this.Top):(n=this.spacingX,this.updataContent(e*(this.itemWidth+n)+n+this.Left,this.content.height)),r=this.totalCount<this.spawnCount?this.totalCount:this.spawnCount,o=this.items.length,this.items.forEach(function(t){t.active=!1}),this.lbItems.forEach(function(t){t.active=!1}),t?(this.scrollView.vertical?this.scrollView.scrollToTop():this.scrollView.scrollToLeft(),[4,u.Common.sleep(100)]):[3,2]);case 1:s.sent(),s.label=2;case 2:this.enabled=!1,this.scrollView.enabled=!1,i=0,s.label=3;case 3:return i<r?(a=!1,d=0,_=null,p=null,f=Math.floor(i/this.rowNum),y=i%this.rowNum,i>=o?(_=cc.instantiate(this.itemNode),this.itemWidth>this.scrollView.node.width&&(_.width=this.scrollView.node.width-this.Left-this.Right-this.spacing),this.itemHeight>this.scrollView.node.height&&(_.height=this.scrollView.node.height-this.Top-this.Bottom-this.spacing),(v=_.children[0].getComponent(cc.Widget))&&v.updateAlignment(),a=!0,E=_.getComponent(h.default),l.Binder.bindComponent(E),E.isListItem=!0,this.contentBg.addChild(_),_.on(cc.Node.EventType.TOUCH_END,this.onItemClick,this),this.scrollView.vertical?(_.height,this.Top,_.setPosition(this.Left+_.width*(.5+y)+this.spacing*(y+1),-_.height*(.5+f)-n*(f+1)-this.Top)):_.setPosition(this.Left+_.width*(.5+f)+n*(f+1),-_.height*(.5+y)-this.spacing*(y+1)-this.Top),this.items.push(_),d=i,E.updateItem(d,this.itemDataList[d]),this.itemType==c.seprateTxt&&((p=cc.instantiate(_)).removeComponent(h.default),(g=p.addComponent(h.default)).isListItem=!0,g.itemType=1,this.contentLb.addChild(p),this.lbItems.push(p),E._initItem(),g._initItem(),E.bindNode(g.node,g)),[4,u.Common.sleep(this.initInl)]):[3,5]):[3,8];case 4:return s.sent(),[3,6];case 5:_=this.items[i],this.itemType==c.seprateTxt&&(p=this.lbItems[i]),0==(d=_.getComponent(h.default).itemID)&&(d=i),t&&(this.scrollView.vertical?(_.setPosition(this.Left+_.width*(.5+y)+this.spacing*(y+1),-_.height*(.5+f)-n*(f+1)-this.Top),p&&p.setPosition(this.Left+_.width*(.5+y)+this.spacing*(y+1),-_.height*(.5+f)-n*(f+1)-this.Top)):(_.setPosition(this.Left+_.width*(.5+f)+n*(f+1),-_.height*(.5+y)-this.spacing*(y+1)-this.Top),p&&p.setPosition(this.Left+_.width*(.5+f)+n*(f+1),-_.height*(.5+y)-this.spacing*(y+1)-this.Top)),d=i,(E=_.getComponent(h.default)).updateItem(d,this.itemDataList[d])),s.label=6;case 6:if(null==this.itemDataList)return[2];d<this.itemDataList.length?(_.active=!0,this.itemType==c.seprateTxt&&(p.active=!0),a||_.getComponent(h.default).updateItem(d,this.itemDataList[d])):(_.active=!1,this.itemType==c.seprateTxt&&(p.active=!1)),s.label=7;case 7:return i++,[3,3];case 8:return this.enabled=!0,this.scrollView.enabled=!0,this.finishCreateItem(),[2]}})})},e.prototype.finishCreateItem=function(){if(this.isCreating=!1,this.waitingDatas&&this.waitingDatas.length>0){var t=this.waitingDatas.shift();this.setData(t)}},e.prototype.clearAllItem=function(){for(var t=0,e=this.items.length;t<e;t++)this.items[t].destroy();for(this.items.length=0,t=0,e=this.lbItems.length;t<e;t++)this.lbItems[t].destroy();this.lbItems.length=0},e.prototype.getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},e.prototype.update=function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval||this.isCreating)){this.updateTimer=0;var e=this.items,n=this.lbItems,r=this.bufferZone,o=this.scrollView.content.y<this.lastContentPosY,i=this.scrollView.content.y>this.lastContentPosY,a=this.itemHeight;this.scrollView.horizontal&&(o=this.scrollView.content.x<this.lastContentPosX,i=this.scrollView.content.x>this.lastContentPosX,a=this.itemWidth);var s=this.spacingY;this.scrollView.vertical||(s=this.spacingX);for(var u=(a+s)*this.seerowCount,l=0;l<e.length;++l){var h=this.getPositionInView(e[l]),d=!1,_=0;if(o?this.scrollView.vertical?(h.y<-r&&e[l].y+u<0&&(e[l].y=e[l].y+u,this.itemType==c.seprateTxt&&(n[l].y=n[l].y+u),d=!0),_=-this.seerowCount*this.rowNum):(h.x<-r&&e[l].x+u>0&&(e[l].x=e[l].x+u,this.itemType==c.seprateTxt&&(n[l].x=n[l].x+u),d=!0),_=this.seerowCount*this.rowNum):i&&(this.scrollView.vertical?(h.y>r&&e[l].y-u>-this.content.height&&(e[l].y=e[l].y-u,this.itemType==c.seprateTxt&&(n[l].y=n[l].y-u),d=!0),_=this.seerowCount*this.rowNum):(h.x>r&&e[l].x>u&&(e[l].x=e[l].x-u,this.itemType==c.seprateTxt&&(n[l].x=n[l].x-u),d=!0),_=-this.seerowCount*this.rowNum)),d){var p=e[l].getComponent(this.itemClass),f=p.itemID+_;f<0||f>=this.itemDataList.length?(p.node.active=!1,this.itemType==c.seprateTxt&&(this.lbItems[l].active=!1),p.updateItem(f,null)):(p.node.active=!0,this.itemType==c.seprateTxt&&(this.lbItems[l].active=!0),p.updateItem(f,this.itemDataList[f]))}}this.lastContentPosY=this.scrollView.content.y,this.lastContentPosX=this.scrollView.content.x}},e.prototype.scrollToBottom=function(){this.scrollView.scrollToBottom()},e.prototype.scrollToRight=function(){this.scrollView.scrollToRight()},e.prototype.scrollToFixedPosition=function(t,e){void 0===e&&(e=2),cc.log("scrollToFixedPosition"),cc.log(t),this.scrollView.scrollToOffset(t,e,!1)},e.prototype.onDestroy=function(){var t=this;this.items.forEach(function(e){e.off(cc.Node.EventType.TOUCH_END,t.onItemClick,t)}),this.items=[],this.lbItems=[],this.itemClickCb=null,this.refreshCb=null},i([p({type:cc.Enum(c),tooltip:"item\u7c7b\u578b"})],e.prototype,"itemType",void 0),i([p(cc.Prefab)],e.prototype,"item",void 0),i([p(cc.String)],e.prototype,"itemClass",void 0),i([p(cc.ScrollView)],e.prototype,"scrollView",void 0),i([p(cc.Integer)],e.prototype,"spacingX",void 0),i([p(cc.Integer)],e.prototype,"spacingY",void 0),i([p(cc.Integer)],e.prototype,"Top",void 0),i([p(cc.Integer)],e.prototype,"Left",void 0),i([p(cc.Integer)],e.prototype,"Bottom",void 0),i([p(cc.Integer)],e.prototype,"Right",void 0),i([p(cc.Integer)],e.prototype,"initInl",void 0),i([_],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../utils/indexUtils":"indexUtils","../../indexFrame":"indexFrame","./UIListItem":"UIListItem"}],UIMainMenu:[function(t,e,n){"use strict";cc._RF.push(e,"a9a36m+nmFMvb+eb+3BgOVd","UIMainMenu");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,t("../../../store/indexStore")),u=t("../../../store/observer"),l=t("../../../UIFrame/CocosHelper"),h=t("../../../UIFrame/indexFrame"),d=t("./../../../UIFrame/UIBase"),_=t("./../../../utils/common"),p=t("./../../../store/GlobalStore"),f=t("mobx"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=h.FormType.FixedUI,e.isNavigator=!0,e.navigatorPanels=[],e.closebtn=null,e.topbar=null,e.topbarY=375,e.moveY=80,e}return o(e,t),e.prototype.onLoad=function(){this.listenEvent(),console.log("visible size",cc.view.getVisibleSize()),cc.view.setResizeCallback(function(){console.log("frame size",cc.view.getFrameSize())}),this.setInGame()},e.prototype.showTopBar=function(t){var e=this.topbarY+(t?0:this.moveY);l.default.runTweenSync(this.topbar,cc.tween().to(.7,{y:e},cc.easeCubicActionOut()))},e.prototype.watchIsInGame=function(){this.setInGame()},e.prototype.setInGame=function(){this.showTopBar(p.globalStore.isInGame)},e.prototype.onShow=function(){h.AdapterMgr.inst.adapatByType(h.AdaptaterType.FullScreen,this.node)},e.prototype.listenEvent=function(){var t=this;this.closebtn.addClick(function(){_.default.postMsg({action:"inGame",inGame:!1}),t.outGame()},this)},e.prototype.outGame=function(){p.globalStore.isInGame=!1},e.prefabPath="component/UIMainMenu",i([h.bindComp("ButtonPlus")],e.prototype,"closebtn",void 0),i([h.bindComp("cc.Node")],e.prototype,"topbar",void 0),i([u.reactor(function(){return p.globalStore.isInGame})],e.prototype,"watchIsInGame",null),i([f.action],e.prototype,"outGame",null),i([s,c.observer],e)}(d.default);n.default=y,cc._RF.pop()},{"../../../UIFrame/CocosHelper":"CocosHelper","../../../UIFrame/indexFrame":"indexFrame","../../../store/indexStore":"indexStore","../../../store/observer":"observer","./../../../UIFrame/UIBase":"UIBase","./../../../store/GlobalStore":"GlobalStore","./../../../utils/common":"common",mobx:2}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"f18581vC/JBkoXNDtnFIDo4","UIManager");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0});var u=t("./config/SysDefine"),l=t("./ResMgr"),h=t("./ModalMgr"),d=t("./AdapterMgr"),_=t("./SoundMgr"),p=t("./CocosHelper"),f=cc._decorator,y=f.ccclass,v=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._NoMenu=null,e._NoNormal=null,e._NoFixed=null,e._NoPopUp=null,e._NoTips=null,e._blockUI=null,e._StaCurrentUIForms=[],e._MapAllUIForms=cc.js.createMap(),e._MapCurrentShowUIForms=cc.js.createMap(),e._MapIndependentForms=cc.js.createMap(),e._LoadingForm=cc.js.createMap(),e.nowMenu=0,e._currWindowId="",e._currScreenId="",e._currScreenPath="",e._block=0,e}var n;return o(e,t),n=e,Object.defineProperty(e.prototype,"currWindowId",{get:function(){return this._currWindowId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currScreenId",{get:function(){return this._currScreenId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currScreenPath",{get:function(){return this._currScreenPath},enumerable:!1,configurable:!0}),e.getInstance=function(){var t=this;if(null==this.instance){var e=cc.director.getScene().getChildByName("Canvas"),n=e.getChildByName(u.SysDefine.SYS_SCENE_NODE);n||((n=new cc.Node(u.SysDefine.SYS_SCENE_NODE)).group="UI",n.parent=e);var r=new cc.Node(u.SysDefine.SYS_UIROOT_NODE);n.addChild(r),this.canvasWidth=cc.view.getVisibleSize().width;var o=new cc.Node(u.SysDefine.SYS_MENU_NODE),i=(this.menu_mount-1)/2;Object.keys(new Array(this.menu_mount).fill(0)).map(function(e){var n=new cc.Node(u.MenuType[e]+"_box");n.width=t.canvasWidth,n.height=t.canvasHeight,n.x=(Number(e)-i)*t.canvasWidth,o.addChild(n)}),r.addChild(o),r.addChild(new cc.Node(u.SysDefine.SYS_SCREEN_NODE)),r.addChild(new cc.Node(u.SysDefine.SYS_FIXEDUI_NODE)),r.addChild(new cc.Node(u.SysDefine.SYS_POPUP_NODE)),r.addChild(new cc.Node(u.SysDefine.SYS_TOPTIPS_NODE));var a=new cc.Node(u.SysDefine.SYS_BlOCK_NODE);n.addChild(a),a.active=!1,this.instance=cc.find(u.SysDefine.SYS_UIROOT_NAME).addComponent(this),this.instance._blockUI=a,cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){t.instance=null}),_.default.inst}return this.instance},e.prototype.resizeMenu=function(){var t=cc.view.getVisibleSize().width;n.canvasWidth=t;var e=(n.menu_mount-1)/2,r=-(this.nowMenu-e)*t;this._NoMenu.x=r,this._NoMenu.children.map(function(r,o){r.width=t,r.x=(Number(o)-e)*n.canvasWidth})},e.setInputBlock=function(t){n.instance.setInputBlock(t)},e.prototype.setInputBlock=function(t){t?++this._block:--this._block,this._blockUI.active=this._block>0},e.setSkinPath=function(t){return a(this,void 0,void 0,function(){return s(this,function(){return u.SysDefine.UI_PATH_ROOT=t,[2]})})},e.setClzMap=function(t){this._clzMap=t},e.openView=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return a(this,void 0,Promise,function(){var r;return s(this,function(o){switch(o.label){case 0:return[4,(r=n.getInstance()).openUIForm.apply(r,c([n.getPrefedPath(t.prefabPath),t.canRecall],e))];case 1:return[2,o.sent()]}})})},e.openViewWithLoading=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return a(this,void 0,Promise,function(){var r;return s(this,function(o){switch(o.label){case 0:return[4,this.showWaiting()];case 1:return o.sent(),[4,n.openView(t,e)];case 2:return r=o.sent(),[4,this.hideWaiting()];case 3:return o.sent(),[2,r]}})})},e.closeView=function(t){return a(this,void 0,Promise,function(){return s(this,function(e){switch(e.label){case 0:return[4,n.getInstance().closeUIForm(n.getPrefedPath(t.prefabPath))];case 1:return[2,e.sent()]}})})},e.getPrefedPath=function(t){return u.SysDefine.UI_PATH_ROOT+t},e.prototype.onLoad=function(){var t=this;this._NoMenu=this.node.getChildByName(u.SysDefine.SYS_MENU_NODE),this._NoNormal=this.node.getChildByName(u.SysDefine.SYS_SCREEN_NODE),this._NoFixed=this.node.getChildByName(u.SysDefine.SYS_FIXEDUI_NODE),this._NoPopUp=this.node.getChildByName(u.SysDefine.SYS_POPUP_NODE),this._NoTips=this.node.getChildByName(u.SysDefine.SYS_TOPTIPS_NODE),cc.view.setResizeCallback(function(){t.resizeMenu()}),d.default.inst.adapatByType(d.AdaptaterType.FullScreen,this._NoFixed)},e.prototype.start=function(){},e.prototype.getComponentByUid=function(t){return this._MapAllUIForms[t]},e.prototype.loadUIForms=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(this,void 0,void 0,function(){var e,r,o,i;return s(this,function(a){switch(a.label){case 0:e=0,r=t,a.label=1;case 1:return e<r.length?(o=r[e],[4,this.loadFormsToAllUIFormsCatch(n.getPrefedPath(o.prefabPath))]):[3,4];case 2:(i=a.sent())||console.warn(i+"\u6ca1\u6709\u88ab\u6210\u529f\u52a0\u8f7d"),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},e.prototype.openUIForm=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return a(this,void 0,void 0,function(){var r,o;return s(this,function(i){switch(i.label){case 0:if(""===t||null==t)return[2];if(r=!1,this.checkUIFormIsShowing(t)||this.checkUIFormIsLoading(t)){if(!e)return cc.warn(t+"\u7a97\u4f53\u5df2\u7ecf\u5728\u663e\u793a,\u6216\u8005\u6b63\u5728\u52a0\u8f7d\u4e2d!"),[2,null];this.checkUIFormIsShowing(t)&&(r=!0)}return[4,this.loadFormsToAllUIFormsCatch(t)];case 1:if(null==(o=i.sent()))return cc.warn(t+"\u672a\u52a0\u8f7d!"),[2,null];if(r)return o.formType===u.FormType.Menu?this.enterMenu.apply(this,c([t],n)):o.onReshow(n),[2,o];switch(o.uid=t,o.formType){case u.FormType.Menu:return[3,2];case u.FormType.Screen:return[3,4];case u.FormType.FixedUI:return[3,6];case u.FormType.PopUp:return[3,8];case u.FormType.TopTips:return[3,10]}return[3,12];case 2:return[4,this.enterMenu.apply(this,c([t],n))];case 3:return i.sent(),[3,12];case 4:return[4,this.enterUIFormsAndHideOther.apply(this,c([t],n))];case 5:return i.sent(),[3,12];case 6:return[4,this.loadUIToCurrentCache.apply(this,c([t],n))];case 7:return i.sent(),[3,12];case 8:return _.default.inst.playEffect(u.SysDefine.panelShowEffect),[4,this.pushUIFormToStack.apply(this,c([t],n))];case 9:return i.sent(),[3,12];case 10:return[4,this.loadUIFormsToIndependent.apply(this,c([t],n))];case 11:return i.sent(),[3,12];case 12:return[2,o]}})})},e.prototype.closeUIForm=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:if(""==t||null==t)return[2];if(null==(e=this._MapAllUIForms[t]))return[2,!0];switch(e.formType){case u.FormType.Menu:return[3,1];case u.FormType.Screen:return[3,3];case u.FormType.FixedUI:return[3,5];case u.FormType.PopUp:return[3,7];case u.FormType.TopTips:return[3,9]}return[3,11];case 1:return[4,this.exitMenu(t)];case 2:return n.sent(),[3,11];case 3:return[4,this.exitUIFormsAndDisplayOther(t)];case 4:return n.sent(),[3,11];case 5:return[4,this.exitUIForms(t)];case 6:return n.sent(),[3,11];case 7:return _.default.inst.playEffect(u.SysDefine.panelClseEffect),[4,this.popUIForm()];case 8:return n.sent(),[3,11];case 9:return[4,this.exitIndependentForms(t)];case 10:return n.sent(),[3,11];case 11:return e.canDestory&&this.destoryForm(e,t),[2,!0]}})})},e.prototype.loadFormsToAllUIFormsCatch=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return null!=(e=this._MapAllUIForms[t])||this._LoadingForm[t]?[3,2]:(this._LoadingForm[t]=!0,[4,this.loadUIForm(t)]);case 1:e=n.sent(),this._LoadingForm[t]=!1,delete this._LoadingForm[t],n.label=2;case 2:return[2,e]}})})},e.prototype.loadUIForm=function(t){return a(this,void 0,void 0,function(){var e,r,o;return s(this,function(i){switch(i.label){case 0:return""==t||null==t?[2]:[4,l.default.inst.loadForm(t)];case 1:if(!(e=i.sent()))return cc.warn(t+" \u8d44\u6e90\u52a0\u8f7d\u5931\u8d25, \u8bf7\u786e\u8ba4\u8def\u5f84\u662f\u5426\u6b63\u786e"),[2];if(r=cc.instantiate(e),null==(o=r.addComponent(r.name)))return cc.warn(t+" \u6ca1\u6709\u7ed1\u5b9aUIBase\u7684Component"),[2];switch(r.active=!1,o.formType){case u.FormType.Menu:n.getInstance()._NoMenu.children[o.menuType].addChild(r);break;case u.FormType.Screen:n.getInstance()._NoNormal.addChild(r);break;case u.FormType.FixedUI:n.getInstance()._NoFixed.addChild(r);break;case u.FormType.PopUp:n.getInstance()._NoPopUp.addChild(r);break;case u.FormType.TopTips:n.getInstance()._NoTips.addChild(r)}return this._MapAllUIForms[t]=o,[2,o]}})})},e.prototype.clearStackArray=function(){return a(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:if(null==this._StaCurrentUIForms||this._StaCurrentUIForms.length<=0)return[2];t=0,e=this._StaCurrentUIForms,n.label=1;case 1:return t<e.length?[4,e[t].closeUIForm()]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return this._StaCurrentUIForms=[],[2]}})})},e.prototype.closeTopStackUIForm=function(){if(null!=this._StaCurrentUIForms&&this._StaCurrentUIForms.length>=1){var t=this._StaCurrentUIForms[this._StaCurrentUIForms.length-1];t.maskType.clickMaskClose&&t.closeUIForm()}},e.prototype.loadUIToCurrentCache=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return n=null,null!=this._MapCurrentShowUIForms[t]?[2]:null==(n=this._MapAllUIForms[t])?[3,3]:[4,n._preInit()];case 1:return r.sent(),this._MapCurrentShowUIForms[t]=n,n.onShow.apply(n,e),[4,this.showForm(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.pushUIFormToStack=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return null==(n=this._MapAllUIForms[t])?[2]:[4,n._preInit()];case 1:return r.sent(),this._StaCurrentUIForms.push(n),n.node.zIndex=this._StaCurrentUIForms.length,n.onShow.apply(n,e),this._currWindowId=n.uid,h.default.inst.checkModalWindow(this._StaCurrentUIForms),[4,this.showForm(n)];case 2:return r.sent(),n.onShowAnimCb.apply(n,e),[2]}})})},e.prototype.enterMenu=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(this,void 0,void 0,function(){var n,r,o,i,a;return s(this,function(s){switch(s.label){case 0:if(null==(n=this._MapAllUIForms[t]))return[2];for(o in this._NoMenu.active=!0,r=[],this._MapCurrentShowUIForms)r.push(o);i=0,s.label=1;case 1:return i<r.length?(a=r[i],this._MapCurrentShowUIForms[a].isNavigator&&this._MapCurrentShowUIForms[a].checkNatigatePath(t)||this._MapCurrentShowUIForms[a].formType===u.FormType.Menu?(this._MapCurrentShowUIForms[a].formType===u.FormType.Menu&&a!=t&&this._MapCurrentShowUIForms[a].onHide(),[3,4]):[3,2]):[3,5];case 2:return[4,this._MapCurrentShowUIForms[a].closeUIForm()];case 3:s.sent(),s.label=4;case 4:return i++,[3,1];case 5:return[4,n._preInit()];case 6:return s.sent(),this._MapCurrentShowUIForms[t]=n,n.onShow.apply(n,e),[4,this.showForm(n)];case 7:return s.sent(),[2]}})})},e.prototype.enterUIFormsAndHideOther=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(this,void 0,void 0,function(){var n,r,o,i,a,c;return s(this,function(s){switch(s.label){case 0:if(null!=this._MapCurrentShowUIForms[t])return[2];for(r in this._NoMenu.active=!1,n=[],this._MapCurrentShowUIForms)n.push(r);o=0,s.label=1;case 1:return o<n.length?(i=n[o],[4,this._MapCurrentShowUIForms[i].closeUIForm()]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:a=this._StaCurrentUIForms[this._StaCurrentUIForms.length-1],s.label=5;case 5:return a?a.isNavigator&&a.checkNatigatePath(t)?[3,8]:[3,6]:[3,9];case 6:return[4,a.closeUIForm()];case 7:s.sent(),s.label=8;case 8:return a=this._StaCurrentUIForms[this._StaCurrentUIForms.length-1],[3,5];case 9:return null==(c=this._MapAllUIForms[t])?[2]:(d.default.inst.adapatByType(d.AdaptaterType.FullScreen,c.node),[4,c._preInit()]);case 10:return s.sent(),this._MapCurrentShowUIForms[t]=c,c.onShow.apply(c,e),this._currScreenId=c.uid,this._currScreenPath=t,[4,this.showForm(c)];case 11:return s.sent(),[2]}})})},e.prototype.loadUIFormsToIndependent=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return null==(n=this._MapAllUIForms[t])?[2]:[4,n._preInit()];case 1:return r.sent(),this._MapIndependentForms[t]=n,n.onShow.apply(n,e),[4,this.showForm(n)];case 2:return r.sent(),[2]}})})},e.prototype.exitUIForms=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return null==(e=this._MapAllUIForms[t])?[2]:(e.onHide(),[4,this.hideForm(e)]);case 1:return n.sent(),this._MapCurrentShowUIForms[t]=null,delete this._MapCurrentShowUIForms[t],[2]}})})},e.prototype.popUIForm=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this._StaCurrentUIForms.length>=1?((t=this._StaCurrentUIForms.pop()).onHide(),h.default.inst.checkModalWindow(this._StaCurrentUIForms),[4,this.hideForm(t)]):[3,2];case 1:e.sent(),this._currWindowId=this._StaCurrentUIForms.length>0?this._StaCurrentUIForms[this._StaCurrentUIForms.length-1].uid:"",e.label=2;case 2:return[2]}})})},e.prototype.exitMenu=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return""==t||null==t?[2]:null==(e=this._MapCurrentShowUIForms[t])?[2]:(e.onHide(),[4,this.hideForm(e)]);case 1:return n.sent(),this._MapCurrentShowUIForms[t]=null,delete this._MapCurrentShowUIForms[t],[2]}})})},e.prototype.exitUIFormsAndDisplayOther=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return""==t||null==t?[2]:null==(e=this._MapCurrentShowUIForms[t])?[2]:(e.onHide(),[4,this.hideForm(e)]);case 1:return n.sent(),this._MapCurrentShowUIForms[t]=null,delete this._MapCurrentShowUIForms[t],[2]}})})},e.prototype.exitIndependentForms=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return null==(e=this._MapAllUIForms[t])?[2]:(e.onHide(),[4,this.hideForm(e)]);case 1:return n.sent(),this._MapIndependentForms[t]=null,delete this._MapIndependentForms[t],[2]}})})},e.prototype.showForm=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(r){switch(r.label){case 0:return t.node.active=!0,t.formType!==u.FormType.Menu?[3,1]:(this._NoMenu.stopAllActions(),this.nowMenu=t.menuType,e=-(t.menuType-(n.menu_mount-1)/2)*n.canvasWidth,p.default.runTweenSync(this._NoMenu,cc.tween().to(.6,{x:e},cc.easeCubicActionOut())),[3,3]);case 1:return[4,t.showAnimation()];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.hideForm=function(t){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,t.hideAnimation()];case 1:return e.sent(),t.node.active=!1,[2]}})})},e.prototype.destoryForm=function(t,e){l.default.inst.destoryForm(t),this._MapAllUIForms[e]=null,delete this._MapAllUIForms[e]},e.prototype.checkUIFormIsShowing=function(t){var e=this._MapAllUIForms[t];return null!=e&&e.node.active},e.prototype.checkUIFormIsLoading=function(t){return!!this._LoadingForm[t]},e.setWaitingForm=function(t){this.waitingForm=t},e.showWaiting=function(t){if(void 0===t&&(t=""),this.waitingForm){var e={tip:t};n.openView(this.waitingForm,e)}else cc.warn("\u8bf7\u5148\u8bbe\u7f6ewaiting form")},e.hideWaiting=function(){n.closeView(this.waitingForm)},e.setToastForm=function(t){this.toastForm=t},e.showToast=function(t){n.openView(this.toastForm,t)},e.setTipForm=function(t){this.tipForm=t},e.showTip=function(t,e,r,o,i,a,s,c){void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=null),void 0===s&&(s=null),void 0===c&&(c=null);var u=!1;null!=s&&(u=!0);var l={type:t,title:e,content:r,cb:o,btnLb:i,btnIcon:a,showCheck:u,checkCb:s,cancelCb:c};n.openView(this.tipForm,l)},e.setNoticeForm=function(t){this.noticeForm=t},e.showNotice=function(t,e){var r={title:t,content:e};n.openView(this.noticeForm,r)},e.setButtonClickEffect=function(t){u.SysDefine.buttongCLickEffect=t},e.setPanelShowEffect=function(t){u.SysDefine.panelShowEffect=t},e.setPanelCloseEffect=function(t){u.SysDefine.panelClseEffect=t},e.setRadioBtnEffect=function(t){u.SysDefine.radioBtnEffect=t},e._clzMap=null,e.menu_mount=0,e.canvasWidth=1624,e.canvasHeight=750,e.instance=null,n=i([y],e)}(cc.Component));n.default=v,cc._RF.pop()},{"./AdapterMgr":"AdapterMgr","./CocosHelper":"CocosHelper","./ModalMgr":"ModalMgr","./ResMgr":"ResMgr","./SoundMgr":"SoundMgr","./config/SysDefine":"SysDefine"}],UIModalScript:[function(t,e,n){"use strict";cc._RF.push(e,"a6a5a+wskdJZJdS5tPl1qBP","UIModalScript");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./UIManager"),u=t("./config/SysDefine"),l=t("./CocosHelper"),h=cc._decorator,d=h.ccclass,_=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._texture=null,e}return o(e,t),e.prototype.getSingleTexture=function(){if(this._texture)return this._texture;for(var t=new Uint8Array(16),e=0;e<2;e++)for(var n=0;n<2;n++)t[8*e+4*n+0]=255,t[8*e+4*n+1]=255,t[8*e+4*n+2]=255,t[8*e+4*n+3]=255;var r=new cc.Texture2D;return r.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,2,2),r.handleLoadedTexture(),this._texture=r,this._texture},e.prototype.init=function(){var t=this.getSingleTexture(),e=cc.view.getVisibleSize();this.node.height=e.height,this.node.width=e.width,this.node.addComponent(cc.Button),this.node.on("click",this.clickMaskWindow,this);var n=this.node.addComponent(cc.Sprite);n.sizeMode=cc.Sprite.SizeMode.CUSTOM,n.spriteFrame=new cc.SpriteFrame(t),this.node.color=new cc.Color(0,0,0),this.node.opacity=0,this.node.active=!0},e.prototype.showModal=function(t,e,n){return void 0===e&&(e=.6),void 0===n&&(n=!0),a(this,void 0,void 0,function(){var r;return s(this,function(o){switch(o.label){case 0:switch(r=0,t){case u.ModalOpacity.None:this.node.active=!1;break;case u.ModalOpacity.OpacityZero:r=0;break;case u.ModalOpacity.OpacityLow:r=63;break;case u.ModalOpacity.OpacityHalf:r=126;break;case u.ModalOpacity.OpacityHigh:r=189;break;case u.ModalOpacity.OpacityFull:r=255}return this.node.active?n?[4,l.default.runTweenSync(this.node,cc.tween().to(e,{opacity:r}))]:[3,2]:[2];case 1:return o.sent(),[3,3];case 2:this.node.opacity=r,o.label=3;case 3:return[2]}})})},e.prototype.clickMaskWindow=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return(t=c.default.getInstance().getComponentByUid(this.uid))&&t.maskType.clickMaskClose?[4,c.default.getInstance().closeUIForm(this.uid)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},i([d],e)}(cc.Component));n.default=_,cc._RF.pop()},{"./CocosHelper":"CocosHelper","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],basecfg:[function(t,e,n){"use strict";cc._RF.push(e,"388a4jjHf5EV66p2ya/34dv","basecfg"),Object.defineProperty(n,"__esModule",{value:!0}),n.LOCATION_MAP=void 0;var r="https://www.mobox.io/home/#/";(function(t){t[t.TODES={1:{btnLang:"Trade Now",link:r+"iframe/momo?path=market&tab=0",name:"NFT Marketplace",desc:"The MOMO NFT Marketplace is your one stop shop on all things MOMO. This is a decentralized marketplace that allows users to buy, sell and rent their MOMO\u2019s. Users are also able to buy & sell a wide range of other items such as the NFT Mystery Boxes, MEC (MOMO Enhancement Crystals) and GEMs."},2:{btnLang:"Play Now",link:r+"iframe/tokenmaster",name:"Token Master",desc:"Put your MOMOs to work in this casual turn-based idle game. Select three MOMO NFT\u2019s and challenge your friends and foes to collect as much gold as possible. At the end of each season if you hold a place on the leaderboards you can win MBOX and MEC rewards.Each Season in Token Master lasts 1 week, so be quick and join in for your piece of the action."},3:{btnLang:"Play Now",link:r+"iframe/momo",name:"NFT Farmer",desc:"In NFT Farmer users can stake MBOX/BNB LPs into the MOBOX Crates to farm MBOX tokens. With the MBOX tokens users receive, they can stake them as veMBOX which unlocks a wide range of weekly raffle draws where they have a chance to win Mystery Boxes containing random NFTs."},4:{btnLang:"Coming Soon",link:"",name:"Governance/DAO",desc:"The Governance of the MOBOX platform is done via our MBOX token (veMBOX). To obtain  the MOBOX platform Governance token veMBOX, users must stake their MBOX tokens for a selected period of time. In addition to this MOBOX Governance token holders have the right to submit and vote on proposals on the MOMOverse. "},5:{btnLang:"Learn More",link:"https://faqen.mobox.io/",name:"MOversity",desc:"The MOMOverse Library is your one stop shop on all things MOMOverse. Here you will be able to read the FAQ\u2019s, Whitepaper, Guides to the MOMOverse and to the Games available to play."},6:{btnLang:"Play Now",link:r+"block-brawler",name:"Block Brawler",desc:"Block Brawler is an RPG game developed by team MOBOX, that focuses on battle strategy. Collect and smelt equipment sets, match skills and talents, and create the perfect strategy to defeat your friends and BOSSes. The Season in Block Brawler lasts for 2 weeks. Play & Strategise NOW ! "},7:{btnLang:"Coming Soon",link:"",name:"MOland",desc:"MOland is an evergreen land in the space of MOMOverse. A land waiting to be discovered,  where you can let your imagination take you on a wild adventure. Build a space for your uniquely designed avatar ,create and explore the land, meet new friends, enjoy games, join Quests, Battle and wander the wonders that is MOland all at your own pace.  Are you ready to  immerse yourself into this space whilst enjoying all that MOBOX.io has to offer and more? "},8:{btnLang:"Coming Soon",link:"",name:"ChainZArena",desc:"At ChainZ Arena we have designed unique gameplay never before seen in blockchain games. ChainZ Arena is the first ever cross blockchain  and cross platform idle RPG game, giving players a unique gaming experience. From battle quests to arena gameplay, players will have their hands full exploring the ChainZ Arena World."}}]="TODES"})(n.LOCATION_MAP||(n.LOCATION_MAP={})),cc._RF.pop()},{}],common:[function(t,e,n){"use strict";cc._RF.push(e,"301f7ef8vFKU4VluZgJx1BK","common");var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(){}return t.postMsg=function(t){window.parent.postMessage(r({from:"avatargame",action:"inGame"},t),"*")},t.sleep=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return[2,new Promise(function(e){return setTimeout(e,t)})]})})},t.setNodeImg=function(t,e,n){void 0===n&&(n=null),cc.loader.loadRes("texture/"+t,cc.SpriteFrame,function(t,r){t?cc.error(t.message||t):e&&e.isValid&&(e.getComponent(cc.Sprite).spriteFrame=r,n&&n())})},t}();n.default=a,cc._RF.pop()},{}],httpNet:[function(t,e){"use strict";cc._RF.push(e,"bfdc8GMGeBLcpocNyM0v8Zo","httpNet"),cc._RF.pop()},{}],indexFrame:[function(t,e,n){"use strict";cc._RF.push(e,"592b4Joi9RLd59k9cbKhfuw","indexFrame"),Object.defineProperty(n,"__esModule",{value:!0}),n.CommonUtils=n.ButtonDropdownList=n.AdaptaterType=n.AdapterMgr=n.UIListView=n.UIListItem=n.Binder=n.SysDefine=n.LangMap=n.BaseUIType=n.UIState=n.FormType=n.ModalOpacity=n.UIBase=n.UIManager=n.EventInfo=n.ButtonPlus=n.EventCenter=n.bindComp=void 0;var r=t("./config/SysDefine");Object.defineProperty(n,"FormType",{enumerable:!0,get:function(){return r.FormType}}),Object.defineProperty(n,"ModalOpacity",{enumerable:!0,get:function(){return r.ModalOpacity}}),Object.defineProperty(n,"UIState",{enumerable:!0,get:function(){return r.UIState}}),Object.defineProperty(n,"BaseUIType",{enumerable:!0,get:function(){return r.BaseUIType}}),Object.defineProperty(n,"LangMap",{enumerable:!0,get:function(){return r.LangMap}}),Object.defineProperty(n,"SysDefine",{enumerable:!0,get:function(){return r.SysDefine}});var o=t("./EventCenter");Object.defineProperty(n,"EventCenter",{enumerable:!0,get:function(){return o.EventCenter}});var i=t("./EventInfo");Object.defineProperty(n,"EventInfo",{enumerable:!0,get:function(){return i.EventInfo}});var a=t("./Common/Components/ButtonPlus");n.ButtonPlus=a.default;var s=t("./UIManager");n.UIManager=s.default;var c=t("./UIBase");n.UIBase=c.default;var u=t("./Binder");n.Binder=u.default;var l=t("./Common/Components/UIListItem");n.UIListItem=l.default;var h=t("./Common/Components/UIListView");n.UIListView=h.default;var d=t("./Common/Components/ButtonDropdownList");n.ButtonDropdownList=d.default;var _=t("./Common/Utils/CommonUtils");Object.defineProperty(n,"CommonUtils",{enumerable:!0,get:function(){return _.CommonUtils}});var p=t("./AdapterMgr");n.AdapterMgr=p.default,Object.defineProperty(n,"AdaptaterType",{enumerable:!0,get:function(){return p.AdaptaterType}}),n.bindComp=function(t){return function(e,n){e.bindNodes||(e.bindNodes={}),e.bindNodes[n]=t}},cc._RF.pop()},{"./AdapterMgr":"AdapterMgr","./Binder":"Binder","./Common/Components/ButtonDropdownList":"ButtonDropdownList","./Common/Components/ButtonPlus":"ButtonPlus","./Common/Components/UIListItem":"UIListItem","./Common/Components/UIListView":"UIListView","./Common/Utils/CommonUtils":"CommonUtils","./EventCenter":"EventCenter","./EventInfo":"EventInfo","./UIBase":"UIBase","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],indexPrefab:[function(t,e,n){"use strict";cc._RF.push(e,"4ac17UMylhPa5+BH7N2849j","indexPrefab"),Object.defineProperty(n,"__esModule",{value:!0}),n.UIGameDes=n.UIMainMenu=void 0;var r=t("./panels/component/UIMainMenu");n.UIMainMenu=r.default;var o=t("./panels/popup/UIGameDes");n.UIGameDes=o.default,cc._RF.pop()},{"./panels/component/UIMainMenu":"UIMainMenu","./panels/popup/UIGameDes":"UIGameDes"}],indexStore:[function(t,e,n){"use strict";cc._RF.push(e,"f8067A0dWZB74w9Yvfjd23u","indexStore"),Object.defineProperty(n,"__esModule",{value:!0}),n.globalStore=n.Store=n.react=n.reactor=n.render=n.observer=void 0;var r=t("./observer");Object.defineProperty(n,"observer",{enumerable:!0,get:function(){return r.observer}}),Object.defineProperty(n,"render",{enumerable:!0,get:function(){return r.render}}),Object.defineProperty(n,"reactor",{enumerable:!0,get:function(){return r.reactor}}),Object.defineProperty(n,"react",{enumerable:!0,get:function(){return r.react}});var o=t("./GlobalStore");Object.defineProperty(n,"globalStore",{enumerable:!0,get:function(){return o.globalStore}});var i=function(){function t(){}return t.init=function(){o.globalStore.init()},t.reset=function(){o.globalStore.reset()},t}();n.Store=i,cc._RF.pop()},{"./GlobalStore":"GlobalStore","./observer":"observer"}],indexUtils:[function(t,e,n){"use strict";cc._RF.push(e,"f6f86/tk1VBtpKdhFvL37FW","indexUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorCode=n.SocketMgr=n.PacketID=n.Common=n.NativeMgr=void 0;var r=t("./NativeMgr");n.NativeMgr=r.default;var o=t("./common");n.Common=o.default;var i=t("./ws/PacketID");n.PacketID=i.default;var a=t("./ws/SocketMgr");n.SocketMgr=a.default;var s=t("./ws/ErrorCode");n.ErrorCode=s.default,cc._RF.pop()},{"./NativeMgr":"NativeMgr","./common":"common","./ws/ErrorCode":"ErrorCode","./ws/PacketID":"PacketID","./ws/SocketMgr":"SocketMgr"}],observer:[function(t,e,n){"use strict";cc._RF.push(e,"b16a6snCqJOA5mWgKrvB2Gz","observer");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.react=n.reactor=n.render=n.observer=void 0;var i=t("mobx"),a=t("mobx");cc.sys.isBrowser&&(window.mobx=a),a.configure({enforceActions:"observed"}),n.observer=function(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disposer=[],e}return o(e,t),e.prototype.onLoad=function(){var e,n,r=this;t.prototype.onLoad&&t.prototype.onLoad.call(this),0==this._disposer.length&&(this._autorun&&(e=this._disposer).push.apply(e,this._autorun.map(function(t){return i.autorun(r[t].bind(r))})),this._reaction&&(n=this._disposer).push.apply(n,this._reaction.map(function(t){return r[t]()})))},e.prototype.onDestroy=function(){t.prototype.onDestroy&&t.prototype.onDestroy.call(this),this._disposer&&this._disposer.forEach(function(t){return t()}),this._disposer.length=0},e.prototype.onHide=function(){t.prototype.onHide&&t.prototype.onHide.call(this),this._disposer&&this._disposer.forEach(function(t){return t()}),this._disposer.length=0},e.prototype.onShow=function(){for(var e,n,r=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t.prototype.onShow&&t.prototype.onShow.apply(this,o),0==this._disposer.length&&(this._autorun&&(e=this._disposer).push.apply(e,this._autorun.map(function(t){return i.autorun(r[t].bind(r))})),this._reaction&&(n=this._disposer).push.apply(n,this._reaction.map(function(t){return r[t]()})))},e}(t)},n.render=function(t,e){var n=t._autorun;n||(n=t._autorun=[]),n.push(e)},n.reactor=function(){return 3===arguments.length?s(arguments[0],arguments[1],arguments[2]):c(arguments[0])};var s=function(t,e){var n=t._reaction;n||(n=t._reaction=[]),n.push(e)},c=function(t){return function(e,n,r){var o=e._reaction;o||(o=e._reaction=[]),o.push(n);var i=r.value;r.value=function(){return a.reaction(t.bind(this),i.bind(this))}}};n.react=function(t,e){return a.reaction(t,e,{fireImmediately:!0})},cc._RF.pop()},{mobx:2}],"polyglot.min":[function(t,e,n){"use strict";cc._RF.push(e,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min"),function(t,r){"function"==typeof define&&define.amd?define([],function(){return r(t)}):"object"==typeof n?e.exports=r(t):t.Polyglot=r(t)}(void 0,function(t){function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||c}function n(t){var e,n,r,o={};for(e in t)if(t.hasOwnProperty(e))for(r in n=t[e])o[n[r]]=e;return o}function r(t){return t.replace(/^\s+|\s+$/g,"")}function o(t,e,n){var o;return null!=n&&t?r((o=t.split(l))[a(e,n)]||o[0]):t}function i(t){var e=n(d);return e[t]||e.en}function a(t,e){return h[i(t)](e)}function s(t,e){for(var n in e)"_"!==n&&e.hasOwnProperty(n)&&(t=t.replace(new RegExp("%\\{"+n+"\\}","g"),e[n]));return t}function c(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function u(t){var e={};for(var n in t)e[n]=t[n];return e}e.VERSION="0.4.3",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],e&&(r=e+"."+r),"object"==typeof n?this.extend(n,r):this.phrases[r]=n)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var n,r;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:this.allowMissing?n=t:(this.warn('Missing translation for key: "'+t+'"'),r=t),"string"==typeof n&&(e=u(e),r=s(r=o(n,this.currentLocale,e.smart_count),e)),r},e.prototype.has=function(t){return t in this.phrases};var l="||||",h={chinese:function(){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},d={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e}),cc._RF.pop()},{}]},{},["basecfg","Constants","Camera","Main","AdapterMgr","Binder","BroadCast","CocosHelper","TextureAssembler","ButtonDropdownList","ButtonPlus","CameraCapture","ColorAssembler2D","DrawBorad","GridScrollList","MaskPlus","ResHelper","ScrollViewHelper","Shake","TexturePlus","TouchPlus","UIListItem","UIListView","GameConfig","BigNumUtils","CommonUtils","DebugWindowUtils","DrawingBoard","EnumUtils","GlobalHelper","MatchUtils","Pool","PriorityQueue","Queue","EventCenter","EventInfo","EventType","FrameType","ModalMgr","CWebSocket","NetInterface","ResMgr","SoundMgr","TaskMgr","UIBase","UIManager","UIModalScript","SysDefine","indexFrame","BuildingBtn","indexPrefab","UIMainMenu","UIGameDes","GlobalStore","indexStore","observer","NativeMgr","common","httpNet","indexUtils","ByteArray","CommEnum","ErrorCode","MsgC2W","MsgW2C","PacketID","ProtocolInfo","SocketMgr","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);